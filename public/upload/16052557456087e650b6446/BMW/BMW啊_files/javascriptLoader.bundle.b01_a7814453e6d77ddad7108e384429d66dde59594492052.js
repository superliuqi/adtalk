var rlAddVinToMyVehicleFS=function(){function A(B,G){var C=CoreFormsBase.inheritanceFrom(rlFormFieldSet.createFS(B,G));var F=C.parent;C.typeName="rlAddVinToMyVehicleFS";var E=B.find("#"+G.fsId+"_vin");function D(){function H(){if(C.vgModelHelper.isVGModelVisible()){C.vgModelHelper.hideVGModelSection()}}if(rlGlobalConfig.isManualVinMapping&&!rlPage.isEditMode()){E.keyup(H);E.change(H)}}C.vgModelHelper=rlVgModelHelper.create(B,{formEvents:C.formEvents,fsId:G.fsId});C.init=function(){F.init();C.vgModelHelper.initVGModelListener();D()};return C}return{__init__:function(){},__start__:function(){},createFS:function(B,C){return A(B,C)}}}();var rlBreadcrumb=function(){function B(L,H,F,I,K,J){if(!L){return undefined}var G=jq("<li>");var E=jq("<a>");if(I){E.addClass("linkArrow13pxActive")}else{E.addClass("linkArrow13px")}if(L==="..."){E.addClass("ellipsis")}if(J){E.attr("title",J);E.attr("alt",J)}G.append(E);E.text(L).attr("href","#");if(F){jq(E).click(function(M){M.preventDefault();F()})}else{if(H){E.attr("href",H)}else{jq(E).click(function(M){M.preventDefault()})}}return G}function A(){var E=[];jq(".breadcrumbItems a").each(function(G,I){var F=jq(I);var H={title:F.text(),url:F.attr("href")};E.push(H)});return E}function C(E){jq(".breadcrumbItems li").not(":first").remove();itemsE=jq(".breadcrumbItems");for(var F=0;F<E.length;F++){var H=E[F];var G=false;var J=F==0?true:false;if(F+1===E.length){G=true}var I=B(H.title,H.url,H.clickhandler,G,J,H.tooltip);itemsE.append(I)}}function D(E){function F(K){var J=jq(".breadcrumbItems").clone();J.find("li").not(":first").remove();jq.each(K,function(N,M){var P=(N===0);var L=(N===K.length-1);var O=B(M.title,M.url,M.clickhandler,L,P,M.tooltip);if(O){J.append(O)}});return J}function I(K){for(var J=1;J<K.length;J++){if(K[J].title!=="..."){return J}}return -1}function G(K){if(H(K)){var J=I(K);if(J>0){K[J]={tooltip:K[J].title,title:"..."};G(K)}}}function H(M){var J=jq("<div/>").attr("id","breadcrumbDynamicOffScreenRendering").css({left:"-99999px",position:"absolute"});J.append(F(M));jq("body").append(J);var K=jq(".breadcrumbItems").width();var L=(J.width()>K);jq("#breadcrumbDynamicOffScreenRendering").remove();return L}G(E);rlBreadcrumb.setBreadcrumb(E)}return{__init__:function(){},getBreadcrumb:function(){return A()},setBreadcrumb:function(E){C(E)},setBreadcrumbFittedToContentWidth:function(E){D(E)}}}();var rlBreadcrumbDynamic=function(){var initialBreadcrumb=[];function init(){initialBreadcrumb=rlBreadcrumb.getBreadcrumb()}function render(){var jqEntryPoint=findBreadcrumbLeafNode();if(jqEntryPoint){renderBreadcrumb(jqEntryPoint)}}function findBreadcrumbLeafNode(){var ret=undefined;jq("[data-dynamicBreadCrumbContributor]").filter(":visible").each(function(){if(jq(this).find("[data-dynamicBreadCrumbContributor]").filter(":visible").size()==0){ret=jq(this);return false}});return ret}function renderBreadcrumb(jqDom){var breadcrumbSuffix=[];var contributorsList=getBreadcrumbContributors(jqDom);jq.each(contributorsList,function(){var controllerName=jq(this).attr("data-dynamicBreadCrumbContributor");if(controllerName){var controller=undefined;try{eval("controller = "+controllerName+";")}catch(e){console.error(e.message)}if(controller){var controllerBreadcrumbEntries=controller.getBreadcrumbEntries(jq(this));if(controllerBreadcrumbEntries){breadcrumbSuffix=breadcrumbSuffix.concat(controllerBreadcrumbEntries)}}}});var fullBreadcrumb=buildBreadcrumb(breadcrumbSuffix);rlBreadcrumb.setBreadcrumbFittedToContentWidth(fullBreadcrumb)}function getBreadcrumbContributors(jqDom){var contributorsList=[];contributorsList.push(jqDom);jqDom.parents("[data-dynamicBreadCrumbContributor]").each(function(){contributorsList.push(jq(this))});contributorsList=contributorsList.reverse();return contributorsList}function buildBreadcrumb(breadcrumbSuffix){if(breadcrumbSuffix){breadcrumbSuffix=removeDuplicateBreadcrumbElements(breadcrumbSuffix);var fullBreadcrumb=initialBreadcrumb.slice(0);fullBreadcrumb=fullBreadcrumb.concat(breadcrumbSuffix)}return fullBreadcrumb}function removeDuplicateBreadcrumbElements(breadcrumbArray){if(breadcrumbArray.length<=1){return breadcrumbArray}var uniqueBreadcrumbArray=[];uniqueBreadcrumbArray.push(breadcrumbArray[0]);for(var i=1;i<breadcrumbArray.length;i++){var breadcrumbPrevEl=(breadcrumbArray[i-1].title)?jq.trim(breadcrumbArray[i-1].title).toLowerCase():null;var breadcrumbEl=(breadcrumbArray[i].title)?jq.trim(breadcrumbArray[i].title).toLowerCase():null;if(breadcrumbEl!==null&&breadcrumbEl!==breadcrumbPrevEl){uniqueBreadcrumbArray.push(breadcrumbArray[i])}}return uniqueBreadcrumbArray}return{__init__:function(){init()},__start__:function(){},render:function(){render()}}}();var rlCaptcha=function(){var A;function B(){rlCoreServices.fillCaptchaImage("recaptcha_image");jq("#recaptcha_response_field").attr("value","");if(typeof A!="undefined"){A()}}return{__init__:function(){},__start__:function(){B()},reload:function(){B()},registerReloadCallback:function(C){A=C}}}();var rlContextLayerParser=function(){function A(H){var E="";var D="";var B=null;if(H){for(var C=0;C<H.length;C++){if(H[C][0]=="header"&&H[C][1].length>0){D='<div class="contextLayerContentHeadline">'+H[C][1]+"</div>"}else{if(H[C][0]=="link"){var G=""+H[C][3]=="true"?' target="_blank" ':"";D='<div class="contextLayerContentText"><a href="'+H[C][2]+'" '+G+' class="linkArrow13px">'+H[C][1]+"</a></div>"}else{if(H[C][0]=="disclaimer"){if(H[C][1].length>0){D='<div class="contextLayerContentHeadline">'+H[C][1]+"</div>"}D+='<div class="contextLayerContentText">'+H[C][2]+"</div>"}else{B++;D="";if(B==1){D+='<div class="contextLayerContentList">'}D+='<div class="contextLayerContentKeyValue key'+H[C][0]+'"><div class="contextLayerContentKey ';var F=H[C][3];if(F!=undefined&&F!="nospecificfontsize"){D+="contextLayerContentKeyValueFont"+F+'">'}else{D+='">'}D+=H[C][1];D+='</div><div class="contextLayerContentValue ';if(F!=undefined&&F!="nospecificfontsize"){D+="contextLayerContentKeyValueFont"+F+'">'}else{D+='">'}D+=H[C][2];D+="</div></div>";if(C==H.length-1||H[C+1][0]=="header"||H[C+1][0]=="disclaimer"){D+="</div>";B=0}}}}E+=D}}return E}return{__init__:function(){},parse:A}}();var rlCurrentVehicleDetailsFS=function(){function A(B,G){var C=CoreFormsBase.inheritanceFrom(rlVehicleDetailsFS.createFS(B,G));var E=C.parent;C.typeName="rlCurrentVehicleDetailsFS";C.setData=function(I){var J=B.find(".vinrow").is(":visible");var H=(I&&I.currentVehicle&&I.currentVehicle.vin);E.setData(I);if(!J&&H){B.find(".fieldSetViewMode .vinrow").hide().fadeIn()}else{if(J&&!H){B.find(".fieldSetViewMode .vinrow").show().fadeOut()}}if(H){B.find(".fieldSetEditMode .vinrow").show()}else{B.find(".fieldSetEditMode .vinrow").hide()}if(rlPage.isEditMode()||rlPage.isDesignMode()){B.find(".vinrow").show()}};C.getEditedData=function(H){H=E.getEditedData(H);H&&H.currentVehicle&&delete H.currentVehicle.defaultFreeTextNote;return H};function F(){B.find("[data-field]").each(function(H,J){J=jq(J);var I=J.attr("data-field").replace("vehicle.bmwVIN","currentVehicle.vin").replace("vehicle.","currentVehicle.");J.attr("data-field",I)})}function D(){B.find(".bsmrow").not(".vinrow").remove()}F();D();rlCoreServices.addLoggedOutListener(function(){jq(".currentVehicleDetailsForm").hide()});return C}return{__init__:function(){},__start__:function(){},createFS:function(B,C){return A(B,C)}}}();var rlDealerIframeBox=function(){return{__start__:function(){},__init__:function(){}}}();var rlEmailForm=function(){return{__start__:function(){},__init__:function(){}}};var rlEngineItem=function(){return{__init__:function(){},__start__:function(){}}}();var rlLargeTeaserSwitch=function(){var J=null;var I=null;var F=null;var M=null;var E=[0];function K(){return M.text()==1}function L(O){M.text(O);if(O===1){G()}}function H(){var O=J.has(":visible");if(O.next(".stageLargeTeaserContainerElement").size()===0){O.hide();J.first().show()}else{O.hide().next().show()}B();N()}function C(){var O=J.has(":visible");if(O.prev(".stageLargeTeaserContainerElement").size()===0){O.hide();J.last().show()}else{O.hide().prev().show()}B();N()}function B(){var O=jq(".stageLargeTeaserContainerElement:visible").index();if(jq.inArray(O,E)<0){E.push(O);rlTeaserTracking.updateSelector(".stageLargeTeaserContainerElement:visible")}}function N(){imageIndex=J.has(":visible").index()+1;var O=I.replace(/%{cur}/,imageIndex).replace(/%{total}/,J.size());jq(".largeTeaserSwitchControlImageIndex").text(O)}function A(){if(document.images){var O=new Array;J.find(".backgroundImageImage").not(":first").each(function(R){var Q=/url\(|\)|"|'/g;var P=jq(this).css("background-image").replace(Q,"");O[R]=new Image();O[R].src=P});jq(window).trigger("largeTeaserStartSlidehow")}}function D(){if(K()){H()}return false}function G(){if(K()){setTimeout(function(){D();G()},F)}}return{__init__:function(){J=jq(".stageLargeTeaserContainer > .stageLargeTeaserContainerElement");I=jq(".stageLargeTeaserContainer .largeTeaserSwitchControlImageIndex").text();if(J.size()<=1){return }M=jq(".stageLargeTeaserContainerPlay");F=jq(".stageLargeTeaserContainerAutoplay").text();N();jq(window).bind(rlComponentLoader.getPageReadyTriggerName(),function(){A()});jq(window).bind("largeTeaserStartSlidehow",function(){jq(".largeTeaserSwitch").show();if(F>0){L(1);jq(".largeTeaserSwitchControlPlayPause").show()}});jq(".largeTeaserSwitchControlPlayPause .spriteIconControlPlayMedium").click(function(){L(1);jq(".largeTeaserSwitchControlPlayPause .spriteIconControlPauseMedium").show();jq(this).hide()});jq(".largeTeaserSwitchControlPlayPause .spriteIconControlPauseMedium").click(function(){L(0);jq(".largeTeaserSwitchControlPlayPause .spriteIconControlPlayMedium").show();jq(this).hide()});jq(".largeTeaserSwitchControlNext").click(function(){L(0);jq(".largeTeaserSwitchControlPlayPause .spriteIconControlPlayMedium").show();jq(".largeTeaserSwitchControlPlayPause .spriteIconControlPauseMedium").hide();H();return false});jq(".largeTeaserSwitchControlPrev").click(function(){L(0);jq(".largeTeaserSwitchControlPlayPause .spriteIconControlPlayMedium").show();jq(".largeTeaserSwitchControlPlayPause .spriteIconControlPauseMedium").hide();C();return false});jq(".largeTeaserSwitchFadeout").delay(5000).fadeOut(500);jq(".stageLargeTeaserContainer").mousemove(function(){jq(".largeTeaserSwitchFadeout:hidden").fadeIn(500).delay(2000).fadeOut(500);jq(".largeTeaserSwitchFadeout:animated").stop(true,true).fadeIn(500).delay(2000).fadeOut(500)});jq(".largeTeaserSwitchFadeout").mouseenter(function(){jq(".largeTeaserSwitchFadeout").stop(true,true).fadeIn(500)});jq(".largeTeaserSwitchFadeout").mouseleave(function(){jq(".largeTeaserSwitchFadeout").delay(2000).fadeOut(500)})}}}();var rlLayerShow=function(){return{__init__:function(){jq(window).bind("user_logged_in",function(){var C="$SM$";var D=rlJQuery_queryParams.getQueryParam("TARGET");if(D!=null&&D.substring(0,C.length)===C){D=D.substring(C.length);document.location.href=unescape(D)}});var B=rlJQuery_queryParams.getQueryParam("url");if(typeof B!=="undefined"&&(B.indexOf("/")==0||B.indexOf("%")==0)){var A=decodeURIComponent(B);if(A&&A.length>0){rlGlassPaneLayerNext.openDialog({url:A,onClose:function(){var C=rlJQuery_queryParams.removeParameter(location.href,"url");location.href=C}})}}}}}();var rlLoginaccountstatewrapper=function(){function D(){if(document.cookie.indexOf("cbLoggedInBool=yes")>=0){return true}else{if(window.location.protocol==="https:"){console.log("Https context");return true}else{console.log("Http context");return false}}}function A(){if(rlLoginaccountstatewrapper.isHttps()==true){jq.ajax({url:GLOBAL_LOGIN_ACCOUNT_STATE_URL,success:function(G){jq("#loginaccountstatewrapperContent").append(G);jq("#scoringIcon a.infoIconIcon").attr("id","statusModuleIcon").click(function(H){try{bmwcsacaptureEvent(H)}catch(I){console.error("Tracking error ",I)}});jq(window).trigger("loginaccountstatewrapper_ajaxload_complete")}})}else{jq("#loginaccountstatewrapperContent").empty();useIFrame=false;var F=cmxSslServer+GLOBAL_LOGIN_IN_IFRAME_URL;if(rlPage.isEditMode()||rlPage.isDesignMode()){F+="?wcmmode=disabled"}F+="#"+cmxServer;var E='<iframe class="loginaccountstatewrapperContentIframe" src="'+F+'" name="loginIFrame" frameborder="0" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" noresize></iframe>';jq("#loginaccountstatewrapperContent").append(E);jq("#loginaccountstatewrapperContent").find("iframe").allowTransparency=true;jq(".loginaccountstatewrapper").animate({opacity:1},0);C()}}function C(){if(window.addEventListener){window.addEventListener("message",function(E){B(E.data)},false)}else{window.attachEvent("onmessage",function(E){B(E.data)})}}function B(F){if(F=="SWITCHHTTPS"){parent.parent.rlHttpsSwitch.ensureHttpsIfLoggedIn()}else{if(F=="AFTER_LOGIN"){top.rlLoginservice.doDefaultPostLoginBehaviour()}else{if(F=="SHOW_REGISTRATION_LAYER"){var G=["httpsWorkflow"];top.rlComponentLoader.requireComponents(G);top.rlComponentLoader.deferredExec(G,function(){top.rlHttpsWorkflow.triggerWorkflow(top.rlHttpsWorkflow.WORKFLOW_REGISTRATION_LAYER)})}else{if(F=="SHOW_C2B_REGISTER_LAYER"){top.rlUserDialog.showC2bRegistrationDialog()}else{if(F.indexOf("NEWPOLICYREQUIRED_")>-1){var H=F.indexOf("_");var E=F.slice(H+1);top.rlUserDialog.showPolicyAgreeDialog({policyUrl:E})}else{if(F.indexOf("REVOKEPOLICY_")>-1){top.rlUserDialog.showPolicyRevokeDialog({})}else{if(F=="SHOW_PWD_FORGOTTEN"){top.rlUserDialog.showForgottenPasswordDialog()}else{if(F=="SHOW_RESENDACTIVATIONLINK"){top.rlUserDialog.showResendActivationLinkInfoDialog()}else{if(F=="SHOW_RESENDUSERNAMECHANGELINK"){top.rlUserDialog.showResendUsernameChangeLinkInfoDialog()}else{if(F=="SHOW_ACCOUNT_DEACTIVATED_DIALOG"){top.rlUserDialog.showAccountDeactivatedDialog()}else{if(F=="CLOSE_LAYER"){top.rlUserDialog.close()}}}}}}}}}}}}return{__init__:function(){},__start__:function(){A()},isHttps:function(){return D()}}}();var rlMultiLevelDisclaimer=function(){var displayLog=false;var mldData=new Object();var mldRequestData=new Object();var mldWidth=1160;var mldContentHeightTMP=false;var mldContentHeight;var mldContentSelector="#mldContent";var salesBarPanel=".salesBarPanel";var mldTitleSelector="#mldTitle";var mld=jq("#mldWrapper");var mldSequenceType;var mldSequenceID=0;var separator='<hr class="mldSeparator" noshade="noshade">';var mldToggle=jq(".salesBarMldSwitch");var mldVisibleStatus=true;var nextButtonBottomConstant=180;var backToTopWrapConstant=-36;var mldToButtonSpace=14;var animationDuration=700;var backToTopWrap=jq(".backToTopWrap");var actualContentHeightFix=14;function showLog(logTXT,type){if(displayLog===true){if(!type){type="log"}if(displayLog===true&&!jq.browser.msie){window.console[type](logTXT)}else{window.console.log(logTXT)}}}var seqs={open:["startSequence","getContent","getContentHeight","changeContent","changeHeight","fadeInContent","setMLDstatus","stopSequence"],close:["startSequence","fadeOutContent","hideMLDWithOutCallBack","removeContent","setMLDstatus","stopSequence"],morph:["startSequence","getContent","blind","fadeOutContent","changeContent","changeHeight","fadeInContent","setMLDstatus","stopSequence"],change:["startSequence","getContent","blind","changeContent","setMLDstatus","stopSequence"],show:["startSequence","showMLD","setMLDstatus","stopSequence"],hide:["startSequence","hideMLD","setMLDstatus","stopSequence"]};function blind(){runSequence()}function addSeparator(){if(jq(".mldContent .mldCell").length>0){var baseline=jq(".mldCell").first().position().top;var rows=1;var cellHeight=jq(".mldContent .mldCell").height();jq(".mldContent .mldCell").each(function(i){var pos=jq(this).position().top;if(pos>baseline){rows++;jq(this).prev().addClass("mldLastCellInRow");baseline=pos}});jq(".mldContent .mldLastCellInRow").after(separator);jq(".mldContent .mldCell").last().addClass("mldLastCellInRow");jq(".mldContent .mldFirstCell").height(rows*cellHeight)}}function getContent(){if(mldRequestData.selector){jq(mldContentSelector).append('<div style="display: none;" id="mldTMPContent">'+jq(mldRequestData.content).html()+"</div>");mldData.content=jq("#mldTMPContent "+mldRequestData.selector).html();jq("#mldTMPContent").remove();showLog("from selector")}else{mldData.content=mldRequestData.content;showLog("from string")}mldData.title=mldRequestData.title;mldData.callBackShow=mldRequestData.callBackShow;mldData.callBackHide=mldRequestData.callBackHide;runSequence()}function getContentHeight(){if(GLOBAL_MLD_SMALL=="yes"){jq("body").append('<div id="mldCalculationContainer" class="mldSizeSmal" style="width: '+mldWidth+'px;"></div>')}else{jq("body").append('<div id="mldCalculationContainer" style="width: '+mldWidth+'px;"></div>')}jq("#mldCalculationContainer").append(mldData.content);var actualContentHeight=jq("#mldCalculationContainer").outerHeight();jq("#mldCalculationContainer").remove();showLog("actualContentHeight is "+(actualContentHeight+actualContentHeightFix)+"px");showLog("mldContentHeight is "+mldContentHeight+"px");if(actualContentHeight+actualContentHeightFix===mldContentHeight){runSequence("change")}else{if(mldContentHeight<=0||!mldContentHeight){mldContentHeight=actualContentHeight;runSequence("open")}else{mldContentHeight=actualContentHeight;runSequence("morph")}}}function fadeOutContent(){jq(mldContentSelector).animate({opacity:0},animationDuration,function(){showLog("content is hidden");runSequence()})}function changeContent(){showLog("remove old content");jq(mldContentSelector).empty();jq(mldTitleSelector).empty();showLog("add new content");jq(mldContentSelector).append(mldData.content);if(mldRequestData.applyHorizontalLines!=undefined&&mldRequestData.content!=null){eval(mldRequestData.applyHorizontalLines+"('"+mldContentSelector+"')")}if(mldData.title){jq(mldTitleSelector).append(mldData.title)}addSeparator();jq(".mldTermsConditionsLink a").unbind("click");jq(".mldTermsConditionsLink a").bind("click",function(event){rlGlassPaneLayerNext.openDialog({url:jq(this).attr("href")});event.preventDefault()});runSequence()}function removeContent(){jq(mldContentSelector).empty();runSequence()}function changeHeight(){showLog("animate height to "+mldContentHeight);if(mldContentHeight>0){mldContentHeight+=mldToButtonSpace}rlSalesBarAnimation.resizeSalesBarReference(mldContentSelector,mldContentHeight);if(mldVisibleStatus){reposistionNccButtons(mldContentHeight+nextButtonBottomConstant);backToTopWrap.hide();jq.when(jq(mldContentSelector).animate({height:mldContentHeight},{duration:animationDuration,step:function(){rlSalesBarAnimation.updateSalesBar()}})).then(function(){backToTopWrap.show();runSequence()})}else{runSequence()}}function repositionBackToTopWrap(marginTopOfBackToTopWrap){backToTopWrap.animate({marginTop:marginTopOfBackToTopWrap},animationDuration)}function reposistionNccButtons(bottomOfNextButton){if(mldRequestData.initToggleButtons){jq(".nccNextButtonPosition").animate({bottom:bottomOfNextButton},animationDuration)}}function changeSiteFooterHeight(mldHeight){var salesBarHeight=jq(".salesBarDock .salesBarPanel").height();jq("#salesBarPanelHeightReference").animate({height:10+mldHeight+salesBarHeight},animationDuration)}function closeMLD(){rlSalesBarAnimation.changeSalesBarHeight();jq(mldContentSelector).animate({height:0},animationDuration,function(){runSequence()});changeSiteFooterHeight(0)}function fadeInContent(){enableIEFilter(mldContentSelector);jq(mldContentSelector).animate({opacity:1},animationDuration,function(){showLog("content is visible");disableIEFilter(mldContentSelector);runSequence()});jq(salesBarPanel).animate({opacity:1},animationDuration,function(){showLog("content is visible");disableIEFilter(salesBarPanel)})}function setMLDstatus(){mldData.status=mldSequenceType;if(mldSequenceType=="close"){mldContentHeight=0}mldContentHeightTMP=false;if(mldSequenceType=="hide"){mldContentHeightTMP=mldContentHeight;mldContentHeight=0}runSequence()}function runSequence(type){if(type!=undefined){mldSequenceType=type}if(mldSequenceID==0){showLog("runSequence "+mldSequenceType,"group");showLog("complete sequence","time")}var sequence=seqs[mldSequenceType][mldSequenceID];mldSequenceID++;showLog("start part "+mldSequenceID+": "+sequence+" from sequence: "+mldSequenceType,"info");if(sequence){eval(sequence+"(true)")}else{showLog("you have an error in runSequence. Your mldSequenceType is "+mldSequenceType+" and your mldSequenceID is "+mldSequenceID,"error");mldSequenceID=0}}function startSequence(){showLog("animationStatus: "+rlMultiLevelDisclaimer.animationStatus);if(rlMultiLevelDisclaimer.animationStatus==0){rlMultiLevelDisclaimer.animationStatus=1;showLog("animationStatus: "+rlMultiLevelDisclaimer.animationStatus);runSequence()}else{showLog("Animation is in progress. The request is stopped. Please wait for ending the actually sequence and start your request again!","error")}}function stopSequence(){mldSequenceID=0;rlMultiLevelDisclaimer.animationStatus=0;showLog("complete sequence","timeEnd");showLog("runSequence "+mldSequenceType,"groupEnd");showLog("sequence is finished!");if(mldRequestData){if(mldRequestData.highlightId!=undefined){eval(mldRequestData.higlightVehicleInBoe+"('"+mldRequestData.highlightId+"')")}jq("div.mldWrapper div.nccFinanceParamsTermsAndConds a").click(function(){showLog("CLICKED TERMS AND CONDITIONS");eval(mldRequestData.callBackTermsAndConditions+"('"+mldRequestData.highlightId+"')")})}}function initMLDToggleButtons(){showMLDToggleButtons();if(mldRequestData.mldSalebarStatus===false){jq(".salesBarMldSwitchHide").css("display","none");jq(".salesBarMldSwitchShow").css("display","block")}if(jq(".salesBarMldSwitchHide").length>0){mldVisibleStatus=(jq(".salesBarMldSwitchHide").css("display")==="block")}else{mldVisibleStatus=true}jq("div.salesBarMldSwitch a").unbind("click").click(function(){toggleMLDToggleButtons()})}function initMLDToggleButtonsWithNoSequence(){showMLDToggleButtons();if(mldRequestData.mldSalebarStatus===false){jq(".salesBarMldSwitchHide").css("display","none");jq(".salesBarMldSwitchShow").css("display","block")}jq("div.salesBarMldSwitch a").unbind("click").click(function(){toggleMLDToggleButtons()})}function toggleMLDToggleButtons(){showLog("CLICK TOGGLE");jq("div.salesBarMldSwitch a span").toggle();if(jq(".salesBarMldSwitchHide").is(":visible")){showLog(mldRequestData.callBackShow);eval(mldRequestData.callBackShow);if(window.rlCoreServices&&window.rlCoreServices.trackEventAsClick){window.rlCoreServices.trackEventAsClick("mldDisclaimerExpanded_UserDriven","mldAction")}}else{showLog(mldRequestData.callBackHide);eval(mldRequestData.callBackHide);if(window.rlCoreServices&&window.rlCoreServices.trackEventAsClick){window.rlCoreServices.trackEventAsClick("mldDisclaimerCollapsed_UserDriven","mldAction")}}}function showMLD(){if(mldContentHeightTMP){mldContentHeight=mldContentHeightTMP}rlSalesBarAnimation.resizeSalesBarReference(mldContentSelector,mldContentHeight);reposistionNccButtons(mldContentHeight+nextButtonBottomConstant);jq.when(jq(mldContentSelector).animate({height:mldContentHeight},{duration:animationDuration,step:function(){rlSalesBarAnimation.updateSalesBar()}})).then(function(){showLog(mldData.callBackShow);eval(mldRequestData.callBackShow);runSequence()})}function hideMLD(){rlSalesBarAnimation.resizeSalesBarReference(mldContentSelector,0);reposistionNccButtons(nextButtonBottomConstant);jq.when(jq(mldContentSelector).animate({height:0},{duration:animationDuration,step:function(){rlSalesBarAnimation.updateSalesBar()}})).then(function(){showLog(mldData.callBackHide);eval(mldRequestData.callBackHide);runSequence()})}function hideMLDWithOutCallBack(){rlSalesBarAnimation.resizeSalesBarReference(mldContentSelector,0);hideMLDToggleButtons();jq(mldContentSelector).animate({height:0},animationDuration,function(){actualContentHeight=0;runSequence()})}function hideMLDToggleButtons(){jq(mldToggle).hide()}function showMLDToggleButtons(){jq(mldToggle).show()}function getMLDContentHeight(){return mldContentHeight}function disableIEFilter(_Elem){showLog("disable ie filter");jq(_Elem).css("filter","")}function enableIEFilter(_Elem){showLog("enable ie filter");if(jq("html").hasClass("ie7")||jq("html").hasClass("ie8")){jq(_Elem).css("filter","alpha(opacity=0)")}}return{animationStatus:0,__init__:function(){if(GLOBAL_MLD_SMALL=="yes"){jq("#mldWrapper").append('<div id="mldContent" class="mldContent mldSizeSmal" style="height: 0px; opacity: 0; overflow: hidden; width: '+mldWidth+'px"></div>')}else{jq("#mldWrapper").append('<div id="mldContent" class="mldContent" style="overflow: hidden; width: '+mldWidth+'px"></div>')}},__start__:function(){},hide:function(data){mldRequestData=data;runSequence("close")},show:function(data){mldRequestData=data;if(mldRequestData.animationDuration!=undefined){animationDuration=mldRequestData.animationDuration}if(mldRequestData.initToggleButtons!=undefined&&mldRequestData.initToggleButtons){initMLDToggleButtons()}runSequence("open");if(window.rlCoreServices&&window.rlCoreServices.trackEventAsClick){window.rlCoreServices.trackEventAsClick("mldDisclaimerExpanded_OnLoad","mldAction")}},showToggleButtons:function(data){mldRequestData=data;if(mldRequestData.initToggleButtons!=undefined&&mldRequestData.initToggleButtons){initMLDToggleButtonsWithNoSequence()}if(mldRequestData.mldSalebarStatus===true){showLog(mldData.callBackShow);eval(mldRequestData.callBackShow)}},hideToggleButtons:function(){hideMLDToggleButtons()},toggleMLDToggleButtons:function(data){mldRequestData=data;toggleMLDToggleButtons()},repositionBackToTopWrap:function(value){var marginTopWrap;marginTopWrap=value+backToTopWrapConstant;repositionBackToTopWrap(marginTopWrap)},getMLDContentHeight:function(){return getMLDContentHeight()},getMldRequestData:function(){return mldRequestData}}}();var rlMyAccountAddressForm=(function(){function A(B,E){var K=CoreFormsBase.inheritanceFrom(rlMyAccountForm.create(B,E));K.typeName="rlMyAccountAddressForm";var H=K.parent;var L=B.find(".addressDataSourcePrefix:first").text();var C="[data-field$='"+L+".addressGUID']";var J=B.find(".addressDeleteLink");var I=".addressDeleteConfig";function G(){var N={user:{profile:{}}};var M=B.find(C).val();N.user.profile.addresses=[{addressGUID:"-"+M}];H.updateData(N)}K.updateData=function(N){try{var M=B.find(C).val();if(N.user.profile.addresses[0].isEmpty()){if(M){N.user.profile.addresses=[{addressGUID:"-"+M}]}else{N.user.profile.addresses=undefined}}}catch(O){}H.updateData(N)};var F=B.find("[data-validators*=requiredValue], [data-validators*=requiredRadio], [data-validators*=requiredCheckbox]");if(!!F&&F.length>0){J.remove();J=undefined;var D=B.find(I);D.remove()}if(!!J){J.click(function(){var N=B.find(I);var M=B.find(".fieldSetViewMode");N.find(".addressToDelete").empty().append(M.html());N.find(".addressDeleteOk").unbind();N.find(".addressDeleteOk").click(function(){rlGlassPaneLayerNext.closeDialog();G()});N.find(".addressDeleteCancel").unbind();N.find(".addressDeleteCancel").click(function(){rlGlassPaneLayerNext.closeDialog()});rlGlassPaneLayerNext.openDialog({content:N,forceClone:true})});K.switchToEditMode=function(){H.switchToEditMode();var M=B.find(C).val();if(M!==""){J.show()}else{J.hide()}};K.switchToViewMode=function(){H.switchToViewMode();J.hide()}}return K}return{__init__:function(){},__start__:function(){},create:function(B,C){return A(B,C)}}}());var rlSalesBarContextSensitive=function(){var I=5;var F=2;var g="#salesbarContextSensitive";var c="";var f="";var w=".conditionalSalesbar";var C=".genericSalesbar";var E="SHOW";var h="WAIT";var a="core_ready";var P="renderSalesBar";var U={};var M;var J=new RegExp(/[0-9][0-9,\-.\264 ]*[0-9]/);var d=null;var x=null;U.visibleButtons=[];U.buttonSet="";U.visibleButtonLabels=[];var K=2000;var p=false;var b=undefined;var u={};var l=false;var r=2;var X="salesBarContextSensitive";function Q(AE){rlCompLog.showLog("[rlSalesBarContextSensitive] "+AE,"log",2,X,l,r)}function V(AF,AE){rlCompLog.showLog("[rlSalesBarContextSensitive] "+AF+" - "+AE,"warn",1,X,l,r)}function O(AE){Q("Evaluating condition ["+AE+"]");result=rlSalesBarConditions.checkCondition(AE);Q("Condition evaluated to ["+result+"]");return result}function v(AJ){Q("Preparing salesbar. Consider WAIT buttons as HIDDEN ["+(AJ==true)+"]");var AH;var AG;if(O(u.condition)){Q("Using conditional button set");AH=u.conditionalButtonSet;AG=w}else{Q("Using generic button set");AH=u.genericButtonSet;AG=C}var AI=jq(g+" "+AG+" "+f);var AF=jq(g+" "+AG+" "+c);var AE=AD(AH.leftButtons,I,AI,AJ);var AK=AD(AH.rightButtons,F,AF,AJ);if(AE.ready&&AK.ready||AJ){N();U.buttonSet=AG;U.visibleButtons=[];U.visibleButtonLabels=[];A(AE.buttons,I,AI);A(AK.buttons,F,AF);AB()}}function y(){Q("Registering event");jq(window).bind(P,function(){Q("Trigger for event ["+P+"] received");var AE=true;v(AE)});j(u.genericButtonSet,jq(g+" "+C));j(u.conditionalButtonSet,jq(g+" "+w))}function j(AF,AE){if(AF){Q("Registering click event on button within set with selector ["+AE.selector+"]");B(AF.leftButtons,AE.selector);B(AF.rightButtons,AE.selector)}}function B(AJ,AI){Q("Registering click event on buttons within area with selector ["+AI+"]");for(var AH=0;AH<AJ.length;AH++){var AG=AJ[AH];var AF=".salesBarButton"+AG;try{var AL="rl"+AG+"Button";if(H(AL)){var AE=jq(AF,AI);if(AE.length>0){Q("Registering click event on button with selector ["+AE.selector+"]");AE.data("key",AG);AE.data("jsModuleName",AL);AE.click(function(){var AO=jq(this);var AM=AO.data("key");var AN=window[AO.data("jsModuleName")];var AP=AN.getStatus();if(AP==E){Q("Clicking on button with key ["+AM+"]");AN.click()}else{v(true)}})}else{Q("No button with selector ["+AE.selector+"] found for registering click event on")}}}catch(AK){V("Error registering event on button with key ["+AG+"] and selector ["+AF+"]",AK)}}}function AB(){Q("Triggering salesbar animation for buttonset ["+U.buttonSet+"]");jq(window).trigger("updateSalesBarContext",U);Q("Salesbar animation triggered for buttonset ["+U.buttonSet+"]")}function R(){Q("Starting salesbar timeout");b=window.setTimeout(function(){v(true)},K)}function N(){Q("Stopping salesbar timeout");p=true;if(b){Q("Clearing salesbar timeout.");window.clearTimeout(b)}}function A(AM,AI,AF){Q("Showing maximum ["+AI+"] buttons within area: ["+AF.selector+"]");for(var AJ=0;(AJ<AM.length&&AJ<AI);AJ++){var AG=AM[AJ];var AN=AG.key;var AE=AG.jsModule;var AO=".salesBarButton"+AN;try{var AK=jq(AO,AF);if(AK.length==1){var AH=AE.getLabel();Q("Showing button "+AN+" with selector: ["+AO+"] and label ["+AH+"]");U.visibleButtonLabels.push(AH);U.visibleButtons.push(AK);if(typeof AE.isEspActive==="function"){AK.attr("data-tracking-info",(AE.isEspActive()?"Resume":"Init"))}}else{Q("Found ["+AK.length+"] buttons for key ["+AN+"] to display")}}catch(AL){V("Error showing button with key ["+AN+"] and selector ["+AO+"]",AL)}}}function H(AG){Q("Checking if "+AG+" is a valid button JS module");var AF=window[AG];var AE=typeof AF=="object"&&typeof AF.getStatus=="function"&&typeof AF.click=="function";Q("Is ["+AG+"] a valid button JS module? = ["+AE+"]");return AE}function AD(AM,AJ,AF,AN){Q("Computing visible buttons for area with selector ["+AF.selector+"] and IgnoreWaitingButtons= ["+(AN==true)+"]");var AK=false;var AO=false;var AQ=[];var AR=!(AN==true);for(var AI=0;AI<AM.length;AI++){var AP=AM[AI];var AH="rl"+AP+"Button";try{if(H(AH)){var AE=window[AH];var AG=AE.getStatus();Q("Button status for ["+AP+"] is ["+AG+"]");if(AR&&AG==h){AO=true}if(AG==E&&!AO){Q("Pushing button with key ["+AP+"] found visible");AQ.push({key:AP,jsModule:AE});if(AQ.length==AJ){Q("Found all visible buttons for area ["+AF.selector+"]");break}}}else{Q("Button with key ["+AP+"] has no valid JS Module ["+AH+"]")}}catch(AL){V("Error getting status for button with key ["+AP+"] and module name ["+AH+"]",AL)}}if(!AO){Q("Marking area ["+AF.selector+"] as ready since no waiting button found.");AK=true}else{Q("Found waiting button")}return{ready:AK,buttons:AQ}}function W(AE){if(!AE){AE=new Object()}if(!jq.isArray(AE.rightButtons)){AE.rightButtons=new Array()}if(!jq.isArray(AE.leftButtons)){AE.leftButtons=new Array()}if(AE.bestAction){AE.rightButtons=[AE.bestAction].concat(AE.rightButtons)}return AE}function AA(AE){var AH=AE.search(J);if(AH===-1){return false}var AG=J.exec(AE);var AF=AH+AG[0].length;return{pre:AE.substr(0,AH),value:AG[0],post:AE.substr(AF,AE.length)}}function D(AF,AG){Y();var AE=jq(".salesBarRightPrice",M);if(AF!==null&&AF!=="undefined"&&AF.length>0&&AF!=="-"&&AF.charAt(0)!=="0"){var AH=AA(AF);if(AH!==false){if(d!==null){jq(".priceRate",M).show()}jq(".priceRateCurrencyBefore",AE).text(AH.pre);jq(".priceRateCurrencyAfter",AE).text(AH.post);if(jq(".priceRateValue .numberScrumber",M).length>0){rlNumberScrumber.setNumberScrumberValue(".priceRateValue",AH.value)}else{jq(".priceRateValue",AE).text(AH.value);rlNumberScrumber.createNumberScrumber(".priceRateValue")}}}else{jq(".priceRate",M).hide()}if(AG!==null&&AG!=="undefined"&&AG.length>0&&AG!=="-"&&AG.charAt(0)!=="0"){var AH=AA(AG);if(AH!==false){jq(".priceTotal",M).show();jq(".priceTotalCurrencyBefore",AE).text(AH.pre);jq(".priceTotalCurrencyAfter",AE).text(AH.post);if(jq(".priceTotalValue .numberScrumber",M).length>0){rlNumberScrumber.setNumberScrumberValue(".priceTotalValue",AH.value)}else{jq(".priceTotalValue",AE).text(AH.value);rlNumberScrumber.createNumberScrumber(".priceTotalValue")}}}else{jq(".priceTotal",M).hide();jq(".priceRate",M).hide()}}function e(AE){if(AE!==null&&AE!=="undefined"&&AE.length>0){jq(".priceRateFinancialProductTitle").text(AE);d=AE;jq(".priceRate",M).show()}else{d=null;jq(".priceRate",M).hide()}}function o(AE){jq(".priceTotalHeadline",M).text(AE)}function T(AH,AI){var AG=rlContextLayerParser.parse(AI);if(AG){if(AH=="price"){var AE=jq(".priceTotal",M);jq(".infoIconLayerIcon",AE).data("contextLayerContent").html('<div class="contextLayerContentContainer">'+AG+"</div>");AE.show()}else{if(AH=="financing"){var AF=jq(".priceRate",M);jq(".contextLayer:first",AF).show();jq(".infoIconLayerIcon",AF).data("contextLayerContent").html('<div class="contextLayerContentContainer">'+AG+"</div>");if(d!==null){AF.show()}}}}else{if(AH=="price"){jq(".priceTotal",M).hide();jq(".priceRate",M).hide()}else{if(AH=="financing"){jq(".priceRate .contextLayer:first",M).hide()}}}}function s(AE){if(AE!==null&&AE!=="undefined"&&AE.length>0){jq(".configurationHeadline",M).show();jq(".configurationConfiguration",M).text(AE)}else{jq(".configurationHeadline",M).hide();jq(".configurationConfiguration",M).text("")}}function Z(AE){configId=AE;window.bmwConfigId=AE}function m(){try{if(!navigator.userAgent.match("Safari")){return }window.setTimeout(function AE(){jq("body").css("background-color","#FFFFFE");window.setTimeout(function AG(){jq("body").css("background-color",null)},10)},10)}catch(AF){rlSalesBarAnimation.showLog("Safari repain failed: "+AF,"error",0)}}function z(){for(var AF=0;AF<saveListeners.length;++AF){var AE=saveListeners[AF];AE()}}function t(){jq(".salesBarButtonNCC").click(function(AE){z();bmwcsacaptureEvent(AE.originalEvent);return false})}function k(){if(rlContextObject.getIsNCC()){jq(".priceTotal",M).hide();jq(".priceRate",M).hide();jq(".nccBandwidthSelectorDiv").show();jq("#nccBandwidthSelector").sliderStyle({callback:function(){if(jq("#nccBandwidthSelector").prop("checked")){jq(".nccHighband").show();jq(".nccLowband").hide()}else{jq(".nccHighband").hide();jq(".nccLowband").show()}}});try{ncc.addPriceListener(function(AF,AG){D(AF,AG)});ncc.addFinanceProductNameListener(function(AI,AF,AH,AG){e(AI)});ncc.addInfoLayerListener(function(AF,AG){T(AF,AG)});ncc.addConfigUrlListener(function(AF,AG){s(AF);Z(AG)})}catch(AE){}}else{jq(".priceTotal",M).hide();jq(".priceRate",M).hide();jq(".thisConfiguration",M).hide()}}function L(AE){if((AE.indexOf("soc")!=-1)||(AE.indexOf("lci")!=-1)){jq(".salesBarButtonNCC").hide()}}function n(){jq("#salesBarSocRequest").hide()}function q(){jq(".salesBarButtonNCC").hide()}function G(AF){var AE=AC();if(AE==null||AE===""){n();return }AE=AE.toLowerCase();if(!S(AF,AE)||!i(AE)){n();return }var AG=AF[AE];if(typeof nccData!=="undefined"){q()}jq("#salesBarSocRequest").css("display","table-cell").click(function(AH){rlUserDialog.showCampaignParticipationDialog(AG);bmwcsacaptureEvent(AH.originalEvent);return false})}function Y(){if(rlContextObject.getDeliveryTime()){jq(".cartBoxInfoBoxContentValue").text(rlContextObject.getDeliveryTime());jq(".cartBoxInfoBoxContent").show()}}function AC(){return rlContextObject.getModelRangeId()}function i(AE){return AE.indexOf("soc")>-1||AE.indexOf("lci")>-1}function S(AF,AE){return AF[AE]!=null&&!jq.isEmptyObject(AF[AE])}return{__init__:function(){M=jq("#salesBarPanelWhite");k()},updateSalesBar:function(){rlSalesBarAnimation.updateSalesBar(false)},detectNccPage:function(){k()},setStayInformedNccParameter:function(AF,AE){G(AF,AE)},showDeliveryTime:Y,setConfigUrl:s,setViewPrice:D,setRateFinancialProductName:e,testSalesbar:function(){rlContextObject.setDeliveryTime("8 Wochen");s("test/myconfigurl");e("Testrate");D("99,12€","1234,34€")},initComponent:function(AJ){console.info(AJ);u=AJ;U.isSalesbarVisible=u.isSalesbarVisible;if(!u.isSalesbarVisible){AB();return }u.genericButtonSet=W(u.genericButtonSet);u.conditionalButtonSet=W(u.conditionalButtonSet);var AF=u.genericButtonSet.rightButtons.concat(u.genericButtonSet.leftButtons);var AM=u.conditionalButtonSet.rightButtons.concat(u.conditionalButtonSet.leftButtons);var AH=AF.concat(AM);var AK=[];jq.each(AH,function(AN,AO){if(jq.inArray(AO,AK)===-1){AK.push(AO)}});var AE=new Array();for(var AI=0;AI<AK.length;AI++){var AL=AK[AI];var AG="rl"+AL+"Button";if(H(AG)){AE.push(AL+"Button")}}rlComponentLoader.deferredExec(AE,function(){y();R();v()})}}}();var rlSearchUtil=function(){var B=new RegExp("[a-zA-Z][0-9][a-zA-Z][0-9][a-zA-Z][0-9][a-zA-Z][0-9]$");var A;return{__start__:function(){},__init__:function(){rlAutosuggest.setHelperGetGSASuggestPath(rlSearchUtil.getGSASuggestPath)},getDecodedBase64:function(E){var D=jq.base64Decode(E);var G="";var F=new RegExp(".*?{.*?:.*?}.*?");var C=F.exec(D);if(C!=null){return G=jq.secureEvalJSON(D)}else{return false}},getGSASearchPath:function(J,I,D){var L=false;if(D){L=D}else{L=rlSearchUtil.getDecodedBase64(J)}if(!L){return false}L.num=I;var F="";if(typeof L.q!="undefined"&&L.q){F=rlSearchUtil.getConvertedSearchStringBackward(L.q)}var G="-";var E=(typeof L.as_q!="undefined"&&L.as_q)?L.as_q:"-";var H=(typeof L.as_oq!="undefined"&&L.as_oq)?L.as_oq:"-";var K=(typeof L.start!="undefined"&&L.start)?L.start:"0";var M={};M.query=rlSearchUtil.getConvertedSearchString(F);M.resultsPerPage=L.num;M.startPage=K;M.as_q=rlSearchUtil.getConvertedSearchString(E);M.as_oq=rlSearchUtil.getConvertedSearchString(H);var C=rlMandator.replaceCoreUrl("/_{countryMandatorContext}/search/page/search/");C=rlSearchUtil.getXssCleanParams(C);C=rlPage.getNextCoreUrl()+cfGsaBaseUrl+C;return[C,M]},getGSASuggestPath:function(H,C,J){var I=rlSearchUtil.getXssCleanParams(H);var E=(C)?C:"";var D=rlMandator.replaceCoreUrl(E+"_{countryMandatorContext}/search/");var F={};if(J){F=J}else{F.minCharsForLiveSearch=3;F.numLiveSearchResults=3;F.numAutoSuggestResults=3}var G={};G.query=rlSearchUtil.getConvertedSearchString(I);G.minCharsForLiveSearch=F.minCharsForLiveSearch;G.numLiveSearchResults=F.numLiveSearchResults;G.numAutoSuggestResults=F.numAutoSuggestResults;D=rlSearchUtil.getXssCleanParams(D);D=rlPage.getNextCoreUrl()+cfGsaBaseUrl+D;return[D,G]},getXssCleanParams:function(C){return C.replace(/[()<>!]/g," ")},encodeQueryParam:function(E,F){var G={};G.q=E;var D=jq.toJSON(G);var C=jq.base64Encode(D);return C},setNccHostTinyUrlPrefix:function(C){A=C},go2result:function(D,J,E,L){var H=(D)?D:jq("#"+E).val();H=jq.trim(H);if(H.length>=8){var I=B.exec(H);if(I&&I.length>0){var F=H;F=A+I[0];location.href=F;return false}}var K=rlSearchUtil.encodeQueryParam(H,E);var G=".html#";if(J.indexOf(".html")>-1){G="#"}var C=J+G+K;if(location.pathname.indexOf(J)>-1&&L){L(K)}else{location.href=C}return false},linkWithAnchor:function(C,I,G){var H,F;if(!C){return false}H=(G)?jq(G):jq(this);F=(I)?I:"href";var E=H.attr(F).slice(H.attr(F).indexOf("?")+1);if(E.indexOf("&")=="0"){E=E.substr(1,E.length)}var D=rlSearchUtil.convertSeachParametersToBase64(E);H.attr(F,"#"+D);H.bind("click",function(){C(D,F);if(F=="value"){return true}else{return false}})},convertSeachParametersToBase64:function(D){if(D!==""){var F=jq.getSearchpartGetParameterValues(D,false);var E=jq.toJSON(F);var C=jq.base64Encode(E);return C}else{return }},afClearCountDynamicNavigation:function(){jq(".searchResultDynamicNavigationFacetteItemFCB").attr({checked:false,disabled:"disabled"});if(jq("#ManufacturerAccessorySpecial0").length==1){jq("#ManufacturerAccessorySpecial0").attr("checked","checked")}jq(".accessoriesFinderGroupCount").html(" (0)");jq(".searchResultDynamicNavigationFacetteItemFCBL").removeClass("active").addClass("inactive");jq("#searchResultDynamicNavigationTopic .searchResultDynamicNavigationFacetteItemFCBL a").unbind().bind("click",function(){return false}).addClass("inactive");jq(".accessoriesFinderCategoryCount").html(" (0)")},getConvertedSearchString:function(C){convertedSearchString=C;return convertedSearchString},getConvertedSearchStringBackward:function(D){var C=decodeURIComponent(D);return C},enableAccordion:function(C){jq(C).click(function(){var D=jq(":first-child",C);if(D.hasClass("spriteIconMinusMedium")){rlSearchUtil.closeAccordionContent(C)}else{rlSearchUtil.openAccordionContent(C)}})},closeAccordionContent:function(E){var D=jq(":first-child",E);var C=400;jq(E).removeClass("active");D.removeClass("spriteIconMinusMedium");D.addClass("spriteIconPlusMedium");jq(E).next().animate({opacity:"hide",height:"hide"},C)},openAccordionContent:function(E){var D=jq(":first-child",E);var C=700;jq(E).addClass("active");D.removeClass("spriteIconPlusMedium");D.addClass("spriteIconMinusMedium");jq(E).next().animate({opacity:"show",height:"show"},C,function(){if(jq.browser.msie&&typeof E.style!=="undefined"&&E.style){E.style.removeAttribute("filter")}})},mergeBasicUrlParameters:function(G,D,E){var C="";var H=jq.getSearchpartGetParameterValues(G);if(typeof H[E]!=="undefined"){H[E]+=((H[E]==="")?"":" ")+D}else{H[E]=D}for(var F in H){if(typeof F!=="undefined"&&F!==""){C+=F+"="+H[F]+"&"}}return C.substr(0,C.length-1)}}}();rlVisitorAttributes=function(){return{updateAttributes:function(C){try{window.bmwClientDetails_temp="|"+(navigator.userAgent?navigator.userAgent:"N/A")+"|"+screen.width+" x "+screen.height;var A={type:"GET",url:C+"/webanalytics/services/visitor/attrs",success:function(D){if(D.clientIpMasked){window.bmwClientDetails=D.clientIpMasked+window.bmwClientDetails_temp}else{window.bmwClientDetails="ERROR"+window.bmwClientDetails_temp;if(JSON.stringify){window.bmwClientDetails_Error="Error in success handler. Returned data: "+JSON.stringify(D)}else{window.bmwClientDetails_Error="Error in success handler. Returned data: "+D}}},error:function(D){window.bmwClientDetails="ERROR"+window.bmwClientDetails_temp;if(JSON.stringify){window.bmwClientDetails_Error=JSON.stringify(D)}else{window.bmwClientDetails_Error=D}}};rlCrossSubDomainAjax.call(A)}catch(B){window.bmwClientDetails="EXCEPTION"+window.bmwClientDetails_temp;window.bmwClientDetails_Error=B.toString()}}}}();