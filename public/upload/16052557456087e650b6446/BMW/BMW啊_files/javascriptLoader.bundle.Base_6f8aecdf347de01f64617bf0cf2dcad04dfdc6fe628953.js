var rlAbstractForm=function(){var D="";var G={};var H=new DefaultFieldHandler();function I(O){if(O!=undefined&&O.name!=undefined){console.log("abstractForm: add component "+O.name);G[O.name]=O}}function L(){if(G!=undefined){for(var P=0;P<G.length;P++){var O=G[P];rlAbstractForm.callback(O.callbackDestroy)}}}function N(){L();G={}}function F(O){return(O)?O.checkForm():false}function E(O){while(O.length>0&&O.charAt(0)===" "){O=O.substring(1,O.length)}while(O.length>0&&O.charAt(O.length-1)===" "){O=O.substring(0,O.length-1)}return O}function J(P){var O=0;if(typeof P!=="undefined"){jq.each(P,function(R,Q){O++})}return O}function K(O){jq.each(G,function(Q,P){if(typeof P.callbackClearData!=="undefined"){if(!O||(!O.requestType&&!P.requestType)||(P.requestType&&jq.inArray(O.requestType,[].concat(P.requestType))>-1)){P.callbackClearData(O)}}})}function A(O){jq.each(O,function(R,Q){var P="diffMsg_"+Q;var S=jq("#"+P);S.html(D);S.show()})}function C(){jq(".componentSetDiffMsgContainer").hide()}function M(){jq.each(G,function(P,O){if(typeof O.callbackCancelEdit!=="undefined"){O.callbackCancelEdit()}})}function B(O){jq.each(G,function(Q,P){if(typeof P.callbackStartEdit!=="undefined"){P.callbackStartEdit(O)}})}return{__init__:function(){},__start__:function(){N()},getTriggerNameRegister:function(){return"form_register_component"},getTriggerNameListLoaded:function(){return"form_list_loaded"},getTriggerNameListInitialized:function(){return"form_list_initialized"},getTriggerNameFieldDescriptionsLoaded:function(){return"form_field_descriptions_loaded"},getTriggerNameDataLoaded:function(){return"form_data_loaded"},getTriggerNameAllDataLoaded:function(){return"form_all_data_loaded"},getTriggerNameDataSaved:function(){return"form_data_saved"},getTriggerNameProfileSaved:function(){return"profile_data_saved"},getTriggerNameError:function(){return"form_error"},getTriggerNameRestoredFromCache:function(){return"form_restored_from_cache"},getRegisterIdName:function(){return"name"},registerComponent:function(O){I(O)},getComponents:function(){return G},getComponent:function(P){var O;jq.each(G,function(R,Q){if(Q.name===P){O=Q;return false}});return O},callback:function(O,P){return(fct!=undefined)?fct(P):null},validate:function(P){var O=jq("#"+P).validate();return F(O)},validateWithErrors:function(O){var P=jq("#"+O);if(P){return P.valid()}return true},validateFromItem:function(P){var O=jq("#"+P).closest("form").validate();return F(O)},getData:function(O,Q,P){return H.getData(O,Q,P)},getDataLength:function(O){return J(O)},getFormData:function(P,O){return H.getFormData(P,O)},setData:function(R,P,Q,O){H.setData(R,P,Q,O)},renderEnumField:function(O,P){H.renderEnumField(O,P)},fillEnumList:function(P,O){H.fillEnumList(P,O)},fillDateEnumList:function(R,O,Q,P){H.fillDateEnumList(R,O,Q,P)},isFieldEmpty:function(O){if(typeof O==="undefined"){return true}else{if(typeof O==="string"){return(typeof O==="undefined"||O===null||E(O)==="")}else{return false}}},destroyData:function(){N()},clearForm:function(O){K(O)},showDiffs:function(O){A(O)},clearDiffs:function(){C()},setFieldValueChangedMessage:function(O){D=O},setFieldHandler:function(O){H=O},getFieldHandler:function(){return H},cancelEdit:function(){M()},startEdit:function(O){B(O)}}}();function DefaultFieldHandler(){var A=this;this.renderEnumField=function(D,C){if(D.data("filled")==true){return }$newFields=new Array();jq.each(D,function(E,F){if(!jq(F).hasClass(jq(F).attr("name")+"ReadOnly")){$newFields.push(F)}});D=jq($newFields);var B;if((D).is(DropdownField.getStyle())){B=new DropdownField()}else{if(D.hasClass(RadioField.getStyle())){B=new RadioField()}else{if(D.hasClass(CheckboxField.getStyle())){B=new CheckboxField()}}}if(B!=undefined){B.render(D,new DefaultEnumModel(C));D.data("filled",true)}};this.fillEnumList=function(D,B){var C=jq("[name='"+D+"']");if(C.length>0){A.renderEnumField(C,B)}};this.fillDateEnumList=function(G,B,F,C){var E=[];for(var D=B;D<=F;D++){E.push({key:D,value:D})}if(C==true){E.reverse()}A.fillEnumList(G,E)};this.setData=function(F,D,E,B){if(D==null||typeof D==="undefined"){D=""}else{D=""+D}if(typeof F!=="undefined"){var C;C=new TextField(F,E,B);C.setData(D);C=new DropdownField(F,E,B);C.setData(D);C=new RadioField(F,E,B);C.setData(D);C=new CheckboxField(F,E,B);C.setData(D)}};this.getData=function(D,H,E){var F={};if(typeof H==="object"){F=H;console.log("Old data:");console.dir(H)}if(typeof D==="object"){var C=this;jq.each(D,function(I,K){var J=C.getFormData(K,E);if(typeof J!=="undefined"){if(rlAbstractForm.isFieldEmpty(J)){delete F[K]}else{F[K]=J}}})}else{if(typeof D==="string"){var G=A.getFormData(D,E);if(typeof G!=="undefined"){if(rlAbstractForm.isFieldEmpty(G)){delete F[D]}else{F[D]=G}}}}var B=0;jq.each(F,function(J,I){B++});console.log("New data:");console.dir(F);return(B===0)?undefined:F};this.getFormData=function(E,B){var D=undefined;var C;C=new TextField(E,undefined,B);if(C.hasElements()){return C.getData()}C=new DropdownField(E,undefined,B);if(C.hasElements()){return C.getData()}C=new RadioField(E,undefined,B);if(C.hasElements()){return C.getData()}C=new CheckboxField(E,undefined,B);if(C.hasElements()){return C.getData()}return D}}DefaultFieldHandler.getObjectWithIdSelector=function(B,A){if(typeof B==="undefined"||!B||B===""){return jq(A)}else{return jq("#"+B).find(A)}};DefaultFieldHandler.renderDataToTemplate=function(B,E,D){var C="";for(var A=0;A<B.getSize();A++){C+=D.replace(/\${key}/g,B.getKey(A)).replace(/\${value}/g,B.getValue(A)).replace(/\${group}/g,E)}return C};function DefaultEnumModel(A){var B=this;var A=A;this.getKey=function(C){return(typeof A!=="undefined")?A[C].key:""};this.getValue=function(C){return(typeof A!=="undefined")?A[C].value:""};this.getSize=function(){return(typeof A!=="undefined")?A.length:0}}function CheckboxTableFieldHandler(){var F=this;var E='<input type="checkbox" name="${group}" id="${key}" value="${key}" class="editMode ${required}"/><label for="${key}" class="editMode">${value}</label>';var A="<td>"+E+"</td>";var D='<td><div class="checkBoxWrapper"><div id="${key}Label" class="spriteLabel"/><div name="${group}ReadOnly" id="${key}" class="checkboxUnchecked">${value}</div></div></td>';var B=3;function C(J,M,L){var K="";var I="<tr>";var H="</tr>";for(var G=0;G<J.getSize();G++){if(G%B==0){K+=I}K+=L.replace(/\${key}/g,J.getKey(G)).replace(/\${value}/g,J.getValue(G)).replace(/\${group}/g,M)+"\n";if((G+1)%B==0){K+=H}}return K}this.setNumberOfColumns=function(G){B=G};this.getNumberOfColumns=function(){return B};this.renderEnumField=function(H,G){if(H.data("filled")==true){return }jq.each(H,function(K,L){var I="";if(jq(L).hasClass(H.attr("name")+"ReadOnly")){I=D}else{I=A}var M="";if(H.hasClass("required")){M="required"}I=I.replace(/\${required}/g,M);var J=C(G,H.attr("name"),I);jq(L).html(J)})};this.loadList=function(I,G){var H=jq("[name='"+I+"']");if(H.length>0){F.renderEnumField(H,G)}};this.setData=function(K,I,J,G){fields=DefaultFieldHandler.getObjectWithIdSelector(G,'input:checkbox[name="'+K+'"]');if(fields.length>0&&typeof I==="string"){var H=I.split(",");jq.each(fields,function(O,M){var N=jq(M);var L=N.val();if(jq.inArray(L,H)!=-1){N.attr("checked","checked")}else{N.removeAttr("checked")}})}fields=DefaultFieldHandler.getObjectWithIdSelector(G,'table[name="'+K+'"] div[name="'+K+'ReadOnly"]');if(fields.length>0&&typeof I==="string"){var H=I.split(",");jq.each(fields,function(O,M){var N=jq(M);var L="#"+jq(N).attr("id")+"Label";if(jq.inArray(N.attr("id"),H)!=-1){N.removeClass("checkboxUnchecked").addClass("checkboxChecked");jq(L).removeClass("spriteLabelMinusGrey12").addClass("spriteLabelCheckedGreen12")}else{N.removeClass("checkboxChecked").addClass("checkboxUnchecked");jq(L).removeClass("spriteLabelCheckedGreen12").addClass("spriteLabelMinusGrey12")}})}};this.getData=function(G,H,I){return rlAbstractForm.getFieldHandler().getData(G,H,I)}}function DropdownField(H,D,C){var G=this;var F="<option value=${key}>${value}</option>";var B=H;var A=D;if(typeof A==="undefined"){A=B}var E=DefaultFieldHandler.getObjectWithIdSelector(C,'.componentSetEditArea select[name="'+B+'"]');this.hasElements=function(){return E.length>0?true:false};this.render=function(L,I){var O=L.attr("name");var K=L.children("option");var M;if(K.length>0){M=K[0]}var J=DefaultFieldHandler.renderDataToTemplate(I,O,F);if(typeof M!=="undefined"&&M.value===""){var N=F.replace(/\${key}/g,"").replace(/\${value}/g,M.text).replace(/\${group}/g,O);J=N+"\n"+((typeof J!=="undefined")?J:"")}if(typeof L.attr("multiple")==="undefined"){L.children("option").remove();L.append(J)}else{L.html(J)}};this.setData=function(J){if(G.hasElements()){var I=J.split(",");E.val(I);var K=new Array();E.first().children("option:selected").each(function(M,L){if(typeof jq(L).val()!="undefined"&&jq(L).val()!=""){K.push(jq(L).text())}});K=K.join(", ");E.change();if(K===""){K="--"}DefaultFieldHandler.getObjectWithIdSelector(C,"span."+A+"ReadOnly").text(K)}};this.getData=function(){var I=undefined;var J=E.first();if(J.length===1){I=J.val();if(typeof I==="object"&&I!=null){I=I.join(",")}}return I}}DropdownField.getStyle=function(){return".field-dropDown, .field-list"};function CheckboxField(H,D,C){var G=this;var F='<input type="checkbox" name="${group}" id="${key}" value="${key}" class="editMode ${required}"/><label for="${key}" class="editMode">${value}</label>';var B=H;var A=D;if(typeof A==="undefined"){A=B}var E=DefaultFieldHandler.getObjectWithIdSelector(C,".componentSetEditArea").find('input:checkbox[name="'+B+'"]');this.hasElements=function(){return E.length>0?true:false};this.render=function(M,J){var O="";if(M.hasClass("required")){O="required"}var L=F.replace(/\${required}/g,O);var K=DefaultFieldHandler.renderDataToTemplate(J,M.attr("name"),L);M.html(K);var N=M.closest("form");for(var I=0;I<J.getSize();I++){N.bmwValidate("setFieldLabel",jq("#"+J.getKey(I)),jq('label[for="'+J.getKey(I)+"]"))}};this.setData=function(J){if(G.hasElements()){var I=J.split(",");jq.each(E,function(O,M){var N=jq(M);var L=N.val();if(jq.inArray(L,I)!=-1){N.removeAttr("checked")}else{N.attr("checked","checked")}N.click()});var K=new Array();E.filter("input:checked").each(function(M,L){K.push(jq(L).next("label").text())});K=K.join(", ");if(K===""){K="--"}DefaultFieldHandler.getObjectWithIdSelector(C,"span."+A+"ReadOnly").text(K)}};this.getData=function(){var K=undefined;var L=E.filter(":checked");if(L.length===1){K=L.val()}else{if(L.length>1){K=new Array();for(var I=0;I<L.length;I++){var J=jq(L[I]);K.push(J.val())}K=K.join(",")}}return K}}CheckboxField.getStyle=function(){return"field-checkBox"};function RadioField(H,D,C){var G=this;var F='<input type="radio" name="${group}" id="${key}" value="${key}" class="editMode componentSetInputRadio ${required}"/><label for="${key}" class="editMode">${value}</label>';var B=H;var A=D;if(typeof A==="undefined"){A=B}var E=DefaultFieldHandler.getObjectWithIdSelector(C,".componentSetEditArea").find('input:radio[name="'+B+'"]');this.hasElements=function(){return E.length>0?true:false};this.render=function(M,J){var O="";if(M.hasClass("required")){O="required"}var L=F.replace(/\${required}/g,O);var K=DefaultFieldHandler.renderDataToTemplate(J,M.attr("name"),L);M.html(K);var N=M.closest("form");for(var I=0;I<J.getSize();I++){N.bmwValidate("setFieldLabel",jq("#"+J.getKey(I)),jq('label[for="'+J.getKey(I)+'"]'))}};this.setData=function(J){if(G.hasElements()){var I=J.split(",");jq.each(E,function(O,M){var N=jq(M);var L=N.val();if(jq.inArray(L,I)!=-1){M.checked=true;N.click()}else{M.checked=false}});var K=new Array();E.filter("input:checked").each(function(M,L){K.push(jq(L).next("label").text())});K=K.join(", ");if(K===""){K="--"}DefaultFieldHandler.getObjectWithIdSelector(C,"span."+A+"ReadOnly").text(K)}};this.getData=function(){var I=undefined;var J=E.filter(":checked").first();if(J.length===1){I=J.val()}return I}}RadioField.getStyle=function(){return"field-radioGroup"};function TextField(G,D,C){var F=this;var B=G;var A=D;if(typeof A==="undefined"){A=B}var E=DefaultFieldHandler.getObjectWithIdSelector(C,".componentSetEditArea").find('textarea[name="'+B+'"], input:text[name="'+B+'"], input:password[name="'+B+'"], input:[type="hidden"][name="'+B+'"]');this.setData=function(H){var I=""+H;if(I===""){I="--"}if(F.hasElements()){E.val(H);E.change()}DefaultFieldHandler.getObjectWithIdSelector(C,"span."+A+"ReadOnly").text(I)};this.hasElements=function(){return E.length>0?true:false};this.getData=function(){var H=undefined;var I=E.first();if(I.length===1){H=I.val()}return H}}var rlBase64=function(){var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function D(H){var F="";var O,M,K,N,L,J,I;var G=0;H=rlBase64._utf8_encode(H);while(G<H.length){O=H.charCodeAt(G++);M=H.charCodeAt(G++);K=H.charCodeAt(G++);N=O>>2;L=((O&3)<<4)|(M>>4);J=((M&15)<<2)|(K>>6);I=K&63;if(isNaN(M)){J=I=64}else{if(isNaN(K)){I=64}}F=F+B.charAt(N)+B.charAt(L)+B.charAt(J)+B.charAt(I)}return F}function A(H){var F="";var O,M,K;var N,L,J,I;var G=0;H=H.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(G<H.length){N=B.indexOf(H.charAt(G++));L=B.indexOf(H.charAt(G++));J=B.indexOf(H.charAt(G++));I=B.indexOf(H.charAt(G++));O=(N<<2)|(L>>4);M=((L&15)<<4)|(J>>2);K=((J&3)<<6)|I;F=F+String.fromCharCode(O);if(J!=64){F=F+String.fromCharCode(M)}if(I!=64){F=F+String.fromCharCode(K)}}F=rlBase64._utf8_decode(F);return F}function E(G){G=G.replace(/\r\n/g,"\n");var F="";for(var I=0;I<G.length;I++){var H=G.charCodeAt(I);if(H<128){F+=String.fromCharCode(H)}else{if((H>127)&&(H<2048)){F+=String.fromCharCode((H>>6)|192);F+=String.fromCharCode((H&63)|128)}else{F+=String.fromCharCode((H>>12)|224);F+=String.fromCharCode(((H>>6)&63)|128);F+=String.fromCharCode((H&63)|128)}}}return F}function C(F){var G="";var H=0;var I=c1=c2=0;while(H<F.length){I=F.charCodeAt(H);if(I<128){G+=String.fromCharCode(I);H++}else{if((I>191)&&(I<224)){c2=F.charCodeAt(H+1);G+=String.fromCharCode(((I&31)<<6)|(c2&63));H+=2}else{c2=F.charCodeAt(H+1);c3=F.charCodeAt(H+2);G+=String.fromCharCode(((I&15)<<12)|((c2&63)<<6)|(c3&63));H+=3}}}return G}return{__init__:function(){},__start__:function(){},encode:function(F){return D(F)},decode:function(F){return A(F)},_utf8_encode:function(F){return E(F)},_utf8_decode:function(F){return C(F)}}}();var rlBmwStateOverlay=function(){var G=18;var K=72;var O=700;var F=400;var J=1300;var B=rlBrowser.getInternetExplorerVersion();if(navigator.userAgent.match("MSIE")&&B<9){O=0;F=0;J=2000}var D=[];function E(P){var T=jq(D[P].PreloadArea).find(".bmwStateOverlayImage")[0];var U=0;if(jq(T).length>0){var Q=jq(T).css("background-position");if(Q!==undefined){U=parseInt(Q.replace(/px/g,""),10)}else{if(jq(T).css("background-position-x")!==undefined){U=parseInt(jq(T).css("background-position-x").replace(/px/g,""),10)}}}var S=jq(T).width();var R=(U-S);D[P].Counter++;if(D[P].Counter==G){R=0;D[P].Counter=0}jq(T).css("background-position",R);jq(D[P].PreloadArea).height(jq(D[P].PreloadArea).parent().height())}function C(P){if(D[P].Loading){jq(D[P].PreloadArea).find(".bmwStateOverlayImage").fadeIn(O);D[P].AnimationTimer=window.setInterval(function(){E(P)},K)}D[P].Timer=null}function A(R,Q){var P="onceOnThePage";if((Q!==undefined)&&(Q!==null)){P=Q}D[P]={PreloadArea:"#"+R+"PreloadArea",Timer:null,AnimationTimer:null,Counter:0,Loading:false}}function M(S,R,P){var Q='<div style="display: none;" class="bmwStateOverlayDither" id="'+S+'PreloadArea"><div class="bmwStateOverlayImageOuter"><div class="bmwStateOverlayImageCenter"><div class="bmwStateOverlayImage"></div></div></div></div>';if(jq("#"+S).find(R)[0]!=undefined){if(jq("#"+S).find("#"+S+"PreloadArea")[0]==undefined){jq("#"+S).find(R).append(Q);jq("#"+S).find(R).css("position","relative")}}else{if(jq("#"+S).closest(R)[0]!=undefined){if(jq("#"+S).closest("#"+S+"PreloadArea")[0]==undefined){jq("#"+S).closest(R).append(Q);jq("#"+S).closest(R).css("position","relative")}}}A(S,P)}function N(P){var Q='<div style="display: none;" class="bmwStateOverlayDither" id="'+P._containerId+'PreloadArea"><div class="bmwStateOverlayImageOuter"><div class="bmwStateOverlayImageCenter"><div class="bmwStateOverlayImage"></div></div></div></div>';if(jq("#"+P._containerId)[0]!=undefined){if(jq("#"+P._containerId).find("#"+P._containerId+"PreloadArea")[0]==undefined){jq("#"+P._containerId).append(Q);jq("#"+P._containerId).css("position","relative")}}A(P._containerId,P._itemOnPage);var R=P.container;if(R){I(R);R.scroll(function(){I(P.container)})}}function H(Q){var P="onceOnThePage";if((Q!==undefined)&&(Q!==null)){P=Q}if(D[P]==null){console.log("missing call showLoadingState("+Q+")");return }if(navigator.userAgent.toLowerCase().indexOf("safari")>-1){jq(D[P].PreloadArea).height(jq(D[P].PreloadArea).parent().height())}jq(D[P].PreloadArea).fadeIn(O);D[P].Timer=window.setTimeout(function(){C(P)},J);D[P].Loading=true;if(typeof rlGlassPaneLayer==="object"&&rlGlassPaneLayerNext.isOpen()){rlGlassPaneLayerNext.deactivateClosability()}}function L(Q){var P="onceOnThePage";if((Q!==undefined)&&(Q!==null)){P=Q}if(D[P]==null){console.log("missing call hideState("+Q+")");return }D[P].Loading=false;if(D[P].Timer!=null){window.clearTimeout(D[P].Timer)}window.clearInterval(D[P].AnimationTimer);D[P].Counter=0;jq(D[P].PreloadArea).fadeOut(F);jq(D[P].PreloadArea).find(".bmwStateOverlayImage").fadeOut(F);if(typeof rlGlassPaneLayer==="object"&&rlGlassPaneLayerNext.isOpen()){rlGlassPaneLayerNext.activateClosability()}}function I(T){T=T||jq(window);var S=T.scrollTop();var Q=T.outerHeight();var P=jq(".bmwStateOverlayImageOuter");var R=S+Q-(Q/2)-(P.height()/2);P.css("top",R+"px")}return{initDitherLayer:function(Q,P){A(Q,P)},addAndInitDitherLayer:function(R,Q,P){M(R,Q,P)},addDitherToContainer:function(P){N(P)},showLoadingState:function(P){H(P)},hideState:function(P){L(P)},__init__:function(){},__start__:function(){}}}();var rlContextLayer=function(){var Z="contextLayerDialogMain";var O="contextLayerWrap";var R="infoIconLayerContent";var J="contextLayerContent";var H="contextLayerFixedContent";var D="infoIconContextLayer";var l="infoIconLayerIcon";var W="contextLayerCloseButton";var T="contextLayerPointer";var V="contextLayerPointerUp";var o="contextLayerPointerDown";var L="contextLayerPointerLeft";var A="contextLayerPointerRight";var N="shadow";var c="contextLayerSmall";var C="contextLayerScore";var Y="showroom-jsObject";var P=0;var g=1;var Q=1;var n={x:0,y:12};var K=0;var X=700;var e=400;var q=rlBrowser.getInternetExplorerVersion();if(navigator.userAgent.match("MSIE")&&q<9){X=0;e=0}var b={autoOpen:null,baseElement:null,content:null,contentType:"default",clickableContent:null,group:"default",height:"auto",offset:{horizontalLayer:{x:17,y:8},verticalLayer:{x:22,y:14}},position:"topRight",timeout:0,width:520,zIndex:10700};var E=F();function F(){var r={"default":[]};return{addElement:function(s,t){if(null==r[t]){r[t]=[]}r[t].push(s)},removeElement:function(t,s){r[s].splice(t,1)},getAllElements:function(s){var t=[];if(null==s){jq.each(r,function(u,v){t=t.concat(v)})}else{t=r[s]}return t}}}function d(){}d.prototype={_openingListeners:[],_closingListeners:[],addOpenListener:function(r){this._openingListeners.push(r)},addCloseListener:function(r){this._closingListeners.push(r)},_openingTriggered:function(){jq.each(this._openingListeners,function(r,s){s()})},_closingTriggered:function(){jq.each(this._closingListeners,function(r,s){s()})}};function I(r){var s=false;if(null===r||"null"===r||"undefined"===r){s=true}return s}function a(r,t,s){if(!I(s)){r[t]=s}}function B(s,r){a(r,"autoOpen",s.data("showroom-autoOpen"));a(r,"timeout",s.data("showroom-timeout"));a(r,"content",s.data("showroom-content"));a(r,"clickableContent",s.data("showroom-clickableContent"));a(r,"position",s.data("showroom-contentPosition"));a(r,"height",s.data("showroom-layerHeigth"));a(r,"width",s.data("showroom-layerWidth"));a(r,"contentType",s.data("showroom-contentType"));a(r,"zIndex",s.data("showroom-zIndex"));a(r,"editable",s.data("showroom-editable"));a(r,"parent",s.data("showroom-parent"));a(r,"componentId",s.data("showroom-componentId"));a(r,"closeOnScroll",s.data("showroom-closeOnScroll"));a(r,"fixedContent",s.data("showroom-fixedContent"));a(r,"deactivateCloseEvents",s.data("showroom-deactivateCloseEvents"))}function m(){var s;var u;s=rlCookieController.getCookie({cookieKey:"sessionDisclaimer"});if(s!==undefined){var v=new RegExp(rlMd5.makeHash(window.location.href),"ig");var t=s.search(v);if(t===-1){var r=rlMd5.makeHash(window.location.href);rlCookieController.setCookie({cookieKey:"sessionDisclaimer",cookieValue:s.concat(";"+r)});u=false}else{u=true}}else{rlCookieController.setCookie({cookieKey:"sessionDisclaimer",cookieValue:rlMd5.makeHash(window.location.href)});u=false}return u}function k(v,s,u){var r=v.offset().top;var t=v.offset().left;if("topLeft"==u){t-=s.outerWidth();r-=s.outerHeight()}else{if("bottomLeft"==u){t-=s.outerWidth();r+=v.outerHeight()}else{if("topRight"==u){r-=s.outerHeight()}else{if("bottomRight"==u){r+=v.outerHeight()}else{if("left"==u||"leftTop"==u){t-=s.outerWidth()}else{if("right"==u||"rightTop"==u||"rightDynamicTop"==u||"rightDynamicBottom"==u){t+=v.outerWidth()}}}}}}return{top:r,left:t}}function f(r,s){r.removeClass().addClass(T).addClass(s)}function i(r){f(r,V)}function G(r){f(r,o)}function U(r){f(r,L)}function M(r){f(r,A)}function p(AE,AM){var AD=AE;var AO=AD.parents("."+R+":first");console.log("contextLayer.createClickableInstance: Initializing layer for node with id "+AO.attr("id"));var AK=jq("."+D+":first",AO);var v=jq.extend(true,{},b);var AH=jq("."+J+":first",AK);var AC=jq("."+H+":first",AK);var t=rlPage.isEditMode()||rlPage.isDesignMode();var y=".glassPaneLayerNextScrollableArea";var AG=".gplnContentValue";var u=AD.parents(y).size()||AD.parents(AG).size();var AJ=false;var s=null;v.component=AO;v.baseElement=AD;v.layerContent=AK;B(AD,v);var r={_openingListeners:[],_closingListeners:[],addOpenListener:function(AP){this._openingListeners.push(AP)},addCloseListener:function(AP){this._closingListeners.push(AP)},openLayer:function(){AA()},closeLayer:function(){this._closingTriggered();AI.hideLayer()},getContextLayer:function(){return AI},_openingTriggered:function(){jq.each(this._openingListeners,function(AP,AQ){AQ()})},_closingTriggered:function(){jq.each(this._closingListeners,function(AP,AQ){AQ()})}};if("w2"==v.width){var AB=jq("."+O,AK);AH.append(jq("."+W,AB));AK.addClass(c)}else{if("w1Score"==v.width){AK.addClass(C)}}if("embedded"===v.contentType&&null!==v.content){AH.append(v.content.show());if(null!==v.fixedContent&&undefined!==v.fixedContent){AC.append(v.fixedContent.show())}}AD.data(J,AH);AD.data(H,AC);AD.data(Y,r);var AI=h(v);E.addElement(AI,AM);var AL=AI.initLayer().getDialog();AI.addCloseListener(function(){r._closingTriggered();jq(window).unbind("glassPaneLayerNext.scrollableArea.scroll."+v.componentId);AF(E)});function AA(){if(v.deactivateCloseEvents&&(!AI.isAnimated()&&AI.isVisible())){return }if(null==s){s=v.parent.parents("."+J+":first");AJ=s.size()}if(AJ){var AP=s.parents("."+Z+":first");AI.layerDiv.css("z-index",parseInt(AP.css("z-index"))+1)}AN(E,AM);r._openingTriggered();if(AI.options.position!="left"&&AI.options.position!="topLeft"&&AI.options.position!="bottomLeft"&&AI.options.position!="bottomRight"&&AI.options.position!="right"&&AI.options.position!="rightDynamicTop"&&AI.options.position!="rightDynamicBottom"){AI.options.position="topRight"}AI.showLayer();w();if(window.rlCoreServices&&window.rlCoreServices.trackEventAsClick){window.rlCoreServices.trackEventAsClick("ctxlShown_"+v.baseElement.data().showroomTrackingId,"ctxlAction")}}function x(){AI.closeLayer()}function w(){if(!t){jq("body").one("click",function(){x()});jq(window).one("glassPaneLayerNext.closing",function(){x()});if("true"===v.closeOnScroll){jq(window).bind("scroll",function(){x()})}if(u){jq(window).bind("glassPaneLayerNext.scrollableArea.scroll."+v.componentId,function(){e=100;x()})}if(AJ){s.one("scroll",function(){x()})}}}function z(AP){AI.options.baseElement=jq(AP.currentTarget);if(AL.is(":animated")||v.deactivateCloseEvents){return }AA();AP.stopPropagation();if(AP.originalEvent){if(window.rlCoreServices&&window.rlCoreServices.trackEventAsClick){window.rlCoreServices.trackEventAsClick("ctxlOpenByClick_"+v.baseElement.data().showroomTrackingId,"ctxlAction")}}}function AN(AQ,AP){var AR=AQ.getAllElements(AP);var AS=v.parent.get(0);jq.each(AR,function(AV,AU){var AT=AU.options.parent;if(AJ){if(AS===AT.get(0)){AU.closeLayer()}}else{AU.closeLayer()}})}function AF(AP){if(!AI.isVisible()){return }var AR=AH.get(0);var AQ=AP.getAllElements();jq.each(AQ,function(AU,AT){var AS=AT.options.parent.parents("."+J+":first");if(AR===AS.get(0)){AT.hideLayer()}})}if(!t){AL.click(function(AP){bmwcsacaptureEvent(AP.originalEvent);AP.stopPropagation()})}if(null!==v.clickableContent){AD.append(v.clickableContent)}AD.click(z);jq(window).bind("resize",function(){AI.updateLayerPosition()})}function h(r){return{x:0,y:0,layerDiv:null,alignmentFunc:null,timer:null,options:jq.extend(true,{},b,r),actionObservers:new d(),createLayer:function(){var s=jq("<div></div>");s.addClass(Z);s.css({left:this.x,top:this.y,width:this.options.width,height:this.options.height,"z-index":this.options.zIndex});return s},activateCloseButton:function(){var s=this;jq("."+W+":first",s.layerDiv).click(function(t){if(s.layerDiv.is(":animated")){return }s.closeLayer();t.preventDefault();if(window.rlCoreServices&&window.rlCoreServices.trackEventAsClick){window.rlCoreServices.trackEventAsClick("ctxlCloseByButton_"+s.options.baseElement.data().showroomTrackingId,"ctxlAction")}})},activateAutoOpen:function(){var s=this;if("autoOpen"===s.options.autoOpen||"sessionOpen"===s.options.autoOpen&&!m()&&!(rlPage.isEditMode()||rlPage.isDesignMode())){s.showLayer()}},activateTimer:function(){var s=this;if(s.options.timeout>0&&("autoOpen"==s.options.autoOpen||"sessionOpen"==s.options.autoOpen)){s.timer=setTimeout(function(){s.closeLayer()},s.options.timeout*1000)}},closeLayer:function(){if(!this.isVisible()){return }var s=this;s.actionObservers._closingTriggered();s.hideLayer();return false},initLayer:function(){var s=this;s.layerDiv=jq(s.createLayer()).appendTo(jq("body"));jq(s.options.layerContent).appendTo(s.layerDiv).show();if(!rlPage.isEditMode()&&!rlPage.isDesignMode()){s.activateTimer()}s.activateAutoOpen();s.activateCloseButton();return s},getArrowDirection:function(){var t={signX:1,signY:1,arrowPosition:"bottomLeft",alignmentFunc:G};var s=this.options;if("topLeft"==s.position||"topRight"==s.position){t.alignmentFunc=G;if("topLeft"==s.position){t.arrowPosition="bottomRight"}else{t.arrowPosition="bottomLeft";t.signX=-1}t.signY*=-1}else{if("bottomRight"==s.position||"bottomLeft"==s.position){t.alignmentFunc=i;if("bottomLeft"==s.position){t.arrowPosition="topRight"}else{t.arrowPosition="topLeft";t.signX=-1}}else{if("right"==s.position){t.alignmentFunc=U;t.arrowPosition="leftTop";t.signY=-1}else{if("left"==s.position){t.alignmentFunc=M;t.arrowPosition="rightTop";t.signX=-1;t.signY=-1}else{if("rightDynamicTop"==s.position){t.alignmentFunc=U;t.arrowPosition="leftTop";t.signY=-1}else{if("rightDynamicBottom"==s.position){t.alignmentFunc=U;t.arrowPosition="leftBottom";t.signY=-1}}}}}}return t},getArrowPosition:function(t,x,AA){var w=jq(x);var y=jq(t,w);var z=this.getArrowDirection();this.alignmentFunc=z.alignmentFunc;this.alignmentFunc(y);var v=k(w,y,z.arrowPosition);z.signX*=-1;if("leftTop"==z.arrowPosition||"rightTop"==z.arrowPosition){z.signY*=-1;v.top+=AA.y*z.signY}else{if("leftBottom"==z.arrowPosition){v.top+=w.outerHeight()-3*AA.y;v.left-=y.width()}else{var u=(y.outerWidth()*1.5+AA.x)*z.signX;v.left+=u;if("bottomRight"==z.arrowPosition||"topRight"==z.arrowPosition){v.left+=w.outerWidth()}}}var s=rlBrowser.getInternetExplorerVersion();if(("bottomRight"==z.arrowPosition||"bottomLeft"==z.arrowPosition)&&-1!=s&&7>=s){v.top-=P}else{if(("topRight"==z.arrowPosition||"topLeft"==z.arrowPosition)&&-1!=s&&8>=s){v.top+=g}else{if((("leftTop"==z.arrowPosition)||("leftBottom"==z.arrowPosition))&&-1!=s&&8>=s){v.left+=Q}}}return v},switchPositionForViewport:function(){var s={changed:false,position:null};var v=this.layerDiv;var u=this.options;var t=jq("body").width();if(jq(".standardContent").length>0){t=jq(".standardContent").width()+jq(".standardContent").offset().left}if((v.offset().left+v.width())>t){s.changed=true;if("left"==u.position){s.position="right"}else{if("topLeft"==u.position){s.position="topRight"}else{if("topRight"==u.position){s.position="topLeft"}else{if("bottomRight"==u.position){s.position="bottomLeft"}else{if("bottomLeft"==u.position){s.position="bottomRight"}else{if("rightDynamicTop"==u.position){s.position="rightDynamicBottom"}else{if("rightDynamicBottom"==u.position){s.position="rightDynamicTop"}}}}}}}}if(jq(window).scrollTop()<100){if(v.offset().top-jq(window).scrollTop()<100){if("topLeft"==u.position||"topLeft"==s.position){s.changed=true;s.position="bottomLeft"}else{if("topRight"==u.position||"topRight"==s.position){s.changed=true;s.position="bottomRight"}}}}else{if(v.offset().top-jq(window).scrollTop()<0){if("topLeft"==u.position||"topLeft"==s.position){s.changed=true;s.position="bottomLeft"}else{if("topRight"==u.position||"topRight"==s.position){s.changed=true;s.position="bottomRight"}}}}if("rightDynamicTop"==u.position||"rightDynamicTop"==s.position||"rightDynamicBottom"==u.position||"rightDynamicBottom"==s.position){if(jq(window).scrollTop()>v.offset().top){s.changed=true;s.position="rightDynamicTop"}if(v.offset().top>v.height()+jq(window).scrollTop()){s.changed=true;s.position="rightDynamicBottom"}}return s},calculateLayerPosition:function(AA){var y=this.options;var x=k(y.baseElement,this.layerDiv,y.position);var z=this.getArrowDirection();jq(this.layerDiv).find(".infoIconContextLayer").css("margin-top","");if("leftTop"==z.arrowPosition||"rightTop"==z.arrowPosition){x.left+=y.offset.horizontalLayer.x*z.signX;x.top+=(y.offset.horizontalLayer.y+AA.y)*z.signY}else{if("leftBottom"==z.arrowPosition){x.left+=y.offset.horizontalLayer.x;x.top+=(y.offset.horizontalLayer.y+AA.y-this.layerDiv.height()+8)}else{x.left+=(y.offset.verticalLayer.x+AA.x)*z.signX;if("bottomLeft"==y.position||"topLeft"==y.position){x.left+=y.baseElement.outerWidth()}x.top+=y.offset.verticalLayer.y*z.signY;var s=rlBrowser.getInternetExplorerVersion();if(-1!=s&&7>=s){x.top-=K*z.signY}}}var t=jq("#gplnAjaxContent");var v=t.offset();var w=14;var u=jq(this.layerDiv).find(".infoIconContextLayer");if(t.length>0&&x.top+this.layerDiv.height()>t.height()+v.top){u.css("margin-top",0-(this.layerDiv.height()-(2*w)-24)+"px")}return x},showLayer:function(){if(!this.options.deactivateCloseEvents&&this.isAnimated()){return }var s=this.layerDiv;s.css({visibility:"hidden",display:"block"});this.actionObservers._openingTriggered();this.updateLayerPosition();this.fadeInLayer();return this},updateLayerPosition:function(){if(this.isVisible()){jq(window).one("resize",function(){cl=rlContextLayer.getJavaScriptInterface("#"+r.componentId);clobj=cl.getContextLayer();clobj.updateLayerPosition()});var w=this.layerDiv;var v=this.options;var u=v.position;var y=this.calculateLayerPosition(n);w.offset(y);var t=this.switchPositionForViewport();if(t.changed){console.log("contextLayer.createContextLayer.updateLayerPosition: changing layer position for viewport ... ");v.position=t.position;y=this.calculateLayerPosition(n);w.offset(y)}var x=jq("."+T,w);var s=this.getArrowPosition(x,w,n);x.offset(s);if(t.changed){v.position=u}}},hideLayer:function(){var s=this.layerDiv;if(r.deactivateCloseEvents){console.log(" this.isVisible(): "+this.isVisible());s.hide()}if(this.isVisible()==false&&r.deactivateCloseEvents==false){return }if(null!==this.timer){clearTimeout(this.timer);this.timer=null}this.fadeOutLayer();return this},fadeInLayer:function(){var x=this.layerDiv;var w=x.find("."+O+":first");var y=rlBrowser.getInternetExplorerVersion();if(y>0&&y<9){var t=w.width();var v=w.height();var u;var s=parseInt(jq(this.layerDiv).find(".infoIconContextLayer").css("marginTop"));if(s<0){u=s-7}else{u=-7}x.css({display:"none",visibility:"visible"});w.append(jq('<div class="shadowIeAlternative shadow" />').css({backgroundColor:"#FFFFFF",height:v,left:"-7px",position:"absolute",top:u+"px",width:t,zIndex:"-1"}));x.stop(true,true).show(X,function(){jq(this).find("."+J).scrollTop(0)})}else{x.css({display:"none",visibility:"visible"});w.addClass(N);x.stop(true,true).fadeIn(X).find(".contextLayerContent").scrollTop(0)}},fadeOutLayer:function(){var s=this.layerDiv;var t=rlBrowser.getInternetExplorerVersion();if(t>0&&t<9){s.find("."+O+":first").children(".shadowIeAlternative").remove();s.fadeOut(e,function(){jq(this).css({visibility:"hidden"})})}else{s.fadeOut(e,function(){s.css({visibility:"hidden"})})}},isVisible:function(){return this.layerDiv.is(":visible")},isAnimated:function(){return this.layerDiv.is(":animated")},getDialog:function(){return this.layerDiv},addOpenListener:function(s){this.actionObservers.addOpenListener(s)},addCloseListener:function(s){this.actionObservers.addCloseListener(s)}}}function S(s){var v={layerWidth:"w1",contentPosition:"topRight",contentType:"default",zIndex:"15000",pathClass:"infoIconLayer",replacementContent:"default",groupingParentClass:"default",editable:"false",closeOnScroll:"true",fixedContent:"default",replaceIconByDivText:undefined,deactivateCloseEvents:false};var r={};jq.extend(r,v,s);var u=j(r);var t=jq(u);if(s.replaceIconByDivText){t.find(".infoIconLayerIcon").html(s.replaceIconByDivText)}return{dom:t,callback:function(){jq("#"+r.componentId+" .infoIconLayerIcon").each(function(){r.context=jq(this);rlContextLayer.contextLayer(r)})}}}function j(r){return'<div class="parbase contextLayer base infoIconLayer"> <div class="infoIconLayerContent infoIconContent" id="'+r.componentId+'">   <span class="infoIconLayerIcon">     <div class="parbase base infoIcon">       <span class="infoIconContent">         <span class="infoIconIcon">           <div class="_infoIconInclude parbase base small"><div class="baseIconSprite baseIconSizeSmall spriteIconInfoSmall clickableIconInfoSmall" data-tracking-clickable="true" data-tracking-type="infoicon"></div></div>         </span>       </span>     </div>   </span> <div class="infoIconContextLayer">   <div class="InfoLayer">     <div class="contextLayerWrap">       <div class="contextLayerCloseButton"><a class="closeButton"></a></div>         <div class="contextLayerMainBlock contextLayerStandardBlock">           <div class="contextLayerDialog ">             <div class="contextLayerClosable"><div class="contextLayerContent">'+r.layerText+'</div></div>           </div>         </div>       </div>     </div>     <span class="contextLayerPointer"></span>   </div> </div></div>'}return{getInfoIconTemplate:function(r){j(r)},contextLayer:function(s){var r=s.context;var t=r.data("showroom-initialized");if(t){return false}r.data("showroom-layerHeigth",s.layerHeight);r.data("showroom-layerWidth",s.layerWidth);r.data("showroom-autoOpen",s.autoOpen);r.data("showroom-timeout",s.timeout);r.data("showroom-contentPosition",s.contentPosition);r.data("showroom-zIndex",s.zIndex);r.data("showroom-contentType",s.contentType);r.data("showroom-componentId",s.componentId);r.data("showroom-editable",s.editable);r.data("showroom-closeOnScroll",s.closeOnScroll);r.data("showroom-deactivateCloseEvents",s.deactivateCloseEvents);var u=(s.groupingParentClass?s.groupingParentClass+"-":"")+(s.pathClass?s.pathClass:"NOPATHCLASS");r.data("showroom-trackingId",u);var v=r.parents("."+s.pathClass+":first");r.data("showroom-parent",v.parent());if("embedded"==s.contentType){var x=v.prev();if(x.length==0){console.warn("contextLayer.contextLayer(): problem in the dom structure at "+s.componentId)}r.data("showroom-content",x)}if("default"!==s.replacementContent){r.data("showroom-clickableContent",v.siblings("."+s.replacementContent).first())}if("default"!==s.fixedContent){r.data("showroom-fixedContent",v.siblings("."+s.fixedContent).first())}console.log("contextLayer: Parameters initialized for infoIcon dom node with id "+s.componentId);var w=s.groupingParentClass;if(s.groupingParentClass.indexOf(".")===0){w=v.parents(s.groupingParentClass+":first").attr("id")}rlContextLayer.initInfoIconLayer(r,w);r.data("showroom-initialized","true")},initInfoIconLayer:function(r,s){p(r,s)},getJavaScriptInterface:function(s){var r=s;if(!s.jquery){r=jq(s+" ."+l)}return r.data(Y)},addOpenListener:function(r){actionObservers.addOpenListener(r)},getContentLayer:function(s){var r=s;if(!s.jquery){r=jq(s+" ."+l)}return r.data(J)},buildNewLayer:S,__init__:function(){jq(window).bind("wcmmode_changed",function(r,s){jq("body").click()})},__start__:function(){}}}();rlCookieController=function(){var R={NONE:"NONE",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED"};var S={NONE:0,CONSENT_LESS:1,NEEDS_CONSENT:2,THIRD_PARTY:3};var h={NONE:"NONE",OPT_OUT:"OPT_OUT",OPT_IN:"OPT_IN"};var a="visitorid";var M="/etc/designs/bmwnext/apps/bmwnext/base/static/enableVisitorId.html";var T="cookieController.EVENT_OPT_STATUS_CHANGED";var Y=cookieControllerList.cookies;var J="cookieDetection";var O="consentCookie";var Z=undefined;var K=false;var P=new Array();function E(){cookieRegulation=rlPage.cookieRegulation();Z=j();if(Z&&Z.timestamp!=cookieRegulation.timestamp){L();Z=undefined;K=true}if(typeof Z=="undefined"&&cookieRegulation.policy!=h.NONE){K=true}I()}function I(){if(cookieRegulation.policy===h.OPT_OUT&&typeof Z==="undefined"){i({optStatus:R.ACCEPTED,optStatusThird:R.ACCEPTED})}}function Q(o){var n=undefined;var l=undefined;if(!V()){n="Setting cookies is disabled in the browser by the user.";return d(o,n)}var m=b(o.cookieKey);if(m){l=m.cookieType}else{n="The following cookie is not in the cookieList: "+o.cookieKey;return d(o,n)}if(cookieRegulation.policy===h.NONE||l===S.CONSENT_LESS){return d(o,n)}else{if((Z&&Z.consent===R.REJECTED)||(!Z&&cookieRegulation.policy===h.OPT_IN)){n="Current policy forbids setting the cookie "+o.cookieKey;k(o.cookieKey)}}return d(o,n)}function H(l){P.push(l)}function d(m,l){if(typeof m.callback==="function"){return m.callback(l)}else{if(typeof l==="undefined"){return true}}}function G(l){var n,m;n=jq.cookie(l.cookieKey);if(n===null||n===undefined){return null}m=clone(l);m.cookieValue=n;return m}function U(m){var l=false;jq.each(Y,function(o,n){var p=new RegExp(n.key);if(p.test(m)){l=n;return }});return l}function N(m){if(typeof cookieRegulation=="undefined"){E()}m.expires=U(m.cookieKey).expiry;var l=clone(m);l.callback=function(n){if(n){return d(m,n)}return g(m)};return Q(l)}function g(l){if(typeof l.path=="undefined"){l.path="/"}if(typeof l.domain=="undefined"){l.domain=rlCrossSubDomainAjax.getAllowedAJAXDomain()}rlComponentLoader.deferredExec("jQuery_cookie",function(){jq.cookie(l.cookieKey,l.cookieValue,l)});if(l.callback){if(typeof l.callback==="function"){l.callback()}}}function B(l){if(!rlCookieController.isCookieAllowed({cookieKey:a})&&!rlCookieController.isRegulationAccepted()){rlCookieController.removeCookie(a);return false}if(typeof l!="function"){l=function(){}}if(jq.cookie(a)==null){jq.get(M).done(l()).fail(function(){console.log("Setting visitorid failed!")})}else{l()}}function k(m){var l=rlCrossSubDomainAjax.getAllowedAJAXDomain();jq.cookie(m,"",{domain:l,path:"/",expires:-1})}function i(m){if(!m){return }m.cookieKey=O;m.path="/";m.expires=U(O).expiry;var l=false;Z=j();if(!Z){Z={cookie:m.cookieValue,consent:R.REJECTED,consentThird:R.REJECTED,timestamp:cookieRegulation.timestamp}}if(m.optStatus){if(m.optStatus===R.REJECTED){Z.timestamp=cookieRegulation.timestamp;Z.consent=R.REJECTED;L();l=true}else{if(m.optStatus===R.ACCEPTED){Z.timestamp=cookieRegulation.timestamp;Z.consent=R.ACCEPTED;l=true}}}if(m.optStatusThird){if(m.optStatusThird===R.REJECTED){Z.timestamp=cookieRegulation.timestamp;Z.consentThird=R.REJECTED;l=true}else{if(m.optStatusThird===R.ACCEPTED){Z.timestamp=cookieRegulation.timestamp;Z.consentThird=R.ACCEPTED;l=true}}}if(l){m.cookieValue=f(Z);g(m);Z=j();jq(window).trigger(rlCookieController.getOptStatusChangeEvent())}}function V(){var l=navigator.cookieEnabled;if(l===false){return false}if(!document.cookie&&l===null){document.cookie=J+"=1";if(!document.cookie&&l===null){return false}else{document.cookie=J+"=; expires="+new Date(0).toUTCString()}}return true}function j(){var l=undefined;var n=jq.cookie(O);if(typeof n=="string"){try{l=e(n)}catch(m){l=undefined}}return l}function L(){k(O);jq.each(X(),function(l,m){if(b(m).needsConsent===true){k(m)}})}function X(){var l=document.cookie.split(";");var o=new Array();for(var m=1;m<=l.length;m++){var n=l[m-1].split("=");if(typeof n!==undefined){o.push(n)}}return o}function b(m){var l=false;jq.each(Y,function(o,n){var p=new RegExp("^"+n.key+"$");if(p.test(m)){l=n;if(l.needsConsent===true){l.cookieType=S.NEEDS_CONSENT}else{l.cookieType=S.CONSENT_LESS}l.cookieKey=n.key;return false}});return l}function f(m){var l={};var n;l.timestamp=m.timestamp;l.consentFirst=m.consent;l.consentThird=m.consentThird;n=jq.toJSON(l);return n}function e(n){var m={};var l=jq.evalJSON(n);m={cookie:n,consent:l.consentFirst,consentThird:l.consentThird,timestamp:l.timestamp};return m}function c(){console.dir({cookieList:Y,userConsent:Z,cookieRegulation:cookieRegulation,COOKIE_TYPE:S,POLICY_TYPE:h,showDisclaimer:K,cookieQueue:P})}function A(){return K}function D(){if(cookieRegulation.policy==h.NONE){return false}return true}function F(){if(!D()){return true}var l=j();if(l!=undefined){if(l.consent==R.ACCEPTED){return true}}return false}function W(l){}function C(){if(!D()){return true}var l=j();if(l!=undefined){if(l.consentThird==R.ACCEPTED){return true}}return false}return{__init__:function(){E()},getOptStatusChangeEvent:function(){return"cookieController.EVENT_OPT_STATUS_CHANGED"},isCookieAllowed:Q,getCookie:G,setCookie:N,removeCookie:k,setOptStatus:i,setRegulationAccepted:function(){i({optStatus:R.ACCEPTED})},setRegulationRejected:function(){i({optStatus:R.REJECTED})},setRegulationThirdAccepted:function(){i({optStatusThird:R.ACCEPTED})},setRegulationThirdRejected:function(){i({optStatusThird:R.REJECTED})},setRegulationsAccepted:function(){i({optStatus:R.ACCEPTED,optStatusThird:R.ACCEPTED})},setRegulationsRejected:function(){i({optStatus:R.REJECTED,optStatusThird:R.REJECTED})},isRegulationAccepted:F,isRegulationThirdAccepted:C,showDisclaimer:A,hasRegulation:D,cookiesEnabled:V,checkVisitorId:B,dump:c}}();var rlCoreServices=function(){var A5=rlPage.getNextCoreUrl();var Ad=undefined;var BV=undefined;var AN="fieldKey";var BY=A5+"/usermgmt-metadata/services/_{mandatorContext}/fielddescription/enums?";var V=A5+"/usermgmt-metadata/services/_{mandatorContext}/fielddescription?"+AN+"=_{set}";var A7=A5+"/usermgmt-metadata/services/_{mandatorContext}/fielddescription/enum/_{fieldKey}";var Ba=A5+"/usermgmt-user/services/_{mandatorContext}/user/registration";var AE=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/webpolicy";var a=A5+"/usermgmt-user/services/_{mandatorContext}/system/policytype?t=_{policyType}";var AA=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/webpolicy";var Ac=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/interests";var AX=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/interests";var f=A5+"/usermgmt-user/services/_{mandatorContext}/profile/me/profile";var Ab=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/user";var Ak=A5+"/usermgmt-user/services/_{mandatorContext}/profile/me/profile";var l=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/dashboard";var BQ=l;var z=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/password";var Ao=A5+"/usermgmt-user/services/_{mandatorContext}/account/passwordreset";var v=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/login";var BB=A5+"/usermgmt-user/services/_{mandatorContext}/account/me/login";var Ar=A5+"/usermgmt-user/services/_{mandatorContext}/profile/profile";var BX=A5+"/usermgmt-user/_{mandatorContext}/services/profile/profilemigrate";var AW=A5+"/usermgmt-user/services/_{mandatorContext}/profile/registerrfx";var AC=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/user";var Ai=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/me/confmail";var o=A5+"/usermgmt-user/services/_{mandatorContext}/login/me/logout";var i=A5+"/usermgmt-user/services/_{mandatorContext}/login/status";var Bg=A5+"/usermgmt-user/services/_{mandatorContext}/login/loginStatus";var BD=A5+"/usermgmt-user/services/_{mandatorContext}/login/newSession";var Bm=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/rfp";var Bk=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/esp";var BF=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/rfo";var Aa=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/rfi";var Az=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/rfi/download";var BJ=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/tda";var j=A5+"/usermgmt-rfx/services/_{mandatorContext}/rfx/rfc";var Ax=A5+"/usermgmt-rfx/services/_{mandatorContext}/rfx/rfs";var P=A5+"/usermgmt-rfx/services/_{mandatorContext}/rfx/rfo?validate-only=true";var Y=A5+"/usermgmt-rfx/services/_{mandatorContext}/rfx/tda?validate-only=true";var AZ=A5+"/usermgmt-rfx/services/_{mandatorContext}/rfx/rfc?validate-only=true";var BE=A5+"/usermgmt-rfx/services/_{mandatorContext}/rfx/rfi?validate-only=true";var H=A5+"/usermgmt-rfx/services/_{mandatorContext}/rfa/validate";var A=A5+"/usermgmt-rfx/services/_{mandatorContext}/contact/validate";var BC=A5+"/usermgmt-rfx/services/_{mandatorContext}/rfa/send";var y=A5+"/usermgmt-rfx/services/_{mandatorContext}/contact/send";var BR=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/user";var U=A5+"/dealer/services/_{mandatorContext}/lastVisitedDealer/setDealer";var B=A5+"/dealer/services/_{mandatorContext}/lastVisitedDealer/getDealer";var x=A5+"/usermgmt-user/services/_{mandatorContext}/user/me/user";var Bq=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/infomaterials?type=_{INFOMATERIALTYPE}";var Aj=A5+"/usermgmt-user/services/_{mandatorContext}/address/autoComplete";var AF=A5+"/usermgmt-user/services/_{mandatorContext}/address/validate";var A8=A5+"/usermgmt-user/services/_{mandatorContext}/account/loginChange";var c=A5+"/usermgmt-user/services/_{mandatorContext}/account/confirmLoginChange";var A1=A5+"/usermgmt-user/services/_{mandatorContext}/account/resendActivation";var W=A5+"/usermgmt-user/services/_{mandatorContext}/account/resendLoginChange";var A0=A5+"/usermgmt-user/services/_{mandatorContext}/impulse/me/insider";var Bo=A5+"/usermgmt-rfx/services/_{mandatorContext}/request/pdfSummary";var BU=A5+"/usermgmt-user/services/_{mandatorContext}/tellafriend/sendMail";var Bb=A5+"/crossfunctions-searchintegration-service/services/_{mandatorContext}/search";var u="user_logged_in";var d="user_logged_out";var BP="coreServices_error";var AO="status_event";var K="ERROR";var Ae="VALIDATION";var AL="OK";var AU="LOGGEDOUT";var Bi="invalidResponse";var AS="existed_c2b_login_trigger";var BT="existed_bmw_next_login_trigger";var Bh="not_existed_login_trigger";var AG=undefined;var Q="[rlCoreServices] ";function N(Bs,Br){if(typeof Bs==="undefined"){Bs={}}Bs.action=Br;return Bs}function BG(Br){rlNxt.call({type:"GET",dataType:"json",url:rlMandator.replaceCoreUrl(Br.url),success:function(Bs){g(Bs,{action:Br.action,actor:rlErrorService.ACTOR_SYSTEM,successCallback:Br.success,errorCallback:Br.error})},error:function(Bs,Bu,Bt){Bs.actor=rlErrorService.ACTOR_SYSTEM;Br.error(Br.action,Bs,Bu,Bt)}})}function g(Bu,Bt){var Br={oneTriggerForEachResponse:false,oneCallbackForEachResponse:false,requestType:null,actor:null,action:null,successCallback:null,errorCallback:null,validationCallback:null,successTriggerName:null,additionalSuccessTriggerName:null,errorTriggerName:null,validationTriggerName:null,responseProcessedTriggerName:null,getSuccessTriggerName:function(Bv){return this.successTriggerName},getProcessDataForTrigger:function(Bv){return Bv},getErrorDataForCallback:function(Bv){return Bv},getErrorDataForTrigger:function(Bv){return Bv},getValidationDataForTrigger:function(Bv){return Bv},getValidationDataForCallback:function(Bv){return Bv},getSuccessDataForCallback:function(Bv){return Bv},getSuccessDataForTrigger:function(Bv){return Bv.data},doCallback:function(Bx,B1,Bz,Bw){if(B1){var Bv=Bz(Bx);if(Bv){Bv.action=this.action}if(Bt.oneCallbackForEachResponse&&jq.isArray(Bv)&&Bw!==false){for(var B0=0,By=Bv.length;B0<By;B0++){B1(Bv[B0])}}else{B1(Bv)}}},doTrigger:function(Bx,Bv,B0,Bw){if(Bv){var Bz=B0(Bx);if(Bz){Bz.action=this.action}if(Bt.oneTriggerForEachResponse&&jq.isArray(Bz)&&Bw!==false){for(var B1=0,By=Bz.length;B1<By;B1++){jq(window).trigger(Bv,Bz[B1])}}else{jq(window).trigger(Bv,Bz)}}},doSuccessCallback:function(Bv,Bw){return this.doCallback(Bv,Bw||this.successCallback,this.getSuccessDataForCallback,true)},doErrorCallback:function(Bv,Bw){return this.doCallback(Bv,Bw||this.errorCallback,this.getErrorDataForCallback,false)},doValidationCallback:function(Bv,Bw){return this.doCallback(Bv,Bw||this.validationCallback,this.getValidationDataForCallback,false)},doSuccessTrigger:function(Bw,Bv){return this.doTrigger(Bw,Bv,this.getSuccessDataForTrigger,true)},doValidationTrigger:function(Bw,Bv){return this.doTrigger(Bw,Bv||this.validationTriggerName,this.getValidationDataForTrigger,false)},doErrorTrigger:function(Bw,Bv){return this.doTrigger(Bw,Bv||this.errorTriggerName,this.getErrorDataForTrigger,false)},doProcessTrigger:function(Bw,Bv){return this.doTrigger(Bw,Bv||this.responseProcessedTriggerName,this.getProcessDataForTrigger,false)}};Bt=jq.extend({},Br,Bt);Bu=Bu||{};Bu.requestType=Bt.requestType;Bu.action=Bt.action;Bu.actor=Bt.actor;if(Bu.status){switch(Bu.status){case AL:Bt.doSuccessCallback(Bu,Bt.successCallback);Bt.doSuccessTrigger(Bu,Bt.getSuccessTriggerName(Bu));Bt.doSuccessTrigger(Bu,Bt.additionalSuccessTriggerName);break;case Ae:console.error("Validation Problem:"+Bu);Bt.doValidationTrigger(Bu);Bt.doValidationCallback(Bu);break;case K:console.error("Backend Error:"+Bu);Bt.doErrorTrigger(Bu);Bt.doErrorCallback(Bu);break;case AU:AG=false;rlNxt.clearCache([rlNxt.cacheName.loginStatus,rlNxt.cacheName.profileData]);var Bs={protocol:window.location.protocol,hostname:window.location.hostname};rlUserDialog.redirectToMyDashboard(Bs);break;default:throw Bi;break}}else{throw Bi}if(Bt.responseProcessedTriggerName){Bt.doProcessTrigger(Bu)}}function Ap(Bs){var Br="";if(Bs!=undefined){jq.each(Bs,function(Bu,Bt){Br+=((Br.length>0)?"&":"")+AN+"="+Bt})}return Br}function r(Br){var Bs=rlErrorService.ACTOR_USER;try{rlNxt.call({type:"POST",url:rlMandator.replaceCoreUrl(z),data:JSON.stringify(Br.data),dataType:"json",contentType:"application/json",success:function(Bu){g(Bu,{actor:Bs,successCallback:Br.success,getValidationDataForCallback:function(Bv){if(jq.isArray(Bv.validationErrors.validationError)){return Bv.validationErrors.validationError}else{return[Bv.validationErrors.validationError]}},validationCallback:Br.validationError,errorCallback:Br.error})},error:function(Bu){AM(Bs);if(typeof Br.error=="function"){Br.error(Bu)}},complete:Br.complete})}catch(Bt){AM(Bs);console.log(Q+"Failed rlNxt.call "+r+": "+Bt)}}function D(Br){var Bs=rlErrorService.ACTOR_USER;try{rlNxt.call({type:"POST",url:rlMandator.replaceCoreUrl(Ao),data:JSON.stringify(Br.data),dataType:"json",contentType:"application/json; charset=UTF-8",success:function(Bu){g(Bu,{actor:Bs,successCallback:Br.success,errorCallback:Br.error,validationCallback:Br.validationError})},error:function(Bu){AM(Bs);if(typeof Br.error=="function"){Br.error(Bu)}}})}catch(Bt){AM(Bs);console.log(Q+"Failed rlNxt.call "+r+": "+Bt)}}function C(Bs){var Bt=rlErrorService.ACTOR_USER;try{var Br=rlMandator.replaceCoreUrl(BB);rlNxt.call({type:"POST",url:Br,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(Bs.data),success:function(Bv){g(Bv,{actor:Bt,successCallback:Bs.success,errorCallback:Bs.error,validationCallback:Bs.validationError})},complete:Bs.complete,error:function(Bv){AM(Bt);if(typeof Bs.error=="function"){Bs.error(Bv)}}})}catch(Bu){AM(Bt);console.log(Q+"Failed rlNxt.call : "+Bu)}}function t(Bs){try{var Br=rlMandator.replaceCoreUrl(v);rlNxt.call({type:"GET",url:Br,dataType:"json",contentType:"application/json; charset=utf-8",success:function(Bu){g(Bu,{successCallback:Bs.success,errorCallback:Bs.error})},error:function(Bu){if(typeof Bs.error=="function"){Bs.error(Bu)}}})}catch(Bt){console.log(Q+"Failed rlNxt.call "+getLoginName+": "+Bt)}}function J(Br){try{rlNxt.call({type:"GET",url:rlMandator.replaceCoreUrl(l),cacheKey:rlNxt.cacheName.dashboardData,success:function(Bt){g(Bt,{successCallback:options.success,errorCallback:options.error})},error:function(Bt){if(typeof Br.error=="function"){Br.error(Bt)}},dataType:"json"})}catch(Bs){console.log(Q+"Failed rlNxt.call "+l+": "+Bs)}}function AR(Br){try{rlNxt.call({type:"POST",url:rlMandator.replaceCoreUrl(BQ),cacheKey:rlNxt.cacheName.dashboardData,data:JSON.stringify(Br),dataType:"json",contentType:"application/json"})}catch(Bs){console.log(Q+"Failed rlNxt.call "+BQ+": "+Bs)}}function Bj(){var Bs=rlErrorService.ACTOR_SYSTEM;var Br=rlMandator.replaceCoreUrl(V).replace("_{set}","optionalField$");rlNxt.call({type:"GET",dataType:"json",url:Br,cacheKey:rlNxt.cacheName.profileOptionalFields,success:function(Bt){g(Bt,{actor:Bs,successTriggerName:rlAbstractForm.getTriggerNameFieldDescriptionsLoaded(),getSuccessDataForTrigger:function(Bv){if(Bv&&Bv.dataList){var Bu={name:"optional",list:Bv};return Bu}else{throw Bi}}})},error:function(Bt,Bv,Bu){AM(Bs);console.warn(Bt+Bv+Bu)}})}function X(Bt){var Bs=rlErrorService.ACTOR_SYSTEM;var Br=rlMandator.replaceCoreUrl(V).replace("_{set}","optionalField$");rlNxt.call({type:"GET",dataType:"json",url:Br,cacheKey:rlNxt.cacheName.profileOptionalFields,success:function(Bu){g(Bu,{actor:Bs,successCallback:Bt.success,errorCallback:Bt.error,getSuccessDataForCallback:function(Bw){if(Bw&&Bw.data&&Bw.data.valueList){var Bv=[];jq.each(Bw.data.valueList,function(Bx,By){By.key=By.key.replace(/\$/g,".");Bv.push(By)});return{dataList:Bv}}else{throw Bi}}})},error:function(Bu,Bw,Bv){AM(Bs);console.log(Q+Bu+Bw+Bv)}})}function Ah(Bt){var Bs=rlErrorService.ACTOR_SYSTEM;var Br=rlMandator.replaceCoreUrl(A7).replace("_{fieldKey}",Bt.key);rlNxt.call({type:"GET",dataType:"json",url:Br,cacheKey:rlNxt.cacheName.profileFieldDesc,success:function(Bu){g(Bu,{actor:Bs,successCallback:Bt.success,errorCallback:Bt.error})},error:function(Bu,Bw,Bv){AM(Bs);console.log(Q+Bu+Bw+Bv)}})}function Be(Br){F({success:Br.success,error:Br.error,fieldNames:{profile:"profile$","optionalField$":"optionalField$","address$":"address$","communications$":"communications$",hobbies:"hobby$",technologies:"technology$",vehicleInterests:"vehicleinterest$"}})}function F(Bw){var Bv=undefined,Bt=undefined;if(typeof Bw.success!=="undefined"){Bv=Bw.success;Bt=Bw.error;Bw=Bw.fieldNames}var Bs=rlErrorService.ACTOR_SYSTEM;var Bu=Ap(Bw);var Br=rlMandator.replaceCoreUrl(BY)+Bu;rlNxt.call({type:"GET",dataType:"json",url:Br,cacheKey:Bu,success:function(Bx){g(Bx,{successCallback:Bv,errorCallback:Bt,responseProcessedTriggerName:rlAbstractForm.getTriggerNameListInitialized(),errorTriggerName:rlAbstractForm.getTriggerNameError(),successTriggerName:rlAbstractForm.getTriggerNameListLoaded(),oneTriggerForEachResponse:true,action:"loadList",actor:Bs,getErrorDataForTrigger:function(By){return By.error},getSuccessDataForTrigger:function(Bz){var By;if(Bz.dataMap&&Bz.dataMap.entry){var B0=new Date(Bz.time);if(jq.isArray(Bz.dataMap.entry)){By=[];jq.each(Bz.dataMap.entry,function(B1,B2){var B3=Bz.dataMap.entry[B1]||{};B3.time=B0;By.push(B3)})}else{By=Bz.dataMap.entry||{};By.time=B0}}else{throw Bi}return By}})},error:function(Bx,Bz,By){AM(Bs);console.log(Q+Bx+Bz+By);jq(window).trigger(rlAbstractForm.getTriggerNameListInitialized())}})}function BS(Bs,Br){var Bu=rlErrorService.ACTOR_SYSTEM;var Bt=Bs.salutation;Ah({key:"profile$salutation",success:function(Bv){g(Bv,{actor:Bu,oneCallbackForEachResponse:true,successCallback:Br,getSuccessDataForCallback:function(Bx){var Bz=[];if(Bx.dataList&&Bx.dataList.dataList){var By=Bx.dataList.dataList;for(key in By){if(By[key].key===Bt){var Bw={firstname:Bs.firstname,lastname:Bs.lastname,salutation:By[key].value};Bz.push(Bw)}}return Bz}else{AM(Bu);throw Bi}}})}})}function q(Br){rlNxt.call({type:"GET",dataType:"json",url:rlMandator.replaceCoreUrl(Ab),cacheKey:rlNxt.cacheName.userData,success:function(Bs){g(Bs,{action:"loadProfileData",actor:rlErrorService.ACTOR_SYSTEM,successCallback:Br.success,errorCallback:Br.error,getSuccessDataForCallback:function(Bu){var Bt=Bu.data;Bt.profile.hasPhoneNumber=jq.isPlainObject(Bt.profile.businessMobile)||jq.isPlainObject(Bt.profile.businessPhone)||jq.isPlainObject(Bt.profile.phone)||jq.isPlainObject(Bt.profile.mobile);return Bt}})},error:function(Bs,Bu,Bt){Bs.actor=rlErrorService.ACTOR_SYSTEM;Br.error("getUserData",Bs,Bu,Bt)}})}function L(Br){if(typeof Br!=="undefined"){if(Br.notFirst===true){return true}else{Br.notFirst=true}}return false}function Bc(Bs){var Bt=rlErrorService.ACTOR_SYSTEM;var Bu=a.replace("_{policyType}",(typeof Bs.policyType!=="undefined"?(Bs.policyType):""));var Br=rlMandator.replaceCoreUrl(Bu);try{rlNxt.call({type:"GET",url:Br,dataType:"json",contentType:"application/json; charset=utf-8",success:function(Bw){g(Bw,{successCallback:Bs.success,errorCallback:Bs.error})},error:function(Bw){if(typeof Bs.error=="function"){Bs.error(Bw)}}})}catch(Bv){console.log(Q+"Failed rlNxt.call getCurrentPolicyUrlImpl"+Bs.policyType+": "+Bv)}}function m(Bs,Br){var Bu=rlErrorService.ACTOR_SYSTEM;var Bt=rlMandator.replaceCoreUrl(AE);rlNxt.call({type:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",url:Bt,cacheKey:rlNxt.cacheName.acceptedPolicyData,success:function(Bv){g(Bv,{requestType:"acceptedPolicy",action:"loadAcceptedPolicyData",actor:Bu,errorTriggerName:rlAbstractForm.getTriggerNameError(),successTriggerName:((typeof Bs==="string")?Bs:rlAbstractForm.getTriggerNameDataLoaded()),getSuccessDataForTrigger:function(Bw){var Bx=Bw.data;if(L(Br)){if(!Bx){Bx={}}Bx.doNotClean=true}return Bx}})},error:function(Bv,Bx,Bw){AM(Bu);console.log(Q+Bv+Bx+Bw)}})}function At(Bv,Bt,Bs){var Bu=rlErrorService.ACTOR_SYSTEM;if(Bv){var Br=rlMandator.replaceCoreUrl(AA);rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bv),url:Br,success:function(Bw){g(Bw,{action:"saveAcceptedPolicy",actor:Bu,successTriggerName:rlAbstractForm.getTriggerNameDataSaved(),errorTriggerName:rlAbstractForm.getTriggerNameError(),successCallback:Bt,errorCallback:Bs,getSuccessDataForCallback:function(Bx){return Bx.data},getErrorDataForCallback:function(Bx){return Bx.error}})},error:function(Bw,By,Bx){AM(Bu);console.log(Q+Bw+By+Bx)}})}}function k(Bt,Bs){var Br=undefined;var Bv=undefined;if(typeof Bt==="object"){Br=Bt.success;Bv=Bt.error;_queue=Bt.queue;Bt=Bt.context}var Bw=rlErrorService.ACTOR_SYSTEM;var Bu=rlMandator.replaceCoreUrl(Ac);rlNxt.call({type:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",url:Bu,cacheKey:rlNxt.cacheName.interestsData,success:function(Bx){g(Bx,{requestType:"interests",action:"loadInterestData",actor:Bw,successCallback:Br,errorCallback:Bv,errorTriggerName:rlAbstractForm.getTriggerNameError(),successTriggerName:((typeof Bt==="string")?Bt:rlAbstractForm.getTriggerNameDataLoaded()),getSuccessDataForTrigger:function(By){var Bz=By.data||{};if(L(Bs)){if(!Bz){Bz={}}Bz.doNotClean=true}return Bz}})},error:function(Bx,Bz,By){AM(Bw);console.log(Q+Bx+Bz+By)}})}function b(Bt,Bs){var Br=undefined;var Bv=undefined;if(typeof Bt==="object"){Br=Bt.success;Bv=Bt.error;_queue=Bt.queue;Bt=Bt.context}var Bw=rlErrorService.ACTOR_SYSTEM;var Bu=rlMandator.replaceCoreUrl(f);rlNxt.call({type:"GET",dataType:"json",contentType:"application/json; charset=UTF-8",url:Bu,cacheKey:rlNxt.cacheName.profileData,success:function(Bx){g(Bx,{action:"loadProfileData",actor:Bw,successCallback:Br,errorCallback:Bv,errorTriggerName:rlAbstractForm.getTriggerNameError(),successTriggerName:((typeof Bt==="string")?Bt:rlAbstractForm.getTriggerNameDataLoaded()),responseProcessedTriggerName:rlAbstractForm.getTriggerNameAllDataLoaded(),getProcessDataForTrigger:function(By){if(By){var Bz=By.data;if(L(Bs)){if(!Bz){Bz={}}Bz.doNotClean=true}return Bz}else{throw Bi}}})},error:function(Bx,Bz,By){AM(Bw);console.log(Q+Bx+Bz+By);jq(window).trigger(rlAbstractForm.getTriggerNameAllDataLoaded())}})}function AM(Br){jq(window).trigger(rlAbstractForm.getTriggerNameError(),{actor:Br})}function Bn(Bv,Bt,Bs,Bw){var Bu=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(AX);rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bv),url:Br,cacheKey:rlNxt.cacheName.interestsData,success:function(Bx){g(Bx,{requestType:"interests",action:"saveInterests",actor:Bu,getSuccessDataForCallback:function(By){if(typeof By.data==="object"){By.data.requestType="interests"}return By.data},getErrorDataForCallback:function(By){return By.error},getValidationDataForTrigger:function(By){return By.validationErrors},successTriggerName:rlAbstractForm.getTriggerNameDataSaved(),additionalSuccessTriggerName:rlAbstractForm.getTriggerNameProfileSaved(),errorTriggerName:rlAbstractForm.getTriggerNameError(),validationTriggerName:rlAbstractForm.getTriggerNameError(),validationCallback:Bw,successCallback:Bt,errorCallback:Bs})},error:function(Bx,Bz,By){AM(Bu);console.log(Q+Bx+Bz+By)}})}function A9(Bv,Bt,Bs,Bw){var Bu=rlErrorService.ACTOR_USER;if(Bv){var Br=rlMandator.replaceCoreUrl(Ak);rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bv),url:Br,cacheKey:rlNxt.cacheName.profileData,isResponseOkayForCache:function(Bx){return Bx.status==="OK"},success:function(Bx){g(Bx,{action:"saveProfile",actor:Bu,successTriggerName:rlAbstractForm.getTriggerNameDataSaved(),additionalSuccessTriggerName:rlAbstractForm.getTriggerNameProfileSaved(),errorTriggerName:rlAbstractForm.getTriggerNameError(),validationTriggerName:rlAbstractForm.getTriggerNameError(),successCallback:Bt,errorCallback:Bs,validationCallback:Bw,getSuccessDataForCallback:function(By){return By.data},getErrorDataForCallback:function(By){return By.error},getValidationDataForTrigger:function(By){return By.validationErrors}})},error:function(Bx,Bz,By){AM(Bu);console.log(Q+Bx+Bz+By)}})}}function I(Bu){var Bt=rlErrorService.ACTOR_USER;var Br;if(typeof Bu.data.account==="undefined"){Br=rlMandator.replaceCoreUrl(BX)}else{if(Bu.data.campaignSourceCode!=null&&Bu.data.offerSourceCode!=null){Br=rlMandator.replaceCoreUrl(AW)}else{Br=rlMandator.replaceCoreUrl(Ar)}}var Bs={id:"register/request/sent",tagName:"DIV"};if(typeof window.bmwcsaclick==="function"){window.bmwcsaclick(Bs)}rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bu.data),url:Br,cacheKey:rlNxt.cacheName.profileData,success:function(Bv){g(Bv,{action:"createProfile",actor:Bt,getErrorDataForCallback:function(Bw){return Bw.error},getValidationDataForCallback:function(Bw){return Bw.validationErrors},getValidationDataForTrigger:function(Bw){return Bw.validationErrors},successTriggerName:rlAbstractForm.getTriggerNameDataSaved(),additionalSuccessTriggerName:"user_registered",errorTriggerName:rlAbstractForm.getTriggerNameError(),validationTriggerName:rlAbstractForm.getTriggerNameError(),successCallback:function(Bw){var Bx={id:"register/response/success",tagName:"DIV"};if(typeof window.bmwcsaclick==="function"){window.bmwcsaclick(Bx)}if(typeof Bu.success!=="undefined"&&typeof Bu.success==="function"){Bu.success(Bw)}},errorCallback:Bu.error,validationCallback:Bu.validation})},error:function(Bv,Bx,Bw){AM(Bt);console.log(Q+Bv+Bx+Bw)}})}function BH(Bt){var Bs=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(AC);rlNxt.call({type:"DELETE",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bt.data),url:Br,cacheKey:rlNxt.cacheName.profileData,success:function(Bu){g(Bu,{action:"deleteProfile",actor:Bs,getSuccessDataForCallback:function(Bv){return Bv},getErrorDataForCallback:function(Bv){return Bv},successCallback:Bt.success,errorCallback:Bt.error})},error:function(Bu,Bw,Bv){AM(Bs);console.log(Q+Bu+Bw+Bv)}})}function BM(Bs){var Br=rlMandator.replaceCoreUrl(Ai);rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bs.data),url:Br,cacheKey:rlNxt.cacheName.profileData,success:function(Bt){},error:function(Bt,Bv,Bu){console.log(Q+Bt+Bv+Bu)}})}function e(Bs){var Bt=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(A0);rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bs.data),url:Br,cacheKey:rlNxt.cacheName.profileData,success:function(Bu){g(Bu,{action:"deleteProfile",actor:Bt,getSuccessDataForCallback:function(Bv){return Bv},getErrorDataForCallback:function(Bv){return Bv},successCallback:Bs.success,errorCallback:Bs.error})},error:function(Bu,Bw,Bv){AM(Bt);console.log(Q+Bu+Bw+Bv)}})}function AQ(Bw,Bu,Bt,Bs,Bx){var Bv=rlErrorService.ACTOR_USER;if(window.sendDealerFormAsNCS){Bu=Bu.replace(/_{mandatorContext}/g,"_{countryMandatorContext}")}var Br=rlMandator.replaceCoreUrl(Bu);rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bw),url:Br,success:function(By){g(By,{actor:Bv,getSuccessDataForCallback:function(Bz){return Bz.data},successCallback:function(Bz){Bt(Bz)},errorCallback:function(Bz){Bs(Bz)},validationCallback:function(Bz){if(typeof Bx=="function"){Bx(Bz)}else{Bs(Bz)}}})},error:function(By){AM(Bv);if(typeof Bs=="function"){Bs(By)}}})}function A2(Bt,Bs,Br,Bu){AQ(Bt,Bm,Bs,Br,Bu)}function AB(Bt,Bs,Br,Bu){AQ(Bt,Bk,Bs,Br,Bu)}function Bf(Bt,Bs,Br,Bu){AQ(Bt,BF,Bs,Br,Bu)}function Au(Bt,Bs,Br,Bu){AQ(Bt,Aa,Bs,Br,Bu)}function E(Bt,Bs,Br,Bu){AQ(Bt,Az,Bs,Br,Bu)}function AI(Bt,Bs,Br,Bu){AQ(Bt,BJ,Bs,Br,Bu)}function AK(Bt,Bs,Br,Bu){AQ(Bt,j,Bs,Br,Bu)}function BI(Bt,Bs,Br,Bu){AQ(Bt,Ax,Bs,Br,Bu)}function BW(Bt,Bs,Br,Bu){AQ(Bt,BC,Bs,Br,Bu)}function BL(Bu,Bt,Br,Bv){var Bs=y;if(rlContextObject.isDealer()!==true||rlContextObject.isOutletContactHidden()!==false){Bs=Bs.replace(/_{mandatorContext}/g,"_{countryMandatorContext}")}AQ(Bu,Bs,Bt,Br,Bv)}function O(Bw,Bu,Bt,Bs,Bx){var Bv=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(Bu);rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bw),url:Br,success:function(By){g(By,{actor:Bv,getSuccessDataForCallback:function(Bz){return Bz.data},successCallback:function(Bz){Bt(Bz)},errorCallback:function(Bz){Bs(Bz)},validationCallback:function(Bz){if(typeof Bx=="function"){Bx(Bz)}else{Bs(Bz)}}})},error:function(By,B0,Bz){AM(Bv);if(typeof Bs=="function"){Bs()}}})}function Aq(Bt,Bs,Br,Bu){O(Bt,P,Bs,Br,Bu)}function Bl(Bt,Bs,Br,Bu){O(Bt,Y,Bs,Br,Bu)}function Bp(Bt,Bs,Br,Bu){O(Bt,AZ,Bs,Br,Bu)}function AH(Bt,Bs,Br,Bu){O(Bt,BE,Bs,Br,Bu)}function Am(Bt,Bs,Br,Bu){O(Bt,H,Bs,Br,Bu)}function h(Bt,Bs,Br,Bu){O(Bt,A,Bs,Br,Bu)}function As(Br,Bt,Bu){var Bv=rlErrorService.ACTOR_SYSTEM;try{var Bs=rlMandator.replaceCoreUrl(BR);rlNxt.call({type:"GET",url:Bs,dataType:"json",contentType:"application/json; charset=utf-8",success:function(By){if(isFunction(Br)){var Bx=[];if(isDefined(By)&&isDefined(By.data)&&isDefined(By.data.dealers)){Bx=By.data.dealers}Br(Bx)}},error:function(Bx){AM(Bv);if(isFunction(Bt)){Bt(Bx)}if(Bu){rlErrorService.handleError({actor:Bu})}}})}catch(Bw){AM(Bv);console.log(Q+"Failed rlNxt.call "+getPreferredDealers+": "+Bw)}}function Av(Br,Bs,Bt){Br(currentDealer)}function S(Bs,Br){Bs(null)}function A4(Bv,Bt,Bs){var Bu=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(U);rlNxt.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bv),url:Br,success:function(Bw){if(typeof Bt=="function"){Bt(Bw)}},error:function(Bw,By,Bx){AM(Bu);if(typeof Bs=="function"){Bs()}}})}function Ay(Bv,Br,Bt,Bu){var Bx=rlErrorService.ACTOR_USER;var Bs=rlMandator.replaceCoreUrl(x);var Bw={user:{dealers:[{action:"INSERT",id:Bv.id,distributionPartnerId:Bv.attributes.distributionPartnerId,outletId:Bv.attributes.outletId,brand:Bv.brandContext}]}};rlCrossSubDomainAjax.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bw),url:Bs,success:function(By){g(By,{actor:Bx,getSuccessDataForCallback:function(Bz){return Bz.data},getErrorDataForCallback:function(Bz){return Bz.error},putFullResponseInErrorCallback:false,successCallback:function(){if(typeof Br=="function"){Br()}},errorCallback:function(){if(typeof Bt=="function"){Bt()}},validationCallback:Bt})},error:function(By,B0,Bz){AM(Bx);if(typeof Bt=="function"){Bt()}if(Bu){rlErrorService.handleError({actor:Bu})}}})}function p(Bx,By,Bz,Bt,Bv,Bw){var Bu=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(x);var Bs={user:{dealers:[{action:"DELETE",GUID:Bx,distributionPartnerId:By,outletId:Bz}]}};rlCrossSubDomainAjax.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bs),url:Br,success:function(B0){g(B0,{actor:Bu,getSuccessDataForCallback:function(B1){return B1.data},getErrorDataForCallback:function(B1){return B1.error},successCallback:function(){if(typeof Bt=="function"){Bt()}},errorCallback:function(){if(typeof Bv=="function"){Bv()}},validationCallback:Bv})},error:function(B0,B2,B1){AM(Bu);if(typeof Bv=="function"){Bv()}if(Bw){rlErrorService.handleError({actor:Bw})}}})}function T(Bu,Br,Bt){var Bw=rlErrorService.ACTOR_USER;var Bs=rlMandator.replaceCoreUrl(x);var Bv={user:{dealers:[{action:"UPDATE",GUID:Bu.GUID,distributionPartnerId:Bu.attributes.distributionPartnerId,outletId:Bu.attributes.outletId,brand:Bu.brandContext,primary:"true"}]}};rlCrossSubDomainAjax.call({type:"POST",dataType:"json",contentType:"application/json; charset=UTF-8",data:JSON.stringify(Bv),url:Bs,success:function(Bx){g(Bx,{actor:Bw,getSuccessDataForCallback:function(By){return By.data},getErrorDataForCallback:function(By){return By.error},successCallback:function(){if(typeof Br=="function"){Br()}},errorCallback:function(){if(typeof Bt=="function"){Bt()}}})},error:function(Bx,Bz,By){AM(Bw);if(typeof Bt=="function"){Bt()}}})}function w(Bv,Bt,Bs){var Bu=rlErrorService.ACTOR_SYSTEM;var Br=rlMandator.replaceCoreUrl(Bq.replace("_{INFOMATERIALTYPE}",Bv));rlNxt.call({type:"GET",dataType:"json",url:Br,success:function(Bw){g(Bw,{actor:Bu,putFullResponseInErrorCallback:false,successCallback:Bt,errorCallback:Bs,getSuccessDataForCallback:function(Bx){if(Bx&&Bx.dataList){return Bx.dataList.dataList}},getErrorDataForCallback:function(Bx){return Bx.error}})},error:function(Bw,By,Bx){AM(Bu);if(typeof Bs=="function"){Bs()}}})}function An(Bs){var Br=rlMandator.replaceCoreUrl(o);rlNxt.call({type:"POST",url:Br,dataType:"json",success:function(Bt){g(Bt,{putFullResponseInSuccessTrigger:true,successCallback:function(){rlLogoutTimer.stop();AG=false;M("mybmwStatus_LogOutSuccessful","mybmwStatus");rlNxt.clearCache([rlNxt.cacheName.loginStatus,rlNxt.cacheName.profileData]);if(typeof Bs==="function"){Bs()}else{rlLoginservice.doDefaultPostLogoutBehaviour()}},successTriggerName:d})},error:function(Bt){jq(window).trigger(BP,[Bt]);M("mybmwStatus_LogOutUnsuccessful","mybmwStatus");window.location.reload()}})}function n(){var Br=rlMandator.replaceCoreUrl(i);rlNxt.call({type:"GET",url:Br,dataType:"json",contentType:"application/json; charset=utf-8",cacheKey:rlNxt.cacheName.loginStatus,success:function(Bs){g(Bs,{successTriggerName:AO,getSuccessDataForTrigger:function(Bt){if(Bt&&Bt.data){return Bt.data.loginStatus}else{throw Bi}}})},error:function(Bs){jq(window).trigger(BP,[Bs])}})}function BO(Bs){Bs=Bs||{};var Br=rlMandator.replaceCoreUrl(i);rlNxt.call({type:"GET",url:Br,dataType:"json",cacheKey:rlNxt.cacheName.implicitLoginStatus,cacheReload:(typeof Bs.useCache!=="undefined")?!Bs.useCache:false,contentType:"application/json; charset=utf-8",success:function(Bt){g(Bt,{successCallback:function(Bv){if(Bv&&Bv.data){var Bu=Bv.data.loginStatus||Bv.data.status;if(Bu==="C2B_LOGGED_IN"){if(Bs.canUse){Bs.canUse(Bv.data)}}else{if(Bs.cannotUse){Bs.cannotUse()}}}else{if(Bs.cannotUse){Bs.cannotUse()}}if(Bs.done){Bs.done()}}})},error:function(Bt){jq(window).trigger(BP,[Bt])}})}function Ag(Br){setTimeout(function(){jq(window).trigger(AO,["LOGGED_OUT"]);AG=false;if(Br.loggedOut){Br.loggedOut()}if(Br.done){Br.done()}window.myBmwLoggedIn=AG},1)}function AV(Bx){var Bt=Bx.roles.length;var Bv=Bx.none||jq.noop;var Br=Bx.any||jq.noop;var Bw=Bx.all||jq.noop;var By=false;var Bs=false;for(var Bu=0;Bu<Bx.roles.length;Bu++){AY({role:Bx.roles[Bu],yes:function(){Bt--;if(!By){Br();By=true}if(Bt===0&&Bs===false){Bw()}},no:function(){Bt--;if(Bt===0){Bv();Bs=true}}})}}function AY(Bv){var Bs=Bv.role;var Bt=Bv.no||jq.noop;var Br=Bv.yes||jq.noop;var Bu=Bv.callbackData||jq.noop;Ag({loggedIn:function(){q({success:function(By){var Bx=rlCookieController.getCookie({cookieKey:"MOCKED_USER_ROLES"});if(Bx){By.roles=[];jq.each(Bx.split(","),function(){By.roles.push({name:this})})}var Bw=false;if(By.roles){var Bz=By.roles;if(!jq.isArray(Bz)){Bz=[Bz]}jq.each(Bz,function(){if(this.name==Bs){Bw=true}})}Bw?Br(Bu):Bt(Bu)},error:Bv.error})},loggedOut:function(){Bt()},error:Bv.error})}function AD(Br){rlComponentLoader.deferredExec(["c2bInformationSet"],function(){rlC2bInformationSet.resetInformation()});rlNxt.clearCache([rlNxt.cacheName.implicitLoginStatus]);rlNxt.call({type:"GET",url:rlMandator.replaceCoreUrl(BD),dataType:"json",contentType:"application/json; charset=utf-8",success:function(Bs){if(Br.success){Br.success(Bs)}},error:function(Bs){if(Br.error){Br.error(response)}}})}function AT(Bs){var Bt=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(c);rlNxt.call({type:"POST",url:Br,data:JSON.stringify(Bs.data),dataType:"json",contentType:"application/json; charset=utf-8",success:function(Bu){g(Bu,{actor:Bt,successCallback:Bs.success,errorCallback:Bs.error,validationCallback:Bs.validation})},error:function(Bu){AM(Bt);jq(window).trigger(BP,[Bu])}})}function Af(Br,Bt){try{var Bs=rlMandator.replaceCoreUrl(AF);rlNxt.call({type:"POST",url:Bs,dataType:"json",data:JSON.stringify({addressStatus:Br.addressStatus==""?undefined:Br.addressStatus,country:Br.country==""?undefined:Br.country,city:Br.city==""?undefined:Br.city,postalCode:Br.postalCode==""?undefined:Br.postalCode,street:Br.street==""?undefined:Br.street,houseNumber:Br.houseNumber==""?undefined:Br.houseNumber}),contentType:"application/json; charset=utf-8",success:function(Bv){if(typeof Bt.success==="function"){Bt.success(Bv)}},error:function(Bv){if(typeof Bt.error==="function"){Bt.error(Bv)}}})}catch(Bu){console.log(Q+"Failed rlNxt.call "+AF+": "+Bu)}}function s(Bs){var Bt=rlErrorService.ACTOR_SYSTEM;var Br=rlMandator.replaceCoreUrl(A8);rlNxt.call({type:"GET",url:Br+"?t="+Bs.token,dataType:"json",contentType:"application/json; charset=utf-8",success:function(Bu){g(Bu,{actor:Bt,successCallback:Bs.success,errorCallback:Bs.error})},error:function(Bu){AM(Bt);jq(window).trigger(BP,[Bu])}})}function AP(Br){g({status:AL},{getSuccessTriggerName:function(Bs){return Bh},getSuccessDataForTrigger:function(Bs){return{status:AL,login:Br.login}},successCallback:function(Bs){}})}function BK(Bs){var Bt=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(A1);rlNxt.call({type:"POST",url:Br,data:{u:Bs.mail},success:function(Bu){g(Bu,{actor:Bt,successCallback:Bs.success,errorCallback:Bs.error})},error:function(Bu){AM(Bt);jq(window).trigger(BP,[Bu])}})}function BN(Bs){var Bt=rlErrorService.ACTOR_USER;var Br=rlMandator.replaceCoreUrl(W);rlNxt.call({type:"POST",url:Br,data:{u:Bs.mail},success:function(Bu){g(Bu,{actor:Bt,successCallback:Bs.success,errorCallback:Bs.error})},error:function(Bu){AM(Bt);jq(window).trigger(BP,[Bu])}})}function Aw(){return BV}function Bd(){return Ad}function Al(Br){jq("#"+Br).html("<img src='"+A5+"/usermgmt-user/services/captcha/image?"+Math.random()+"'/>")}function Z(){return A5+"/usermgmt-user/services/captcha/image?"+Math.random()}function A3(Bs){var Br=rlMandator.replaceCoreUrl(Aj);rlNxt.call({type:"POST",url:Br,dataType:"json",data:JSON.stringify(Bs.address),contentType:"application/json; charset=utf-8",success:function(Bt){if(typeof Bs.success==="function"){var Bu=Bt.dataList&&Bt.dataList.dataList?Bt.dataList.dataList:[];Bs.success(Bu)}},error:function(Bt){if(typeof Bs.error==="function"){Bs.error(Bt)}}})}function AJ(Bs){var Br=rlMandator.replaceCoreUrl(Bb);rlNxt.call({type:"POST",url:Br+"/"+Bs.serviceScope+"/"+Bs.serviceType,data:Bs.data,scriptCharset:"UTF-8",success:function(Bt){Bs.success=Bs.success||jq.noop;Bs.error=Bs.error||jq.noop;Bs.validation=Bs.validation||jq.noop;if(Bt&&Bt.status==="OK"){Bs.success(Bt)}else{if(Bt&&Bt.status==="ERROR"){}else{Bs.error(Bt)}}},error:function(Bt){if(typeof Bs.error==="function"){Bs.error(Bt)}}})}function BZ(Bs){var Br=rlMandator.replaceCoreUrl(BU);rlNxt.call({type:"POST",url:Br,data:Bs.data,dataType:"json",scriptCharset:"UTF-8",success:function(Bu){Bs.success=Bs.success||jq.noop;Bs.error=Bs.error||jq.noop;Bs.validation=Bs.validation||jq.noop;if(Bu&&Bu.status==="OK"){Bs.success(Bu)}else{if(Bu&&Bu.status==="VALIDATION"){if(Bu.validationErrors&&Bu.validationErrors.validationError&&Bu.validationErrors.validationError.errorCodeId==="INVALID_CAPTCHA_SOLUTION"){var Bt=Bu.validationErrors.validationError;Bs.validation([{errorKey:Bt.errorCodeId,fieldName:"captcha.input",messageText:Bt.detailMessage}])}else{Bs.validation(rlUserMgmtConverter.translateValidationMsgsFromResponse(Bu))}}else{Bs.error(Bu)}}},error:function(Bt){if(typeof Bs.error==="function"){Bs.error(Bt)}}})}var R={};function M(Bt,Br){var Bs=new Object();Bs.tagName="DIV";Bs.id=Bt;Bs.name=Br;if(window.bmwcsaclick){console.log('Tracking click on <DIV id="'+Bs.id+'" name="'+Bs.name+'" />');window.bmwcsaclick(Bs)}else{console.log("Tracking click failed. bmwcsaclick not defined.")}}function A6(Bt,Br,Bu){var Bs=new Object();Bs.tagName="DIV";Bs.id=Bt;Bs.name=Br;console.log('Buffering click on <DIV id="'+Bs.id+'" name="'+Bs.name+'" />');if(R[Bu]==undefined){R[Bu]=[]}R[Bu].push(Bs)}function G(Bt){if(R[Bt]==undefined){return }var Br=R[Bt];if(window.bmwcsaclick){for(var Bs in Br){console.log('Tracking buffered click on <DIV id="'+Br[Bs].id+'" name="'+Br[Bs].name+'" />');window.bmwcsaclick(Br[Bs])}BA(Bt)}else{console.log("Tracking buffered click failed. bmwcsaclick not defined.")}}function BA(Br){R[Br]=[]}return{__init__:function(){jq(window).bind("SESSION_EXPIRED",function(){rlCoreServices.isLoggedIn({loggedIn:function(){An(rlUserDialog.redirectToSessionTimeoutDialog)},loggedOut:function(){rlUserDialog.redirectToSessionTimeoutDialog()}})})},getServersConfig:function(){return{metadataHostSSL:A5,metadataHost:A5,userServiceHost:A5,userServiceHostSSL:A5,requestServiceHostSSL:A5,me_core:"",core:""}},loadOptionalFieldDescriptions:function(){Bj()},handleResponse:function(Br,Bs){return g(Br,Bs)},getOptionalFields:function(Br){X(Br)},loadList:function(Br){F(Br)},loadInterestsData:function(Bs,Br){k(Bs,Br)},getCurrentPolicyUrl:function(Br){Bc(Br)},loadAcceptedPolicyData:function(Bs,Br){m(Bs,Br)},saveAcceptedPolicyData:function(Bt,Bs,Br){At(Bt,Bs,Br)},saveInterests:function(Bt,Bs,Br,Bu){Bn(Bt,Bs,Br,Bu)},loadProfileMetaData:function(Br){Be(Br)},loadProfileData:function(Bs,Br){b(Bs,Br)},saveProfile:function(Bt,Bs,Br,Bu){A9(Bt,Bs,Br,Bu)},createProfile:function(Br){I(Br)},deleteProfile:function(Br){BH(Br)},sendConfigByEmail:function(Br){BM(Br)},sendRequestForPurchase:function(Bt,Bs,Br,Bu){A2(Bt,Bs,Br,Bu)},sendRequestForExtendedSalesProccess:function(Bt,Bs,Br,Bu){AB(Bt,Bs,Br,Bu)},sendRequestForOffer:function(Bt,Bs,Br,Bu){Bf(Bt,Bs,Br,Bu)},sendRequestForInformation:function(Bt,Bs,Br,Bu){Au(Bt,Bs,Br,Bu)},sendRequestForInformationDownload:function(Bt,Bs,Br,Bu){E(Bt,Bs,Br,Bu)},sendRequestForTestDrive:function(Bt,Bs,Br,Bu){AI(Bt,Bs,Br,Bu)},sendRequestForContact:function(Bt,Bs,Br,Bu){AK(Bt,Bs,Br,Bu)},validateRequestForPurchase:function(Bt,Bs,Br,Bu){Aq(Bt,Bs,Br,Bu)},validateRequestForOffer:function(Bt,Bs,Br,Bu){Aq(Bt,Bs,Br,Bu)},validateRequestForTestDrive:function(Bt,Bs,Br,Bu){Bl(Bt,Bs,Br,Bu)},validateRequestForContact:function(Bt,Bs,Br,Bu){Bp(Bt,Bs,Br,Bu)},validateRequestForInformation:function(Bt,Bs,Br,Bu){AH(Bt,Bs,Br,Bu)},validateContactForm:function(Bt,Bs,Br,Bu){h(Bt,Bs,Br,Bu)},sendRfa:function(Bt,Bs,Br,Bu){BW(Bt,Bs,Br,Bu)},sendContact:function(Bt,Bs,Br,Bu){BL(Bt,Bs,Br,Bu)},getCurrentDealer:function(Bs,Br){S(Bs,Br)},getCurrentDealerForRfx:function(Br,Bs,Bt){Av(Br,Bs,Bt)},setCurrentDealerForRfx:function(Bt,Bs,Br){A4(Bt,Bs,Br)},getPreferredDealers:function(Br,Bs,Bt){As(Br,Bs,Bt)},addPreferredDealer:function(Bu,Br,Bs,Bt){Ay(Bu,Br,Bs,Bt)},removePreferredDealer:function(Bv,Bw,Bt,Br,Bs,Bu){p(Bv,Bw,Bt,Br,Bs,Bu)},setPrimaryDealer:function(Bu,Br,Bs,Bt){T(Bu,Br,Bs,Bt)},getRequestForInformationMaterial:function(Bt,Bs,Br){w(Bt,Bs,Br)},logout:function(Br){An(Br)},loadUserData:function(Br){return q(Br)},getStatus:function(){n()},isLoggedIn:function(Br){Ag(Br)},checkForRole:function(Br){AY(Br)},checkForRoles:function(Br){AV(Br)},canUseImplicitLogin:function(Br){BO(Br)},resetImplicitLogin:function(Br){AD(Br)},addLoginErrorListener:function(Br){jq(window).bind(BP,Br)},addLoggedInListener:function(Br){jq(window).bind(u,Br)},addLoggedOutListener:function(Br){jq(window).bind(d,Br)},addStatusListener:function(Br){jq(window).bind(AO,Br)},showLoginDialog:function(){rlUserDialog.showLoginDialog()},showRegistrationDialog:function(){rlUserDialog.showRegistrationDialog()},changePassword:function(Br){r(Br)},resetPassword:function(Br){D(Br)},getLoginName:function(Br){t(Br)},changeLogin:function(Br){C(Br)},confirmLoginChange:function(Br){AT(Br)},loadLoginChangeData:function(Br){s(Br)},loadDashboard:function(Br){J(Br)},saveDashboard:function(Br){AR(Br)},applyToInsider:function(Br){e(Br)},addressValidation:function(Br,Bs){console.log(Q+"Failed rlNxt.call! Not implemented any more!")},addressCheck:function(Br,Bs){console.log(Q+"Failed rlNxt.call! Not implemented any more!")},addressCheckFS:function(Br,Bs){Af(Br,Bs)},addressAutocomplete:function(Br){A3(Br)},zipCityCheck:function(Br,Bs){console.log(Q+"Failed rlNxt.call! Not implemented any more!")},zipCityCheckFS:function(Br,Bs){console.log(Q+"Failed rlNxt.call! Not implemented any more!")},getExistedC2BLoginTriggerName:function(){return AS},getExistedBmwNextLoginTriggerName:function(){return BT},checkC2BLogin:function(Br){AP(Br)},resendActivationMail:function(Br){BK(Br)},resendLoginChangeMail:function(Br){BN(Br)},getUsername:function(){return Aw()},getPassword:function(){return Bd()},fillCaptchaImage:function(Br){Al(Br)},getCaptchaImageUrl:function(){return Z()},isCoreAvailable:function(Br){Br.isNotAvailable()},sendTellAFriendEmail:function(Br){return BZ(Br)},getEspPdfSummaryUrl:function(){return rlMandator.replaceCoreUrl(Bo)},trackEventAsClick:function(Bs,Br){M(Bs,Br)},bufferEventAsClick:function(Bs,Br,Bt){A6(Bs,Br,Bt)},trackBufferedEvents:function(Br){G(Br)},clearBufferedEvents:function(Br){BA(Br)},coreRequest:function(Br){BG(Br)}}}();var rlDither=function(){var S=18,J=2000;var N=".glassPaneLayerScrollableArea";var A=700;var K=400;var F=rlBrowser.getInternetExplorerVersion();if(navigator.userAgent.match("MSIE")&&F<9){A=0;K=0}var D={};var I=0;var B;var C;function E(){B=jq('<div class="ditherSpinner"></div>');if(typeof B!=="undefined"){B.css({display:"none",position:"absolute",width:"37px",height:"37px",background:"transparent url('/etc/designs/bmwnext/apps/bmwnext/base/static/parComponents/bmwLoadingState/preloader_37x666.png') no-repeat","z-index":"5000"})}C=jq('<div class="ditherOverlay"></div>');if(typeof C!=="undefined"){C.css({display:"none",position:"absolute",top:"0",left:"0",background:"transparent url('/etc/designs/bmwnext/apps/bmwnext/base/static/parComponents/dither/2_2_dither.png') 0 0 repeat","z-index":"4000",width:"100%",height:"100%"})}}function O(U,T){T=T||window;U.css({top:(Math.abs((T.height()-U.outerHeight())/2))+T.scrollTop()+"px",left:((T.width()-U.outerWidth())/2)+T.scrollLeft()+"px"})}function R(U){var V=0;var T=setInterval(function(){if(V>=S){V=0}var W="-"+V*U.width()+"px";U.css("backgroundPosition",W+" 0px");V++},72);return T}function L(T){return T[0].scrollHeight>T.innerHeight()}function Q(U,T){T.scroll(function(){O(U,T)})}var H=0;function M(T){var U=T.prop("data-ditherid");if(!U){U=T.prop("id")||"dither"+(++H);T.prop("data-ditherid",U)}return U}function G(U,a){if(W===false){W=1000000000}var W=a||J;var V=M(U);if(D[V]||U.length===0){return D[V]}U.css("position","relative");var T=C.clone();T.appendTo(U);if(L(U)){T.css("height",U[0].scrollHeight)}T.fadeIn(A);var Z=B.clone();Z.appendTo(U);O(Z,U);if(L(U)){Q(Z,U)}if(W>=0){var X=setTimeout(function(){Z.fadeIn(A)},W)}var Y=R(Z);D[V]={spinnerAnimationTimer:Y,delayTimerHandle:X,spinner:Z,overlay:T};I++;return D[V]}function P(T){var U=M(T);var V=D[U];if(V!=null){clearInterval(V.spinnerAnimationTimer);clearInterval(V.delayTimerHandle);T.unbind("scroll",Q);V.spinner.fadeOut(K,function(){V.spinner.remove()});V.overlay.fadeOut(K,function(){V.overlay.remove();I--;delete D[U]})}}return{__init__:function(){E()},on:function(V,U){var T=jq(V);if(T.length>1){throw"[rlDither]: Only one dither-element supported at a time, but was: selector[="+T.selector+"], elements=["+T.length+"]"}if(T.closest(N).length>0){T=jq(N)}return G(T,U)},off:function(U){var T=jq(U);P(T)},getAllDithers:function(){return{dithers:D,countOfDithers:I}},center:function(T){if(T){T=jq(T);var U=T.find(".ditherSpinner");U&&O(U,T)}}}}();var rlDloSubBrandService=function(){var C=[];var A="apps-bmwnext-requests-common-js-dloSubBrandService-toggleSubBrand";function E(F,G){jq(window).bind(D(F),G)}function B(F,G){jq(window).unbind(D(F),G)}function D(F){return A+"-dloid-"+F}return{__init__:function(){},__start__:function(){},getSubBrand:function(F){if(isDefined(C[F])){return C[F]}else{return"BM"}},setSubBrand:function(G,F){C[F]=G;jq(window).trigger(D(F),G)},addListener:E,removeListener:B}}();var rlEventTracker=function(){function B(){var C={};C.EVENT_VIN_VALIDATION_ERROR=function(){return"EVENT_VIN_VALIDATION_ERROR"};C.BRAND_BMW_I=function(){return"brand-bmwi"};return C}function A(E){var D=CoreFormsBase.inheritanceFrom(CoreFormsBase.createBaseType());var F=D.parent;D.trackCustomEvent=function(H,G){H=C(H);if(window.rlCoreServices&&window.rlCoreServices.trackEventAsClick){window.rlCoreServices.trackEventAsClick(H,G)}};function C(G){return isDefined(E)?E+"/"+G:G}D.emptyStringIfundefined=function(G){return G||""};return D}return{__init__:function(){},__start__:function(){},create:function(C){return A(C)},eventList:function(){return B()}}}();var rlGlassPaneLayer=function(){var Q="glassPaneLayer";var u="glassPaneLayerVisible";var I=".glassPaneLayerContent";var AA=".glassPaneLayerHeaderBar";var c=".glassPaneLayerHeaderContent";var z=".glassPaneLayerFooterBar";var O=".glassPaneLayerFooterContent";var h=".glassPaneLayerCloseButton";var l="glassPaneSpinner";var AE=typeof GLOBAL_CMX_MESSAGE_SR_CLOSE_GPLAYER_TOOLTIP!=="undefined"?GLOBAL_CMX_MESSAGE_SR_CLOSE_GPLAYER_TOOLTIP:"";var m=30;var a=300;var v=500;var b=17;var G=0;var R=72;var s;var AG=null;var K=null;var AO=null;var AC=null;var p=null;var T=null;var j=null;var i=null;var AL=null;var L=null;var V=false;var Y={};var C=false;var S=false;var q={autoOpen:null,height:"auto",zIndex:10520,autoWcmMode:false};var B={w1:{wrap:"500px",area:"464px",content:"440px"},w2:{wrap:"745px",area:"709px",content:"670px"},w3:{wrap:"1285px",area:"1249px",content:"1210px"},w4:{wrap:"1050px",area:"1020px",content:"1000px"}};function t(){}t.prototype={_openingListeners:[],_closingListeners:[],_ajaxContentListeners:[],addOpenListener:function(AP){this._openingListeners.push(AP);jq.unique(this._openingListeners)},addCloseListener:function(AP){this._closingListeners.push(AP);jq.unique(this._closingListeners)},addAjaxContentLoaded:function(AP){this._ajaxContentListeners.push(AP);jq.unique(this._ajaxContentListeners)},_openingTriggered:function(){jq.each(this._openingListeners,function(AP,AQ){AQ()})},_closingTriggered:function(AP){jq.each(this._closingListeners,function(AQ,AR){AR(AP)})},_ajaxContenLoadedTriggered:function(){jq.each(this._ajaxContentListeners,function(AP,AQ){AQ()})}};var n=new t();function W(AP){var AQ=false;if(typeof AP==="undefined"||AP===null||AP==="null"){AQ=true}return AQ}function AI(AS,AQ){var AR=AS.replace(".html",".ajax.html");if(typeof AQ!=="undefined"){AR=jq.param.querystring(AR,AQ)}var AP=rlPage.isEditMode()||rlPage.isDesignMode()||rlPage.isDisabledMode();if(AP){AR=jq.param.querystring(AR,"wcmmode=disabled")}return AR}function AJ(AP){_switching=AP.forceSwitch===true||P();Y.url=null;Y.headerContent=null;Y.footerContent=null;Y.transparent=null;Y.hidescrollbars=null;Y.allowoverflow=null;Y.closebtnxpos=null;Y.closebtnypos=null;Y=jq.extend(true,q,AP);if(Y.onOpen){n.addOpenListener(Y.onOpen)}if(Y.onClose){n.addCloseListener(Y.onClose)}if(Y.onAfterAjaxContentLoaded){n.addAjaxContentLoaded(Y.onAfterAjaxContentLoaded)}if(P()){n._closingTriggered()}n._openingTriggered();S=true;if(!_switching&&!greyLayer.isLayerVisible()){console.log("glassPaneLayer: showing grey layer ...");greyLayer.greyLayer_show(v)}p.empty();j.empty();AL.empty();var AQ=B[Y.width];console.log("glassPaneLayer: showing dialog ...");if(!C){AO=jq(".glassPaneLayerDialog .glassPaneLayerLayerWrap");AC=jq(".glassPaneLayerDialog .glassPaneLayerScrollableArea")}AO.width(AQ.wrap);AC.width(AQ.area);p.width(AQ.content);AG.width(AQ.wrap);AG.show();AG.fadeOut(0);e();if(!C){X();C=true}if(!_switching){console.log("glassPaneLayer: not switiching, binding all events ...");E();U();f();D();A()}jq("body").addClass(u)}function P(){return jq("."+Q).filter(":visible").length>0}function e(){var AR=!(undefined==Y.url||null===Y.url);if(!AR){console.log("glassPaneLayer: show content from dom ...");V=false;var AT=jq(Y.content);var AQ=W(Y.headerContent)?null:jq(Y.headerContent);var AP=W(Y.footerContent)?null:jq(Y.footerContent);AG.show();AH(AT,AQ,AP)}else{window.bmwGlassPaneUrl=Y.url;var AS=AI(Y.url,Y.urlParams);console.log("glassPaneLayer: get ajax content from '"+AS+"'");V=true;L=jq.ajax({type:"GET",url:AS,beforeSend:function(AW,AU){console.log("glassPaneLayer: activate spinner ... ");T.hide();i.hide();var AV=H();AC.outerHeight(AV);AK();AM()},success:x})}}function AK(){if(jq("."+l).length==0){jq("body").append('<div class="'+l+'"></div>');jq("."+l).append('<div class="spinnerImage"></div>')}}function AM(){var AQ=jq(window).width();var AS=jq(window).height();var AR=(AQ-jq(".glassPaneSpinner").width())/2;var AP=Z(jq(".glassPaneSpinner"));jq(".glassPaneSpinner").css({top:AP.y+"px"});spinnerTop=AP.y;jq(".glassPaneSpinner").css("left",AR);jq(".glassPaneSpinner").css("top",spinnerTop);jq(".glassPaneSpinner").show();r("spinnerImage")}function AF(AU){var AS="."+AU;var AT=0;if(jq(AS).length>0){var AP=jq(AS).css("background-position");if(AP!==undefined){AT=parseInt(AP.replace(/px/g,""),10)}else{if(jq(AS).css("background-position-x")!==undefined){AT=parseInt(jq(AS).css("background-position-x").replace(/px/g,""),10)}}}var AR=jq(AS).width();var AQ=AT-AR;G++;if(G==b){AQ=0;G=0}jq(AS).css("background-position",AQ)}function M(AP){window.clearInterval(s)}function r(AQ){var AP="."+AQ;jq(AP).css("background-position",0);G=0;s=window.setInterval(function(){AF(AQ)},R)}function x(AR){console.log("glassPaneLayer: ajax call successfull, updating layer content ... ");var AQ=!W(Y.headerContent);var AP=!W(Y.footerContent);AH(AR,AQ,AP);V=false}function AH(AT,AS,AR){try{V?p.html(AT):p.html(AT.clone(true).show())}catch(AU){console.error("Glasspane Layer: Failed updateLayerContent.call: "+AU);console.dir(Y)}if(AS){if(V){var AQ=jq(Y.headerContent,p);j.append(AQ)}else{j.html(AS.clone(true).show())}AC.css("margin-top","0px");T.show()}else{AC.css("margin-top",m);T.hide()}if(AR){if(V){var AP=jq(Y.footerContent,p);AL.append(AP)}else{AL.html(AR.clone(true).show())}AC.css("margin-bottom","0px");i.show()}else{AC.css("margin-bottom",m);i.hide()}if(V){setTimeout(function(){console.log("glassPaneLayer: repositioning layer after timeout ... ");var AW=(jq(window).width()-AG.width())/2;var AV=200;if(jq.browser.msie&&parseInt(jq.browser.version)<9){AV=0}jq(".spinnerImage").fadeOut(AV,function(){M("spinnerImage");jq(".glassPaneSpinner").animate({left:AW,width:AG.width(),height:jq(".glassPaneSpinner").height()},200,function(){setTimeout(function(){w();AG.fadeIn(200,function(){jq(".glassPaneSpinner").remove()})},200);setTimeout(function(){w();n._ajaxContenLoadedTriggered()},210)})})},200)}if(!V){setTimeout(function(){w()},210)}if(Y.transparent){jq(".glassPaneSpinner").delay(200).animate({opacity:0},200)}if(Y.closebtnxpos||Y.closebtnypos){jq(".glassPaneLayerCloseButton").css("right",Y.closebtnxpos+"px");jq(".glassPaneLayerCloseButton").css("top",Y.closebtnypos+"px")}else{jq(".glassPaneLayerCloseButton").css("right","6px");jq(".glassPaneLayerCloseButton").css("top","6px")}if(!Y.transparent){jq("#glassPaneLayerLayerWrapObject").removeClass("glassPaneLayerLayerWrapTransparent");jq("#glassPaneLayerLayerWrapObject").addClass("glassPaneLayerLayerWrap")}else{jq("#glassPaneLayerLayerWrapObject").addClass("glassPaneLayerLayerWrapTransparent");jq("#glassPaneLayerLayerWrapObject").removeClass("glassPaneLayerLayerWrap")}AC.focus()}function Z(AX){var AS=jq(window);var AV=AS.width();var AU=AX.outerWidth();var AZ=(AV-AU)/2;var AY=AS.scrollTop()+m;var AT=H(AS);AC.height("auto");var Aa=AO.outerHeight(true);var Ac=AO.outerHeight(false);var AQ=AC.outerHeight(true);var AR=AC.outerHeight(false);var Af=AC.outerHeight(true)-AC.outerHeight(false);var Ab;var AW=false;if(!W(Y.headerContent)){if(Aa-Af-T.outerHeight(true)>AT&&Aa>a&&!Y.allowoverflow){AW=true}}else{if(Aa-Af>AT&&Aa>a&&!Y.allowoverflow){AW=true}}if(AW){console.log("==========> scroller: contentHeightI="+Ac+" contentHeight="+Aa+" availableHeight="+AT+" scrollHeightDelta="+Af);Ab=AT;if(Ab<a){Ab=a}var Ae=!W(Y.headerContent);if(Ae){Ab-=T.outerHeight(true);console.log("hasHeaderContent height="+Ab)}var Ad=!W(Y.footerContent);if(Ad){Ab-=i.outerHeight(true);console.log("hasFooterContent height="+Ab)}var AP=H();console.log("newHeight="+AP);if(jq.browser.msie&&parseInt(jq.browser.version)<8){AP-=m}AC.outerHeight(AP);if(!Y.hidescrollbars){AC.css("overflow-y","scroll")}}else{console.log("==========> NO scroller: contentHeight="+Aa+" availableHeight="+AT+"  scrollHeightOuter="+AQ+" scrollHeightInner="+AR);var AP=H();console.log("getAvailableContentHeight="+AP);Ab="auto";AC.css("overflow-y","hidden")}return{x:AZ,y:AY,height:Ab}}function H(AR){var AS;!AR?AS=jq(window):AS=AR;var AP=AS.height();var AQ=AP-3*m;var AQ=AQ-jq(AA).height();return AQ}function w(){console.log("glassPaneLayer: repositioning dialog ...");var AP=Z(AG);AG.css({left:AP.x+"px",top:AP.y+"px"});jq(".glassPaneSpinner").css({top:AP.y+"px"});if(AP.height=="auto"){AC.css("overflow-y","hidden");AP.height=H()}return false}function U(){jq(document).bind("keyup",k)}function AB(){jq(document).unbind("keyup",k)}function k(AP){if(AP.keyCode===27){return g()}}function g(AP){window.bmwGlassPaneUrl=Y.url+"?state=closed";console.log("glassPaneLayer: closeLayer ...");jq(window).trigger("glassPaneLayer.closing");jq(window).trigger("glassPaneLayerNext.closing");if(!P()){return true}n._closingTriggered(AP);S=false;jq(".glassPaneSpinner").remove();if(V){L.abort()}F();AB();AN();d();J();AG.fadeOut(v,function(){AG.find(".glassPaneLayerContent").removeAttr("style").empty();greyLayer.greyLayer_hide()});jq("body").removeClass(u);jq(window).trigger("glassPaneLayer.closed");return false}function D(){if(!Y.allowoverflow){jq(window).bind("scroll",w)}AC.bind("scroll",function(){jq(window).trigger("glassPaneLayer.scrollableArea.scroll")})}function E(){console.log("glassPaneLayer: binding greyLayer closability ...");jq("."+greyLayer.getId()).bind("click",g)}function F(){jq("."+greyLayer.getId()).unbind("click",g)}function f(){jq(window).bind("resize",w)}function A(){if(!Y.allowoverflow){jq(document).mousewheel(function(AR,AS,AQ,AP){AR.preventDefault();if(AC){AC.scrollTop(AC.scrollTop()+50*-AP)}})}}function J(){jq(document).unbind("mousewheel")}function AN(){jq(window).unbind("resize",w)}function d(){jq(window).unbind("scroll",w);AC.unbind("scroll")}function y(){var AP=jq("<div></div>");AP.attr("id",Q).addClass(Q);AP.css({height:"auto"});return AP}function AD(){var AP='<div class="glassPaneLayerDialog"><div class="glassPaneLayerLayerWrap" id="glassPaneLayerLayerWrapObject"><div class="glassPaneLayerCloseButton"><div id="glassPaneLayerCloseButtonDither"></div><div class="baseIconSprite baseIconSizeMedium spriteIconCloseMedium clickableIconCloseMedium"></div></div><div class="glassPaneLayerHeaderBar"><div class="glassPaneLayerHeaderContent" /></div><div class="glassPaneLayerScrollableArea"><div class="glassPaneLayerContent" /></div><div class="glassPaneLayerFooterBar"><div class="glassPaneLayerFooterContent" /></div></div></div>';AP=jq(AP);AP.find(".glassPaneLayerCloseButton").attr("title",AE);return AP}function X(){jq(h,AG).bind("click",function(){g();return false})}function N(){jq(h,AG).unbind()}function o(){if(window.location.href.indexOf("/zh_CN/index.html")==-1){return }jq.getJSON("/dam/brandBM/marketCN/countryCN/zh_CN/specials/popupconfig.js",function(AR){console.log("duration: "+AR.durationSEC);console.log("image: "+AR.imageUrl);console.log("timeput: "+AR.timeoutSEC);console.log("linkText: "+AR.linkText);console.log("link: "+AR.link);console.log("validFrom: "+AR.validFrom);var AP=new Date().getTime();if(AP<parseFloat(AR.validFrom)){console.log("validFrom: not valid yet");return }var AS,AX,AW,AT=document.cookie.split(";");cookieContent="";for(AS=0;AS<AT.length;AS++){AX=AT[AS].substr(0,AT[AS].indexOf("="));AW=AT[AS].substr(AT[AS].indexOf("=")+1);AX=AX.replace(/^\s+|\s+$/g,"");if(AX=="popup_cookie"){cookieContent=unescape(AW);break}}console.log("Cookie: "+cookieContent);timestamp=0;if(cookieContent!=""){timestamp=(parseFloat(cookieContent)+(parseFloat(AR.timeoutSEC)*1000))}console.log("timestamp: "+timestamp);console.log("currentTime: "+AP);if(timestamp===0||timestamp<AP){var AU=jq('<div id="pu_bg" class="grey_layer" style="position: fixed; top: 0px; left: 0px; opacity: 0.75; z-index: 10500; width: 100%; height: 100%; zoom: 1; background-color: rgb(0, 0, 0);"></div>');jq("body").append(AU);var AQ=jq('<div id="pu_img" style="width: 1270px; height: 600px; margin: auto"><div id="pu_close" class="baseIconSprite baseIconSizeMedium spriteIconCloseMedium clickableIconCloseMedium" style="float:right;margin:10px"></div><a id="pu_link" class="buttonComp buttonBlue" style="position: absolute;left: 48px;top: 288px;">'+AR.linkText+"</a></div>");jq(AQ).css("background-image",'url("'+AR.imageUrl+'")');jq(AQ).css("position","fixed");jq(AQ).css("top","0");jq(AQ).css("left","0");jq(AQ).css("right","0");jq(AQ).css("bottom","0");jq(AQ).css("margin","auto");jq(AQ).css("z-index","10501");jq("body").append(AQ);jq(AQ).find("#pu_link").click(function(){var AY=window.open(AR.link,"_blank");AY.focus()});jq("#pu_close").click(function(){jq("#pu_bg").detach();jq("#pu_img").detach()});window.setTimeout(function(){jq("#pu_bg").detach();jq("#pu_img").detach()},(AR.durationSEC*1000))}var AV=window.navigator.userAgent.indexOf("MSIE ");if(AV>=0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){document.cookie="popup_cookie="+AP+";"}else{document.cookie="popup_cookie="+AP+";expires=0;"}}).fail(function(){console.log("no popup")})}return{__init__:function(){console.log("glassPaneLayer: initializing ...");AG=y();K=AD();p=jq(I,K);T=jq(AA,K);j=jq(c,T);i=jq(z,K);AL=jq(O,i);AG.append(K).appendTo(jq("body"));K.show();o()},__start__:function(){console.log("glassPaneLayer: starting ...")},openDialog:function(AP){console.log("glassPaneLayer: opening ...");AJ(AP)},switchContent:function(AP){AJ(AP)},closeDialog:function(AP){g(AP)},addOpenListener:function(AP){n.addOpenListener(AP)},addCloseListener:function(AP){n.addCloseListener(AP)},addAjaxContentLoaded:function(AP){n.addAjaxContentLoaded(AP)},deactivateClosability:function(){N();F();AB();jq("#glassPaneLayerCloseButtonDither").show()},activateClosability:function(){X();E();U();jq("#glassPaneLayerCloseButtonDither").hide()},isOpen:function(){return S},repositionDialog:function(){return w()},getLayerClass:function(){return Q}}}();var rlGlassPaneLayerNext=function(){var sequenceID=0;var displayLog=false;var logDetailLevel=2;var logComp="glassPaneLayerNext";var gplnContentMatrix;var gplnContentDOM;var gplnHeaderDOM;var gplnFooterDOM;var gplnOptions;var gplnMinFlexWidth=660;var gplnFlexIconSizeToggle=744;var gplnFooterHTML;var gplnHeaderHTML;var gplnContentHTML;var gplnLayerHTML;var gplnHeaderHeight;var gplnFooterHeight;var gplnContentHeight;var gplnContentWidth;var gplnLayerHeight;var gplnLayerWidth;var gplnAbsoluteLayerHeight;var gplnAbsoluteLayerWidth;var gplnContentSpace;var sequenceType;var doNotRemoveContentValueCss=false;var spinnerAnimation;var spinnerPosition=0;var gplnWindowSpace=60;var gplnMinFixHeight=360;var windowHeight;var windowWidth;var _isOpen=false;var _isOpenClass="glassPaneLayerVisible";var _isDisplaying=false;var __ajaxCall=null;var __ajaxMode=false;var doubleSequenceCheck;var gplnContentViewHeight;var currentIE=rlBrowser.getInternetExplorerVersion();var fadeInSpeed=(currentIE>0&&currentIE<9)?0:300;var fadeOutSpeed=(currentIE>0&&currentIE<9)?0:300;var morphingSpeed=(currentIE>0&&currentIE<9)?0:600;var contentReadyTimer=30000;var ajaxContentTimer=10000;var contentReadyTimeout=undefined;var resizingTimer;var requestResult;var activateDropDownScrollingFix=true;var gplnContentHolder=false;var gplnAjaxStatus=false;var layerWidthTMP="";var scrollPosElem=undefined;var seqs={open:["fadeInGlassPane","showSpinner","bindDropout","getData","setData","changeContent","setDataFromURLReady","unbindDropout","getNewContentDimension","layerSizeToWindowSize","resetHoldLayerHeight","hideSpinner","fadeInLayer","fadeInLayerContent","addGPLNEvents"],close:["hideSpinner","removeGPLNEvents","fadeOutLayerContent","fadeOutLayer","fadeOutGlassPane","emptyContentVars","removeHash"],morph:["removeGPLNEvents","bindDropout","fadeOutLayerContent","showSpinner","emptyContentVars","getData","setData","changeContent","setDataFromURLReady","unbindDropout","getNewContentDimension","morphLayer","layerSizeToWindowSize","hideSpinner","fadeInLayerContent","addGPLNEvents"],error:["bindDropout","emptyContentVars","getData","setData","changeContent","setDataFromURLReady","unbindDropout","getNewContentDimension","layerSizeToWindowSize","resetHoldLayerHeight","hideSpinner","fadeInLayer","fadeInLayerContent","addGPLNEvents"]};function runSequence(type){if(type!=undefined){_isDisplaying=false;sequenceType=type;sequenceID=0}if(sequenceID==0){rlCompLog.showLog("runSequence","group",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog("complete sequence","time",2,logComp,displayLog,logDetailLevel)}else{rlCompLog.showLog("part "+sequenceID+" sequence needs","timeEnd",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog("runSequencePart","groupEnd",2,logComp,displayLog,logDetailLevel)}var sequence=seqs[sequenceType][sequenceID];sequenceID++;rlCompLog.showLog("start part "+sequenceID+": "+sequence+" from sequence: "+sequenceType,"info",1,logComp,displayLog,logDetailLevel);rlCompLog.showLog("runSequencePart","group",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog("part "+sequenceID+" sequence needs","time",2,logComp,displayLog,logDetailLevel);if(gplnLayerHTML){gplnLayerWidth=gplnLayerHTML.width()}showLog("gplnLayerWidth: "+gplnLayerWidth,"info");rlCompLog.showLog("gplnLayerWidth: "+gplnLayerWidth,"info",0,logComp,displayLog,logDetailLevel);if(sequence){var seqLength=sequence.length;if(doubleSequenceCheck!=sequence){doubleSequenceCheck=sequence;eval(sequence+"(true)")}else{rlCompLog.showLog("sequence "+sequenceID+": "+sequence+" wurde mehrfach angetriggert!","error",0,logComp,displayLog,logDetailLevel)}}else{rlCompLog.showLog("part_sequence","timeEnd",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog("complete sequence","timeEnd",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog("runSequence","groupEnd",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog(" ","info",0,logComp,displayLog,logDetailLevel);if(sequenceType==="open"||sequenceType==="morph"||sequenceType==="error"){_isDisplaying=true}else{if(sequenceType==="close"){_isDisplaying=false}}actionObservers._sequenceEndedTriggered()}}function getUrlVars(){var vars=[],hash;var hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var i=0;i<hashes.length;i++){hash=hashes[i].split("=");vars.push(hash[0]);vars[hash[0]]=hash[1]}return vars}function fadeInGlassPane(startedFromSeq){jq("#glassPane").hide();if(startedFromSeq){setTimeout("rlGlassPaneLayerNext.runSequence();",300)}jq("#glassPane").fadeTo(fadeInSpeed,0.75,function(){})}function fadeOutGlassPane(startedFromSeq){jq("#glassPane").fadeOut(fadeOutSpeed,function(){jq(this).remove();if(startedFromSeq){runSequence()}})}function showSpinner(startedFromSeq){if(isLayerVisible()){rlCompLog.showLog("I am in Layer","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContent").delay(1000).prepend(glassPaneLayerSpinnerHTML);jq(".gplnInlineSpinner .glassPaneLayerNextSpinner").css("top",(gplnContentViewHeight/2)-18)}else{rlCompLog.showLog("I am outside Layer","info",0,logComp,displayLog,logDetailLevel);jq("body").delay(1000).append(glassPaneSpinnerHTML)}spinnerAnimation=setInterval("rlGlassPaneLayerNext.spinnerAnimate();",100);if(startedFromSeq){runSequence()}}function bindDropout(startedFromSeq){rlCompLog.showLog("Bind dropout","info",0,logComp,displayLog,logDetailLevel);jq("#gplnSpinner").click(function(event){if(requestResult){requestResult.abort()}unbindDropout();rlGlassPaneLayerNext.hideSpinner();rlGlassPaneLayerNext.closeLayer()});jq("#gplnCloseButton").click(function(event){if(requestResult){requestResult.abort()}unbindDropout();rlGlassPaneLayerNext.closeLayer()});if(startedFromSeq){runSequence()}}function getData(startedFromSeq){if(gplnOptions.waitforcallback===true){if(contentReadyTimeout){clearTimeout(contentReadyTimeout);contentReadyTimeout=undefined}contentReadyTimeout=setTimeout(function(){rlGlassPaneLayerNext.showLog("wait for contentReady!","groupEnd");rlErrorService.handleError({actor:rlErrorService.ACTOR_USER})},contentReadyTimer)}if(jq(gplnOptions.content).length>0){getDataFromDOM(startedFromSeq)}else{if(gplnOptions.url!=undefined){getDataFromURL(startedFromSeq)}else{rlCompLog.showLog("no content available! (missing content selector: "+gplnOptions.content+" and content url: "+gplnOptions.url+")","error",0,logComp,displayLog,logDetailLevel);rlErrorService.handleError({actor:rlErrorService.ACTOR_USER})}}}function getDataFromDOM(startedFromSeq){rlCompLog.showLog("Getting data from DOM","info",0,logComp,displayLog,logDetailLevel);if(gplnOptions.forceClone==true){gplnContentDOM=jq(gplnOptions.content).clone(true)}else{if(jq(gplnOptions.flexibleSelector).length<=0){gplnContentDOM=jq(gplnOptions.content).html()}else{gplnContentDOM=jq(gplnOptions.content).clone(true);jq(gplnOptions.content).replaceWith('<div id="gplnContentHolderElement"></div>');gplnContentHolder=gplnContentDOM}}rlCompLog.showLog("Getting data from DOM finished","info",0,logComp,displayLog,logDetailLevel);if(startedFromSeq){runSequence()}}function validateURL(value){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)}function getDataFromURL(startedFromSeq){rlCompLog.showLog("Getting data from URL: "+gplnOptions.url,"info",0,logComp,displayLog,logDetailLevel);rlCompLog.showLog("getDataFromURL","time",2,logComp,displayLog,logDetailLevel);requestResult=rlCrossSubDomainAjax.call({url:getAjaxUrl(gplnOptions.url,gplnOptions.urlParams),success:function(data){gplnContentDOM=data;if(startedFromSeq){runSequence()}},error:function(jqXHR,textStatus,errorThrown){rlCompLog.showLog("getDataFromURL","timeEnd",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog("Get no data from URL! Trigger rlErrorService","error",0,logComp,displayLog,logDetailLevel);rlCompLog.showLog("runSequence","groupEnd",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog(textStatus+" "+jqXHR.status+" Status "+errorThrown,"error",0,logComp,displayLog,logDetailLevel);if(rlErrorHandler.showEnhanced()){gplnAjaxStatus=textStatus+" "+jqXHR.status+" Status "+errorThrown+" calling url: "+getAjaxUrl(gplnOptions.url,gplnOptions.urlParams)}else{gplnAjaxStatus=false}},timeout:ajaxContentTimer})}function getGPLNAjaxStatus(){return gplnAjaxStatus}function getAjaxUrl(_url,_params){rlCompLog.showLog("Creating ajax URL with params","info",0,logComp,displayLog,logDetailLevel);var url=_url;if(url.length-url.indexOf(".iframe")==7){var url=url.replace(".iframe",".iframe.ajax.html")}if(url.indexOf(".ajax.html")!=url.length-10){var url=url.replace(".html",".ajax.html")}if(typeof _params!=="undefined"){url=jq.param.querystring(url,_params)}var editing=rlPage.isEditMode()||rlPage.isDesignMode()||rlPage.isRunningOnAuthorInstance()||window.location.href.indexOf("wcmmode=disabled")>-1;if(editing){url=jq.param.querystring(url,"wcmmode=disabled")}showLog(url);return url}function setData(startedFromSeq){if(jq(gplnOptions.headerContent).length==1){gplnHeaderDOM=jq(gplnOptions.headerContent).clone(true)}else{if(jq(gplnOptions.headerContent,gplnContentDOM).html()!=null){gplnHeaderDOM=jq(gplnOptions.headerContent,gplnContentDOM).clone(true);jq(gplnOptions.headerContent,gplnContentDOM).empty()}}rlCompLog.showLog("Catch header and footer from DOM","info",0,logComp,displayLog,logDetailLevel);if(jq(gplnOptions.footerContent).length==1){gplnFooterDOM=jq(gplnOptions.footerContent).clone(true)}else{if(jq(gplnOptions.footerContent,gplnContentDOM).html()!=null){gplnHeaderDOM=jq(gplnOptions.footerContent,gplnContentDOM).clone(true);jq(gplnOptions.footerContent,gplnContentDOM).empty()}}if(gplnFooterDOM!=undefined&&gplnFooterDOM!=""){var footerCSS="gplnFooterLine"}else{var footerCSS=""}if(gplnHeaderDOM!=undefined&&gplnHeaderDOM!=""){var headerCSS="gplnHeaderLine"}else{var headerCSS=""}gplnContentMatrix='<div class="gplnContentHeader '+headerCSS+'" id="gplnContentHeader"><div class="glassPaneLayerHeaderContent space"></div></div><div class="gplnContentValue" id="gplnContentValue"><div class="glassPaneLayerContent space"></div></div><div class="gplnContentFooter '+footerCSS+'" id="gplnContentFooter"><div class="glassPaneLayerFooterContent space"></div></div>';if(startedFromSeq){runSequence()}}function changeContent(startedFromSeq){var flexibleSelector="";jq(".ieFadingFix").remove();stopLayerResizing();jq("#gplnAjaxContent").empty();rlCompLog.showLog("Push gplnContentMatrix in DOM","info",0,logComp,displayLog,logDetailLevel);jq("#gplnAjaxContent").append(gplnContentMatrix);rlCompLog.showLog("Push content to gplnContentMatrix","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContentValue .space").append(gplnContentDOM);rlCompLog.showLog("Push header to gplnContentMatrix","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContentHeader .space").append(gplnHeaderDOM);rlCompLog.showLog("Push footer to gplnContentMatrix","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContentFooter .space").append(gplnFooterDOM);if(gplnOptions.headerContent!=undefined&&gplnOptions.headerContent!=""){jq("#gplnContentValue "+gplnOptions.headerContent).hide()}if(gplnOptions.footerContent!=undefined&&gplnOptions.footerContent!=""){jq("#gplnContentValue "+gplnOptions.footerContent).hide()}jq("#gplnContentValue").bind("scroll",function(){jq(window).trigger("glassPaneLayerNext.scrollableArea.scroll")});if(startedFromSeq){if(layerType=="flex"){if(gplnOptions.flexibleSelector==undefined||gplnOptions.flexibleSelector=="#wallpaperLayer img"){flexibleSelector="#wallpaperLayer img"}else{flexibleSelector=gplnOptions.flexibleSelector;runSequence()}rlCompLog.showLog("Preload Image","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContentValue "+gplnOptions.flexibleSelector).attr("onLoad","rlGlassPaneLayerNext.runSequence()")}else{runSequence()}}jq(window).trigger(rlTrackingListener.EVENTS.EVENT_TRACKING_PAGE_CHANGE_NOTIFICATION)}function hideShareButtons(){jq("#gplnContentValue .iPanelShareButtonLayer").css("display","none");layerWidthTMP=jq("#gplnContentValue").width();jq("#gplnContentValue").css("width","745px")}function showShareButtons(){jq("#gplnContentValue .iPanelShareButtonLayer").css("display","block");jq("#gplnContentValue").css("width",layerWidthTMP)}function setDataFromURLReady(startedFromSeq){rlCompLog.showLog("getDataFromURL","timeEnd",2,logComp,displayLog,logDetailLevel);actionObservers._ajaxContentLoadedTriggered();if(typeof gplnOptions.waitforcallback==="undefined"&&startedFromSeq&&gplnContentDOM!==""){runSequence()}else{rlCompLog.showLog("waitforcallback time","time",2,logComp,displayLog,logDetailLevel);rlCompLog.showLog("wait for contentReady","group",2,logComp,displayLog,logDetailLevel)}if(gplnOptions.width){jq("#gplnContentValue").addClass(gplnOptions.width)}}function unbindDropout(startedFromSeq){rlCompLog.showLog("Unbind Dropout","info",0,logComp,displayLog,logDetailLevel);if(__ajaxCall){__ajaxCall.abort()}jq("#gplnSpinner").unbind("click");jq("#gplnCloseButton").unbind("click");if(startedFromSeq){runSequence()}}function getNewContentDimension(startedFromSeq){gplnFooterHTML=jq("#gplnContentFooter");gplnHeaderHTML=jq("#gplnContentHeader");gplnContentHTML=jq("#gplnContentValue");gplnLayerHTML=jq("#gplnAjaxContent");windowHeight=jq(window).height();gplnContentHTML.css("float","left");gplnHeaderHTML.css("float","left");gplnFooterHTML.css("float","left");gplnHeaderHeight=gplnHeaderHTML.outerHeight(true);gplnFooterHeight=gplnFooterHTML.outerHeight(true);gplnContentSpace=gplnFooterHeight+gplnHeaderHeight;gplnContentWidth=gplnContentHTML.width();gplnContentHeight=gplnContentHTML.children(".space").outerHeight(true)+gplnHeaderHeight+gplnFooterHeight;gplnAbsoluteLayerHeight=gplnContentHeight+gplnWindowSpace;gplnContentViewHeight=(gplnAbsoluteLayerHeight>windowHeight)?gplnContentHeight-(gplnAbsoluteLayerHeight-windowHeight):gplnContentViewHeight=gplnContentHeight;gplnAbsoluteLayerWidth=gplnContentWidth+gplnWindowSpace;gplnContentHTML.attr("style","");gplnHeaderHTML.attr("style","");gplnFooterHTML.attr("style","");rlCompLog.showLog("gplnContentHeight: "+gplnContentHeight+" | gplnContentWidth: "+gplnContentWidth,"info",0,logComp,displayLog,logDetailLevel);if(startedFromSeq){if(gplnAbsoluteLayerHeight<windowHeight){startLayerResizing()}runSequence()}}function morphLayer(startedFromSeq){jq("#gplnAjaxContent").animate({height:gplnContentViewHeight+"px"},morphingSpeed,function(){if(doNotRemoveContentValueCss===false){jq("#gplnAjaxContent").attr("style","")}if(startedFromSeq){runSequence()}})}function resizeLayerToViewportHeight(){getNewContentDimension();gplnContentViewHeight=windowHeight-gplnWindowSpace;doNotRemoveContentValueCss=true;morphLayer()}function layerSizeToWindowSize(startedFromSeq){switch(layerType){case"flex":layerSizeToWindowDimension(startedFromSeq);break;default:getNewContentDimension();if(jq("#gplnAjaxContent").css("height")){jq("#gplnAjaxContent").attr("style","opacity: 1;")}clearTimeout(resizingTimer);resizingTimer=setTimeout("rlGlassPaneLayerNext.layerSizeToWindowHeight();",200);layerSizeToWindowHeight(startedFromSeq);break}}function layerSizeToWindowHeight(startedFromSeq){gplnLayerHeight=gplnLayerHTML.height();windowHeight=jq(window).height();var gplnLayerMaxSize={maxHeight:windowHeight-gplnWindowSpace-gplnFooterHeight-gplnHeaderHeight};if(windowHeight<gplnAbsoluteLayerHeight&&windowHeight>gplnMinFixHeight){rlCompLog.showLog("reduce layer height to window height","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContentValue").css({"max-height":windowHeight-gplnContentSpace-gplnWindowSpace,"overflow-y":""})}if(windowHeight<=gplnMinFixHeight){rlCompLog.showLog("window height is smaller as layer min height","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContentValue").css({"max-height":gplnMinFixHeight-gplnContentSpace-gplnWindowSpace,"overflow-y":""})}if(windowHeight>=gplnAbsoluteLayerHeight){rlCompLog.showLog("layer size is smaller as window size","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContentValue").css({"overflow-y":"hidden",height:"","max-height":""})}else{rlCompLog.showLog("reduce layer height to window height","info",0,logComp,displayLog,logDetailLevel);jq("#gplnContentValue").css("overflow-y","auto")}if(jq("#gplnContentValue #error-message").length>=1||jq("#gplnContentValue .flashPlayerError").length>=1){hideShareButtons()}else{showShareButtons()}if(isDefined(scrollPosElem)){jq("#gplnContentValue").scrollTo(scrollPosElem,0)}if(startedFromSeq){runSequence()}}function layerSizeToWindowDimension(startedFromSeq){gplnLayerHeight=gplnLayerHTML.height();gplnLayerWidth=gplnLayerHTML.width();windowHeight=jq(window).height();windowWidth=jq(window).width();var gplnLayerMaxSize={maxHeight:windowHeight-gplnWindowSpace-gplnFooterHeight-gplnHeaderHeight,maxWidth:windowWidth-gplnWindowSpace};jq("#gplnContentValue").css({overflow:"hidden"});var proportionWidth=(windowWidth-gplnWindowSpace)/(gplnAbsoluteLayerWidth/100);var proportionHeight=(windowHeight-gplnWindowSpace)/(gplnAbsoluteLayerHeight/100);if(windowWidth<gplnAbsoluteLayerWidth){rlCompLog.showLog("reduce layer width to window width","info",0,logComp,displayLog,logDetailLevel);var contentValueMaxWidth=windowWidth-gplnWindowSpace-(gplnWindowSpace/2);var contentValueMaxHeight=proportionWidth*(gplnContentHeight/100);if(contentValueMaxHeight>windowHeight-gplnWindowSpace-gplnContentSpace){rlCompLog.showLog("reduce layer height to window height","info",0,logComp,displayLog,logDetailLevel);var contentValueMaxHeight=windowHeight-gplnWindowSpace-gplnContentSpace;var contentValueMaxWidth=proportionHeight*(gplnContentWidth/100)}}else{if(windowHeight<gplnAbsoluteLayerHeight){rlCompLog.showLog("reduce layer height to window height","info",0,logComp,displayLog,logDetailLevel);var contentValueMaxHeight=windowHeight-gplnWindowSpace-(gplnWindowSpace/2);var contentValueMaxWidth=proportionHeight*(gplnContentWidth/100);if(contentValueMaxWidth>windowWidth-gplnWindowSpace-gplnContentSpace){rlCompLog.showLog("reduce layer width to window width","info",0,logComp,displayLog,logDetailLevel);var contentValueMaxWidth=windowWidth-gplnWindowSpace;var contentValueMaxHeight=(proportionWidth)*(gplnContentHeight/100)}}}if(gplnMinFlexWidth<contentValueMaxWidth){jq("#gplnContentValue img").css({width:contentValueMaxWidth+"px",height:contentValueMaxHeight+"px"})}else{rlCompLog.showLog("window size is bigger as layer max size","info",0,logComp,displayLog,logDetailLevel)}if(windowHeight>=gplnAbsoluteLayerHeight){jq("#gplnContentValue").css({height:""})}if(windowWidth>=gplnAbsoluteLayerWidth){jq("#gplnContentValue").css({width:""})}if(jq("#gplnContentValue #error-message").length>=1||jq("#gplnContentValue .flashPlayerError").length>=1){hideShareButtons()}else{showShareButtons()}resizeLayerButtons();if(startedFromSeq){runSequence()}}function resizeLayerButtons(){var buttonsContainer=jq("#gplnContent .baseIconSprite");var buttonsClassContainer=[];var pastSize="";var buttonSize="";gplnLayerHeight=gplnLayerHTML.height();gplnLayerWidth=gplnLayerHTML.width();var i=0;if(gplnLayerWidth<gplnFlexIconSizeToggle&&layerType=="flex"&&gplnOptions.allowoverflow!=false){buttonSize="Medium"}else{if(layerType=="flex"&&gplnOptions.allowoverflow!=false){buttonSize="Big"}}switch(buttonSize){case"Medium":buttonSize="Medium";pastSize="Big";break;case"Big":buttonSize="Big";pastSize="Medium";break;default:buttonSize="Medium";pastSize="Big";break}if(buttonSize!=pastSize){jq("#gplnCloseButtonContainer").attr("class","glassPaneLayerCloseButton gplnCloseButtonContainer button"+buttonSize);while(buttonsContainer[i]){rlCompLog.showLog("Close button class before resizing: "+jq(buttonsContainer[i]).attr("class"),"info",1,logComp,displayLog,logDetailLevel);buttonsClassContainer[i]=jq(buttonsContainer[i]).attr("class").split(pastSize).join(buttonSize);jq(buttonsContainer[i]).attr("class",buttonsClassContainer[i]);rlCompLog.showLog("Close button class after resizing: "+jq(buttonsContainer[i]).attr("class"),"info",1,logComp,displayLog,logDetailLevel);i++}}}function resetHoldLayerHeight(startedFromSeq){jq("#gplnAjaxContent").height("auto");if(startedFromSeq){runSequence()}}function hideSpinner(startedFromSeq){clearTimeout(spinnerAnimation);spinnerPosition=0;jq("#gplnSpinner").remove();if(startedFromSeq){runSequence()}}function fadeInLayer(startedFromSeq){jq("#gplnAjaxContent").css("opacity","0");actionObservers._openingTriggered();resizeLayerButtons();jq(".gplnCloseButtonContainer").fadeIn(fadeInSpeed);if(gplnOptions.forceSubbrand){layerSubBrandChange(gplnOptions.forceSubbrand)}else{layerSubBrandChange(rlContextObject.getBrandSubbrand())}jq("#gplnContent").animate({opacity:1},fadeInSpeed,function(){if(startedFromSeq){runSequence()}})}function fadeOutLayer(startedFromSeq){jq(".gplnCloseButtonContainer").fadeOut(fadeOutSpeed);jq("#gplnContent").css("opacity",1);jq(".ieFadingFix").animate({opacity:0},fadeOutSpeed,function(){removeIEFadingFix()});jq("#gplnContent").animate({opacity:0},fadeOutSpeed,function(){if(startedFromSeq){runSequence()}});if(gplnContentHolder){jq("#gplnContentHolderElement").replaceWith(gplnContentHolder);jq(gplnOptions.content).attr("style","");jq(gplnContentHolder).attr("style","");gplnContentHolder=""}jq("#glassPaneLayerNextWrapper").remove()}function fadeInLayerContent(startedFromSeq){jq("#gplnAjaxContent").animate({opacity:1},fadeInSpeed,function(){disableIEFilter(this);if(startedFromSeq){runSequence()}})}function fadeOutLayerContent(startedFromSeq){if(isLayerVisible()){addIEFadingFix("#gplnContent")}jq("#gplnAjaxContent").css("opacity",1);jq("#gplnAjaxContent").animate({opacity:0},fadeOutSpeed,function(){jq("#gplnContentValue iframe").css("display","none");jq("#gplnContentValue .flashContent .flashPlayer iframe").remove();if(startedFromSeq){runSequence()}})}function addGPLNEvents(startedFromSeq){bindKeyEvents();bindMouseEvents();bindWindowResize(gplnOptions.layerType);bindDropDownEvents();if(gplnOptions.flexible!=true){layerSizeToWindowSize()}if(startedFromSeq){runSequence()}}function removeGPLNEvents(startedFromSeq){unbindMouseEvents();unbindKeyEvents();unbindWindowEvents();unbindDropDownEvents();if(jq.browser.msie&&parseInt(jq.browser.version)<=8&&sequenceType=="close"&&gplnOptions.allowoverflow&&gplnOptions.showContentOnly){sequenceID=4;jq(".glassPaneLayerNextWrapper").remove()}if(startedFromSeq){runSequence()}}function bindDropDownEvents(){if(activateDropDownScrollingFix&&jq.browser.mozilla){jq("#gplnContent select").bind("focusin",function(){unbindScrollwheel()});jq("#gplnContent select").focusout(function(){bindScrollwheel()})}}function unbindDropDownEvents(){if(activateDropDownScrollingFix&&jq.browser.mozilla){jq("#gplnContent select").unbind("focusin").unbind("focusout")}}function emptyContentVars(startedFromSeq){gplnFooterDOM="";gplnHeaderDOM="";gplnContentDOM="";if(startedFromSeq){runSequence()}}function removeHash(startedFromSeq){if(gplnOptions.keepUrlHash===true){rlCompLog.showLog("Keeping hash in URL","info",0,logComp,displayLog,logDetailLevel)}else{if(window.location.hash&&window.location.hash!="#"&&jq("#layout-root").length==0){if(history.pushState!=undefined){history.pushState(null,null,"#")}else{var safeScrollPos=jq("html").scrollTop();window.location.hash="blank"}rlCompLog.showLog("Removing hash","info",0,logComp,displayLog,logDetailLevel)}else{rlCompLog.showLog("No layer hash available to remove","info",0,logComp,displayLog,logDetailLevel)}}if(startedFromSeq){runSequence()}return false}function holdLayerHeight(startedFromSeq){var layerHeight=jq("#gplnAjaxContent").height();jq("#gplnAjaxContent").height(layerHeight);if(startedFromSeq){runSequence()}}function showLog(logTXT,type){if(displayLog===true){if(!type){type="log"}if(!jq.browser.msie){window.console[type](logTXT)}else{window.console.log(logTXT)}}}function addIEFadingFix(forLayer){showLog("for layer "+forLayer,"info");var layerForIEFadingFix=jq(forLayer);var ieFixWidth=layerForIEFadingFix.width();var ieFixHeight=layerForIEFadingFix.height();var ieFixOffset=layerForIEFadingFix.offset();if(ieFixOffset!=null){var ieFixLeft=ieFixOffset.left;var ieFixTop=ieFixOffset.top;if(jq("#ieFadingFix").length<=0&&gplnOptions.showContentOnly!=true){jq("body").append('<div id="ieFadingFix" class="ieFadingFix" style="top: '+ieFixTop+"px; left: "+ieFixLeft+"px; width: "+ieFixWidth+"px; height: "+ieFixHeight+'px; z-index: 10550"></div>')}}}function removeIEFadingFix(){jq("#ieFadingFix").remove()}function disableIEFilter(_Elem){rlCompLog.showLog("Disabling IE filter","info",0,logComp,displayLog,logDetailLevel);jq(_Elem).css("filter","")}function enableIEFilter(_Elem){rlCompLog.showLog("Enabling IE filter","info",0,logComp,displayLog,logDetailLevel);if(jq("html").hasClass("ie7")||jq("html").hasClass("ie8")){jq(_Elem).css("filter","alpha(opacity=0)")}}function deactivateClose(){rlCompLog.showLog("Deactivate close events","info",0,logComp,displayLog,logDetailLevel);unbindMouseEvents();unbindKeyEvents()}function activateClose(){rlCompLog.showLog("Activate close events","info",0,logComp,displayLog,logDetailLevel);bindMouseEvents();bindKeyEvents()}function stopLayerResizing(){rlCompLog.showLog("Stop layer resizing","info",0,logComp,displayLog,logDetailLevel);jq("#gplnAjaxContent").css("height",gplnContentHeight+"px")}function startLayerResizing(){rlCompLog.showLog("Start layer resizing","info",0,logComp,displayLog,logDetailLevel);jq("#gplnAjaxContent").css("height","")}function closeLayer(args){rlCompLog.showLog("Starting close sequence","info",0,logComp,displayLog,logDetailLevel);actionObservers._closingTriggered(args);unbindMouseEvents();showLog("start closeLayer","info");jq(window).trigger("glassPaneLayer.closing");jq(window).trigger("glassPaneLayerNext.closing");jq("body").removeClass(_isOpenClass);_isOpen=false;if(__ajaxMode){__ajaxCall.abort()}runSequence("close")}function initLayer(options){triggerTrackingInitLayer(options);rlCompLog.showLog("Init glassPaneLayerNext","info",0,logComp,displayLog,logDetailLevel);try{if(CROSSSUBDOMAINAJAX_TIMEOUT){contentReadyTimer=2*CROSSSUBDOMAINAJAX_TIMEOUT}}catch(err){rlCompLog.showLog("No global gplnContentReadyTimer available!","warn",0,logComp,displayLog,logDetailLevel)}try{if(CROSSSUBDOMAINAJAX_TIMEOUT){ajaxContentTimer=CROSSSUBDOMAINAJAX_TIMEOUT}}catch(err){rlCompLog.showLog("No global gplnAjaxContentTimer available!","warn",0,logComp,displayLog,logDetailLevel)}if(options.flexible){layerType="flex"}else{layerType="fixed"}if(options.width){}gplnOptions=options;gplnOptions.waitforcallback=options.waitforcallback;if(options.onOpen){rlCompLog.showLog("Add open listeners","info",0,logComp,displayLog,logDetailLevel);actionObservers.addOpenListener(options.onOpen)}if(options.onClose){rlCompLog.showLog("Add cloase listeners","info",0,logComp,displayLog,logDetailLevel);actionObservers.addCloseListener(options.onClose)}if(options.onAfterAjaxContentLoaded){rlCompLog.showLog("Add ajaxContentLoaded listeners","info",0,logComp,displayLog,logDetailLevel);actionObservers.addAjaxContentLoaded(options.onAfterAjaxContentLoaded)}if(options.deactivateClosability){rlCompLog.showLog("Add sequenceEnded listener for deactivateClosability","info",0,logComp,displayLog,logDetailLevel);actionObservers.addSequenceEnded(function(){rlGlassPaneLayerNext.deactivateClosability();jq("#gplnCloseButton").hide()})}if(options.onSequenceEnded){rlCompLog.showLog("Add sequenceEnded listeners","info",0,logComp,displayLog,logDetailLevel);actionObservers.addSequenceEnded(options.onSequenceEnded)}window.bmwGlassPaneUrl=options.url;if(isLayerOpen()){rlCompLog.showLog("Layer is open! Starting close sequence.","warn",0,logComp,displayLog,logDetailLevel);actionObservers._closingTriggered();switch(sequenceType){case"open":if(_isDisplaying){runSequence("morph")}else{clearTimeout(contentReadyTimeout);contentReadyTimeout=undefined;if(options.overridePrevLayer===true){hideSpinner();setSequence("open",2);runSequence("open")}else{runSequence("error")}}break;case"close":runSequence("open");break;case"morph":if(jq("#gplnAjaxContent").css("opacity")>0){runSequence("morph")}else{runSequence("error")}break;case"error":runSequence("close");break;default:runSequence("open");break}}else{if(jq("#glassPane").length<1){rlCompLog.showLog("Push glassPane in DOM","info",0,logComp,displayLog,logDetailLevel);jq("body").append(glassPaneHTML)}else{rlCompLog.showLog("GlassPane is always available in DOM","warn",0,logComp,displayLog,logDetailLevel)}if(jq("#glassPaneLayerNextWrapper").length<1){rlCompLog.showLog("Push glassPaneLayerNextWrapper in DOM","info",0,logComp,displayLog,logDetailLevel);jq("body").append(glassPaneLayerHTML)}else{rlCompLog.showLog("GlassPaneLayerNextWrapper is always available in DOM","warn",0,logComp,displayLog,logDetailLevel)}if(options.showContentOnly){jq("#gplnContent").css("background-color","transparent");jq(".ieFadingFix").css("background-color","transparent");jq(".videoThumbIFrameOverlay").css("left","240px");if(jq.browser.msie&&parseInt(jq.browser.version)<=8){jq("#gplnCloseButtonContainer").css("top","48px").css("right","235px");jq(".glassPaneLayerNextWrapper .videoIFrameParent .videoThumbIFrameOverlay").css("left","252px").css("top","36px")}else{jq("#gplnCloseButtonContainer").css("top","45px").css("right","242px")}}rlCompLog.showLog("Set glassPaneLayerNext type to "+layerType,"info",0,logComp,displayLog,logDetailLevel);jq("#gplnContent").attr("class","gplnContent gpln"+layerType.replace("f","F"));runSequence("open")}_isOpen=true;jq("body").addClass(_isOpenClass);window.bmwGlassPaneUrl=options.url;jq(window).unbind(rlGlassPaneLayerNext.EVENT_LAYER_SUBBRAND_CHANGED);jq(window).bind(rlGlassPaneLayerNext.EVENT_LAYER_SUBBRAND_CHANGED,onEventLayerSubBrandChanged)}function isLayerOpen(){var gplnIsOpen;if(jq("#glassPaneLayerNextWrapper").length>0){rlCompLog.showLog("GlassPaneLayerNext is always open ","info",0,logComp,displayLog,logDetailLevel);gplnIsOpen=true}else{rlCompLog.showLog("GlassPaneLayerNext is always closed ","info",0,logComp,displayLog,logDetailLevel);gplnIsOpen=false}return gplnIsOpen}function isLayerVisible(){var gplnIsVisible;if(jq(".gplnContent").css("opacity")==1){rlCompLog.showLog("GlassPaneLayerNext is visible ","info",0,logComp,displayLog,logDetailLevel);gplnIsVisible=true}else{rlCompLog.showLog("GlassPaneLayerNext is invisible ","info",0,logComp,displayLog,logDetailLevel);gplnIsVisible=false}return gplnIsVisible}function bindScrollwheel(){rlCompLog.showLog("Binding scroll wheel","info",0,logComp,displayLog,logDetailLevel);jq(document).mousewheel(function(event,delta,deltaX,deltaY){event.preventDefault();jq("#gplnContentValue").scrollTop(jq("#gplnContentValue").scrollTop()+50*-deltaY)})}function unbindScrollwheel(){rlCompLog.showLog("Unbinding scroll wheel","info",0,logComp,displayLog,logDetailLevel);jq(document).unbind("mousewheel")}function bindWindowResize(layerType){rlCompLog.showLog("Binding window resize events","info",0,logComp,displayLog,logDetailLevel);if(layerType!="fixed"){jq(window).bind("resize",function(){rlGlassPaneLayerNext.layerSizeToWindowSize()})}else{jq(window).unbind("resize");rlCompLog.showLog("Unbinding window resize events","info",0,logComp,displayLog,logDetailLevel)}}function bindKeyEvents(){rlCompLog.showLog("Binding key events","info",0,logComp,displayLog,logDetailLevel);jq("#glassPaneLayerNextWrapper").keyup(function(event){switch(event.which){case 37:return false;break;case 39:return false;break;case 27:rlGlassPaneLayerNext.closeLayer();break}})}function unbindKeyEvents(){rlCompLog.showLog("Unbinding key events","info",0,logComp,displayLog,logDetailLevel);jq("#glassPaneLayerNextWrapper").unbind("keydown")}function bindMouseEvents(){rlCompLog.showLog("Binding mouse events","info",0,logComp,displayLog,logDetailLevel);bindScrollwheel();jq("#glassPaneLayerNextWrapper").click(function(event){var layerOffset=jq("#gplnAjaxContent").offset();var layerSizeWidth=jq("#gplnAjaxContent").width();var layerSizeHeight=jq("#gplnAjaxContent").height();if(event.pageX!=undefined&&event.pageY!=undefined){if(event.pageX>layerOffset.left&&event.pageX<(layerOffset.left+layerSizeWidth)&&event.pageY>layerOffset.top&&event.pageY<(layerOffset.top+layerSizeHeight)){}else{if(event.target.nodeName=="DIV"){unbindMouseEvents();rlGlassPaneLayerNext.closeLayer()}}}});jq("#gplnCloseButton").click(function(event){unbindMouseEvents();rlGlassPaneLayerNext.closeLayer()})}function unbindMouseEvents(){rlCompLog.showLog("Unbinding mouse events","info",0,logComp,displayLog,logDetailLevel);unbindScrollwheel();jq("#gplnCloseButton").unbind("click");jq("#glassPaneLayerNextWrapper").unbind("click")}function unbindWindowEvents(){rlCompLog.showLog("Unbinding window events","info",0,logComp,displayLog,logDetailLevel);jq(window).unbind("resize")}function setSequence(type,id){if(type){sequenceType=type}if(id){sequenceID=id}}function switchDOMContent(callback){jq("#gplnAjaxContent").animate({opacity:0},400,function(){holdLayerHeight();eval(callback);rlGlassPaneLayerNext.setSequence("morph",9);rlGlassPaneLayerNext.runSequence()})}function str_replace(search,replace){return this.split(search).join(replace)}function getLayerOptions(){rlCompLog.showLog("Active gpln options: "+pglnOptions,"info",0,logComp,displayLog,logDetailLevel)}function getAllGPLNAttributes(){var gplnAttributes={isDisplaying:_isDisplaying,sequenceID:sequenceID,sequenceType:sequenceType,gplnOptions:gplnOptions,gplnHeaderHeight:gplnHeaderHeight,gplnFooterHeight:gplnFooterHeight,gplnContentHeight:gplnContentHeight,gplnContentWidth:gplnContentWidth,gplnContentSpace:gplnContentSpace,gplnContentViewHeight:gplnContentViewHeight,gplnLayerHeight:gplnLayerHeight,gplnLayerWidth:gplnLayerWidth,gplnAbsoluteLayerHeight:gplnAbsoluteLayerHeight,gplnAbsoluteLayerWidth:gplnAbsoluteLayerWidth,windowHeight:windowHeight,windowWidth:windowWidth,layerWidthTMP:layerWidthTMP,doNotRemoveContentValueCss:doNotRemoveContentValueCss,doubleSequenceCheck:doubleSequenceCheck,contentReadyTimeout:contentReadyTimeout,resizingTimer:resizingTimer,gplnAjaxStatus:gplnAjaxStatus,requestResult:requestResult};return gplnAttributes}function onEventLayerSubBrandChanged(event,args){rlCompLog.showLog("Change EVENT_LAYER_SUBBRAND_CHANGED to"+args,"info",0,logComp,displayLog,logDetailLevel);layerSubBrandChange(args)}function layerSubBrandChange(subbrand){if(subbrand=="BI"){jq("#glassPaneLayerNextWrapper").removeClass("brand-bmw").addClass("brand-bmwi")}if(subbrand=="BM"){jq("#glassPaneLayerNextWrapper").removeClass("brand-bmwi").addClass("brand-bmw")}}function getLayerSubBrand(){return jq("#glassPaneLayerNextWrapper").hasClass("brand-bmwi")?"BI":"BM"}function triggerTrackingInitLayer(options){jq(window).trigger(rlTrackingListener.EVENTS.EVENT_TRACKING_LISTENER_NOTIFICATION,{id:rlTrackingListener.FORM_IDS.INIT_LAYER,info:options,type:rlTrackingListener.TRACKING_TYPES.GLASS_PANE_LAYER})}function triggerTrackingOpenLayer(){jq(window).trigger(rlTrackingListener.EVENTS.EVENT_TRACKING_LISTENER_NOTIFICATION,{id:rlTrackingListener.FORM_IDS.OPEN_LAYER,info:gplnOptions,type:rlTrackingListener.TRACKING_TYPES.GLASS_PANE_LAYER})}function triggerTrackingCloseLayer(){jq(window).trigger(rlTrackingListener.EVENTS.EVENT_TRACKING_LISTENER_NOTIFICATION,{id:rlTrackingListener.FORM_IDS.CLOSE_LAYER,info:gplnOptions,type:rlTrackingListener.TRACKING_TYPES.GLASS_PANE_LAYER})}function observerClass(){}observerClass.prototype={_openingListeners:[],_closingListeners:[],_ajaxContentListeners:[],_sequenceEndedListeners:[],_openingListenersPersistent:[],_closingListenersPersistent:[],_ajaxContentListenersPersistent:[],_sequenceEndedtListenersPersistent:[],addOpenListener:function(_elm,persistent){if(typeof persistent!=="undefined"){this._openingListenersPersistent.push(_elm);rlCompLog.showLog("Push _openingListenersPersistent to "+_elm,"info",0,logComp,displayLog,logDetailLevel)}else{this._openingListeners.push(_elm);rlCompLog.showLog("Push _openingListeners to "+_elm,"info",0,logComp,displayLog,logDetailLevel)}jq.unique(this._openingListeners)},addCloseListener:function(_elm,persistent){if(typeof persistent!=="undefined"){this._closingListenersPersistent.push(_elm);rlCompLog.showLog("Push _closingListenersPersistent to "+_elm,"info",0,logComp,displayLog,logDetailLevel);this._closingListenersPersistent=this.getUniqueListerArray(this._closingListenersPersistent)}else{this._closingListeners.push(_elm);rlCompLog.showLog("Push _closingListeners to "+_elm,"info",0,logComp,displayLog,logDetailLevel)}jq.unique(this._closingListeners)},addAjaxContentLoaded:function(_elm,persistent){if(typeof persistent!=="undefined"){rlCompLog.showLog("Push _ajaxContentListenersPersistent to "+_elm,"info",0,logComp,displayLog,logDetailLevel);this._ajaxContentListenersPersistent.push(_elm)}else{rlCompLog.showLog("Push _ajaxContentListeners to "+_elm,"info",0,logComp,displayLog,logDetailLevel);this._ajaxContentListeners.push(_elm)}jq.unique(this._ajaxContentListeners)},addSequenceEnded:function(_elm,persistent){if(typeof persistent!=="undefined"){rlCompLog.showLog("Push _sequenceEndedListenersPersistent to "+_elm,"info",0,logComp,displayLog,logDetailLevel);this._sequenceEndedtListenersPersistent.push(_elm)}else{rlCompLog.showLog("Push _sequenceEndedListeners to "+_elm,"info",0,logComp,displayLog,logDetailLevel);this._sequenceEndedListeners.push(_elm)}jq.unique(this._sequenceEndedListeners)},_openingTriggered:function(){triggerTrackingOpenLayer();jq.each(this._openingListeners,function(key,listener){rlCompLog.showLog("Trigger "+listener+" for _openingListeners","info",0,logComp,displayLog,logDetailLevel);listener()});jq.each(this._openingListenersPersistent,function(key,listener){rlCompLog.showLog("Trigger "+listener+" for _openingListenersPersistent","info",0,logComp,displayLog,logDetailLevel);listener()});this._openingListeners=[]},_closingTriggered:function(args){triggerTrackingCloseLayer();jq.each(this._closingListeners,function(key,listener){rlCompLog.showLog("Trigger "+listener+" for _closingTriggered","info",0,logComp,displayLog,logDetailLevel);listener(args)});jq.each(this._closingListenersPersistent,function(key,listener){rlCompLog.showLog("Trigger "+listener+" for _closingListenersPersistent","info",0,logComp,displayLog,logDetailLevel);listener(args)});this._closingListeners=[]},_ajaxContentLoadedTriggered:function(){jq.each(this._ajaxContentListeners,function(key,listener){rlCompLog.showLog("Trigger "+listener+" for _ajaxContentListeners","info",0,logComp,displayLog,logDetailLevel);listener()});jq.each(this._ajaxContentListenersPersistent,function(key,listener){rlCompLog.showLog("Trigger "+listener+" for _ajaxContentListenersPersistent","info",0,logComp,displayLog,logDetailLevel);listener()});this._ajaxContentListeners=[]},_sequenceEndedTriggered:function(){jq.each(this._sequenceEndedListeners,function(key,listener){rlCompLog.showLog("Trigger "+listener+" for _sequenceEndedListeners","info",0,logComp,displayLog,logDetailLevel);listener()});jq.each(this._sequenceEndedtListenersPersistent,function(key,listener){rlCompLog.showLog("Trigger "+listener+" for _sequenceEndedListenersPersistent","info",0,logComp,displayLog,logDetailLevel);listener()});this._sequenceEndedListeners=[]},getUniqueListerArray:function(listenerArray){var uniqueListerArray=[];var uniqueListenerStrings=[];jq.each(listenerArray,function(index,listener){var listenerString=""+listener;if(jq.inArray(listenerString,uniqueListenerStrings)===-1){uniqueListenerStrings.push(listenerString);uniqueListerArray.push(listener)}});return uniqueListerArray}};var actionObservers=new observerClass();glassPaneSpinnerHTML=false;glassPaneLayerSpinnerHTML=false;glassPaneHTML=false;glassPaneLayerHTML=false;return{__init__:function(){if(typeof (jq(window).hashchange)=="function"){jq(window).hashchange(function(){if(rlGlassPaneLayerNext.isOpen()&&jq("#layout-root").length>0){rlGlassPaneLayerNext.closeLayer()}})}glassPaneSpinnerHTML='<div class="gplnSpinner" id="gplnSpinner"><div class="glassPaneLayerNextSpinner" data-spinnerposition="0"><div class="spinnerImage"></div></div></div>';glassPaneLayerSpinnerHTML='<div class="gplnInlineSpinner" id="gplnSpinner"><div class="glassPaneLayerNextSpinner" data-spinnerposition="0"><div class="spinnerImage"></div></div></div>';glassPaneHTML='<div class="glassPane" id="glassPane"></div>';glassPaneLayerHTML='<div class="glassPaneLayer glassPaneLayerNextWrapper" id="glassPaneLayerNextWrapper"><div class="glassPaneLayerDialog gplnPositioningContainer" id="gplnPositioningContainer"><div class="glassPaneLayerLayerWrapObject gplnContentContainer"><div class="gplnContent" id="gplnContent" style=""><!-- gplnFixed --><div id="gplnCloseButtonContainer" class="glassPaneLayerCloseButton gplnCloseButtonContainer"><div id="gplnCloseButtonDither"></div><div id ="gplnCloseButton" class="baseIconSprite baseIconSizeMedium spriteIconCloseMedium clickableIconCloseMedium" title="'+GLOBAL_CMX_MESSAGE_ICON_CLOSE+'"></div></div><div class="gplnAjaxContent" id="gplnAjaxContent" style="filter: alpha(opacity=0);"><div class="gplnContentHeader" id="gplnContentHeader"><div class="glassPaneLayerHeaderContent space"><!-- header value --></div></div><div class="gplnContentValue" id="gplnContentValue"><div class="glassPaneLayerContent space"><!-- content value --></div></div><div class="gplnContentFooter" id="gplnContentFooter"><div class="glassPaneLayerFooterContent space"><!-- footer value --></div></div></div></div></div></div></div>';glassPaneFadingOverlay='<div id="glassPaneFading" class="glassPaneFading"></div>';rlCompLog.showLog("Initializing glassPaneLayerNext","info",0,logComp,displayLog,logDetailLevel)},closeLayer:function(){closeLayer()},showSpinner:function(){showSpinner()},hideSpinner:function(){hideSpinner()},closeDialog:function(args){closeLayer(args)},openLayer:function(layerType){initLayer(layerType)},openDialog:function(args){initLayer(args)},switchContent:function(args){initLayer(args)},showLog:function(logTXT,type){showLog(logTXT,type)},resizeLayerButtons:function(){resizeLayerButtons()},contentReady:function(){rlCompLog.showLog("contentReady is triggered","groupEnd",0,logComp,displayLog,logDetailLevel);rlCompLog.showLog("waitforcallback time","timeEnd",0,logComp,displayLog,logDetailLevel);clearTimeout(contentReadyTimeout);contentReadyTimeout=undefined;runSequence()},spinnerAnimate:function(){var spinnerImage=jq(".glassPaneLayerNextSpinner .spinnerImage");var spinnerPosition=jq(".glassPaneLayerNextSpinner").attr("data-spinnerposition");spinnerImage.css("background-position","-"+(spinnerPosition*37)+"px 0");spinnerPosition++;if(spinnerPosition==18){spinnerPosition=0}jq(".glassPaneLayerNextSpinner").attr("data-spinnerposition",spinnerPosition)},addOpenListener:function(_callback,persistent){actionObservers.addOpenListener(_callback,persistent)},addCloseListener:function(_callback,persistent){rlCompLog.showLog("Add close Listener","info",0,logComp,displayLog,logDetailLevel);actionObservers.addCloseListener(_callback,persistent)},addAjaxContentLoaded:function(_callback,persistent){actionObservers.addAjaxContentLoaded(_callback,persistent)},addSquenceEnded:function(_callback,persistent){actionObservers.addSquenceEnded(_callback,persistent)},deactivateClosability:function(){rlCompLog.showLog("Deactivate closability","info",0,logComp,displayLog,logDetailLevel);deactivateClose()},activateClosability:function(){rlCompLog.showLog("Activate closability","info",0,logComp,displayLog,logDetailLevel);activateClose()},isOpen:function(){rlCompLog.showLog("GlassPaneLayerNext is open","info",0,logComp,displayLog,logDetailLevel);return _isOpen},repositionDialog:function(){rlCompLog.showLog("Reposition glassPaneLayerNext","info",0,logComp,displayLog,logDetailLevel)},resizeLayerToViewportHeight:function(){resizeLayerToViewportHeight()},getLayerClass:function(){rlCompLog.showLog("Getting layer class","info",0,logComp,displayLog,logDetailLevel);return"glassPaneLayerNext"},layerSizeToWindowSize:function(scrollToElem){scrollPosElem=scrollToElem;rlCompLog.showLog("Change layer size to window size","info",0,logComp,displayLog,logDetailLevel);layerSizeToWindowSize()},layerSizeToWindowHeight:function(){},runSequence:function(){runSequence()},setSequence:function(type,id){setSequence(type,id)},holdLayerHeight:function(){holdLayerHeight()},switchDOMContent:function(hideSelector,showSelector,callback){switchDOMContent(hideSelector,showSelector,callback)},getLayerOptions:function(){getLayerOptions()},getGPLNAjaxStatus:function(){return getGPLNAjaxStatus()},getAllGPLNAttributes:function(){return getAllGPLNAttributes()},subbrandChange:function(subbrand){layerSubBrandChange(subbrand)},EVENT_LAYER_SUBBRAND_CHANGED:"EVENT_LAYER_SUBBRAND_CHANGED",getLayerSubBrand:function(){return getLayerSubBrand()},addPanelClass:function(className){if(jq("#glassPaneLayerNextWrapper").hasClass(className)==false){jq("#glassPaneLayerNextWrapper").addClass(className)}}}}();var rlGreyLayer=function(){var C="grey_layer";var D=10500;function A(F){var E=jq("<div/>").attr("id",C);E.css({position:"fixed",display:"none",top:"0px",left:"0px",opacity:"0.75",filter:"alpha(opacity=75)","moz-opacity":"0.75","z-index":D,"background-color":"#000",width:jq(document).width()+"px",height:F,zoom:"1"});E.attr("class",C);return E}function B(){var H;function I(){var K=jq(window).height();var L=jq(window).width();H.height(K);H.width(L)}function G(){jq(window).bind("resize",I)}function E(){jq(window).unbind("resize",I)}function F(){jq(window).bind("scroll",I)}function J(){jq(window).unbind("scroll",I)}return{greyLayer_show:function(){console.log("greyLayer: showing greyLayer ...");var K=jq(document).height()+"px";H=A(K);jq("body").append(H);H.fadeIn(200);G();F()},greyLayer_hide:function(){E();J();jq("#"+C).fadeOut(200,function(){jq(this).remove()})},isLayerVisible:function(){return jq("."+C).filter(":visible").length>0},getId:function(){return C}}}greyLayer=B();return{__init__:function(){}}}();var rlHttpsWorkflow=function(){var k="bmwWorkflowHash";var Y=typeof CROSSSUBDOMAINAJAX_TIMEOUT==="undefined"?10000:CROSSSUBDOMAINAJAX_TIMEOUT;function d(p){var o={cookieKey:k,cookieValue:p,callback:function(q){if(q){console.log("Cookie for httpsWorkflow can not be stored: "+q)}}};rlCookieController.setCookie(o)}function e(){rlCookieController.removeCookie(k)}function H(){var o;o=rlCookieController.getCookie({cookieKey:k});if(o===null){return null}return o.cookieValue}function Q(o){B(o)}function G(){var o=g(H());if(typeof o!=="undefined"){if((new Date()).getTime()-o.ts>Y){h();console.error("Workflow expired: "+o.wid)}else{j(o.p);B(o)}}}function B(o){switch(o.wid){case rlHttpsWorkflow.WORKFLOW_REDIRECT:P(o);break;case rlHttpsWorkflow.WORKFLOW_LOGIN_LAYER:U(o);break;case rlHttpsWorkflow.WORKFLOW_REGISTRATION_LAYER:I(o);break;case rlHttpsWorkflow.WORKFLOW_FORGOTTENPASSWORD_LAYER:W(o);break;case rlHttpsWorkflow.WORKFLOW_LOGIN_POLICYAGREE:N(o);break;case rlHttpsWorkflow.WORKFLOW_LOGIN_C2BREGISTRATION:L(o);break;case rlHttpsWorkflow.WORKFLOW_VINTOOL_SAVEVININMYBMW:R(o);break;case rlHttpsWorkflow.WORKFLOW_NCC_SHOWCONFIGSELECTOR:K(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_CONTACTFORM:S(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_RFI:D(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_RFI_PRINT:F(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_RFI_DOWNLOAD:Z(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_RFA:i(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_RFO:X(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_RFO_SPECIAL_CUSTOMER:J(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_RFP:T(o);break;case rlHttpsWorkflow.WORKFLOW_RFX_TDA:O(o);break;case rlHttpsWorkflow.WORKFLOW_CAMPAIGN_PARTICIPATION_LAYER:V(o);break;case rlHttpsWorkflow.WORKFLOW_DEALER_REMEMBER:A(o);break;case rlHttpsWorkflow.WORKFLOW_DEALER_MANAGE:C(o);break;case rlHttpsWorkflow.WORKFLOW_SHOW_NCC_SAVE:E(o);break;default:console.error("Unknown workflow: "+o.wid)}}function f(p,o){p.nxt=o;d(l(p));Q(p)}function m(o,p){if(typeof o.nxt==="undefined"){h()}else{p=p||false;o=o.nxt;o.ts=(new Date()).getTime();d(l(o));if(p===false){B(o)}}}function h(){e()}function b(){e()}function c(p,q){var o=(new Date()).getTime();return{uid:p+"_"+o,wid:p,p:q,ts:o}}function l(p){var o=JSON.stringify(p);return"WF_"+rlBase64.encode(o)}function g(p){if(p!==null&&p.indexOf("WF_")===0){try{return JSON.parse(rlBase64.decode(p.replace("WF_","")))}catch(o){console.error("Couldn't decode workflow hash: "+o)}}}function n(o){rlComponentLoader.requireComponentWithDeferredExec(["userDialog"],o)}function M(o){return c(rlHttpsWorkflow.WORKFLOW_LOGIN_LAYER,{reloadPageAfterRegistration:o})}function U(o){var p=function(){var r=function(){s(false)};var t=function(){s(true)};var q=function(){jq(window).unbind("user_logged_in",r);jq(window).unbind("user_registered",t);window.reloadPageAfterRegistration=undefined};var s=function(u){if(u===true&&typeof o.nxt!=="undefined"&&o.nxt.wid===rlHttpsWorkflow.WORKFLOW_CAMPAIGN_PARTICIPATION_LAYER){q();h()}else{jq(window).bind("beforeunload",function(){m(o,rlLoginservice.pageWillReloadAfterLogin())});window.ignorePostLoginURL=true}};n(function(){var u=o.p||{};u.trackingParam=o.nxt&&o.nxt.p&&o.nxt.p.trackingParam?o.nxt.p.trackingParam:null;var v=u.onGlassPaneLayerClosed||jq.noop;u.onGlassPaneLayerClosed=function(){window.setTimeout(function(){if(!rlGlassPaneLayerNext.isOpen()){q();v()}},100)};if(o.p&&o.p.reloadPageAfterRegistration){window.reloadPageAfterRegistration=true}else{window.reloadPageAfterRegistration=undefined}b();rlUserDialog.showLoginDialog(u);jq(window).bind("user_logged_in",r);jq(window).bind("user_registered",t)})};rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){m(o)},loggedOut:function(){p()}})})}function P(o){rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){b();var q=o.p||{};var r=q.showInLayer||false;if(r){var p=q.gplnOptions||{};p.url=p.url||q.url;rlGlassPaneLayerNext.openDialog(p)}else{window.location=q.url}},loggedOut:function(){f(M(true),o)}})})}function I(o){n(function(){rlUserDialog.showRegistrationDialog(o.p||{});m(o)})}function W(o){n(function(){rlUserDialog.showForgottenPasswordDialog();m(o)})}function R(o){rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){b();rlComponentLoader.requireComponentWithDeferredExec(["vinTool"],function(){rlVinTool.resumeWorkflow({workflowID:o.wid,params:o.p});m(o)})},loggedOut:function(){f(M(true),o)}})})}function K(o){rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){b();rlComponentLoader.requireComponentWithDeferredExec(["configselector"],function(){rlConfigselector.openLoadDialogLoggedIn()})},loggedOut:function(){f(M(true),o)}})})}function A(o){rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){b();rlUserDialog.rememberDealer(o.p)},loggedOut:function(){f(M(true),o)}})})}function C(o){rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){b();rlUserDialog.manageStoredDealers(o.p)},loggedOut:function(){f(M(true),o)}})})}function E(o){rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){if(typeof o.p!=="undefined"){if(typeof o.p.targetUrl!=="undefined"){window.targetUrl=o.p.targetUrl}}b();rlComponentLoader.requireComponentWithDeferredExec(["myConfigSave"],function(){rlMyConfigSave.openConfigSaveDialogAfterHttpsSwitch()})},loggedOut:function(){f(M(true),o)}})})}function S(o){n(function(){if(o.p&&o.p.dealerOfferReferenceId){window.dealerOfferReferenceId=o.p.dealerOfferReferenceId}b();rlUserDialog.showContactForm(o.p)})}function D(o){n(function(){b();rlUserDialog.showRequestRFI(o.p)})}function F(o){n(function(){b();rlUserDialog.showRequestRfiPrint(o.p)})}function Z(o){n(function(){b();rlUserDialog.showRequestRfiDownload(o.p)})}function i(o){n(function(){b();rlUserDialog.showRequestRFA(o.p)})}function X(o){n(function(){b();rlUserDialog.showRequestRFO(o.p)})}function J(o){n(function(){b();rlUserDialog.showRequestRFOSpecialCustomer(o.p)})}function T(o){n(function(){b();rlUserDialog.showRequestRFP(o.p)})}function O(o){n(function(){b();rlUserDialog.showRequestTDA(o.p)})}function V(o){function p(){b();rlUserDialog.showCampaignParticipationDialog(o.p);m(o)}rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){p()},loggedOut:function(){var q=true;if(o.p&&typeof o.p.loginRequired!=="undefined"){q=o.p.loginRequired}if(q){var r=c(rlHttpsWorkflow.WORKFLOW_LOGIN_LAYER,{registrationURL:o.p.campaignRegistrationForm,reloadPageAfterRegistration:true});f(r,o)}else{p()}}})})}function N(o){n(function(){b();rlUserDialog.showPolicyAgreeDialog(o.p);m(o)})}function a(o){n(function(){b();rlUserDialog.showPolicyRevokeDialog(o.p);m(o)})}function L(o){n(function(){b();rlUserDialog.showC2bRegistrationDialog();m(o)})}function j(o){if(o==null){return }if(o.campaignId!=null){window.bmw_campaign_id=o.campaignId}if(o.campaignOfferId!=null){window.bmw_campaign_offerid=o.campaignOfferId}if(o.campaignTreatmentId!=null){window.bmw_campaign_treatmentid=o.campaignTreatmentId}if(o.campaignResponseType!=null){window.bmw_campaign_responseType=o.campaignResponseType}if(o.leadContext!=null){window.bmw_campaign_leadContext=o.leadContext}}return{WORKFLOW_REDIRECT:"workflow_redirect",WORKFLOW_LOGIN_LAYER:"workflow_login_layer",WORKFLOW_REGISTRATION_LAYER:"workflow_registration_layer",WORKFLOW_FORGOTTENPASSWORD_LAYER:"workflow_forgottenpassword_layer",WORKFLOW_LOGIN_POLICYAGREE:"workflow_login_policyagree",WORKFLOW_LOGIN_POLICYREVOKE:"workflow_login_policyrevoke",WORKFLOW_LOGIN_C2BREGISTRATION:"workflow_login_c2bregistration",WORKFLOW_VINTOOL_SAVEVININMYBMW:"workflow_vintool_savevininmybmw",WORKFLOW_NCC_SHOWCONFIGSELECTOR:"workflow_ncc_showconfigselector",WORKFLOW_RFX_CONTACTFORM:"workflow_rfx_contactform",WORKFLOW_RFX_RFI:"workflow_rfx_requestforinformation",WORKFLOW_RFX_RFI_PRINT:"workflow_rfx_requestforinformation_print",WORKFLOW_RFX_RFI_DOWNLOAD:"workflow_rfx_requestforinformation_download",WORKFLOW_RFX_RFA:"workflow_rfx_requestforaccessories",WORKFLOW_RFX_RFO:"workflow_rfx_requestforoffer",WORKFLOW_RFX_RFO_SPECIAL_CUSTOMER:"workflow_rfx_requestforoffer_special_customer",WORKFLOW_RFX_RFP:"workflow_rfx_requestforpurchase",WORKFLOW_RFX_TDA:"workflow_rfx_testdriveappointment",WORKFLOW_CAMPAIGN_PARTICIPATION_LAYER:"workflow_campaign_participation_layer",WORKFLOW_DEALER_REMEMBER:"workflow_dealer_remember",WORKFLOW_DEALER_MANAGE:"workflow_dealer_manage",WORKFLOW_SHOW_NCC_SAVE:"workflow_show_ncc_save",__init__:function(){},__start__:function(){G()},isHttps:function(){return(window.location.protocol==="https:")},triggerWorkflow:function(o,p){j(p);Q(c(o,p))},wrapFunctionAsWorkflow:function(o){var p=o.requiredLoggedInUser||false;if(p){rlComponentLoader.requireComponentWithDeferredExec(["coreServices"],function(){rlCoreServices.isLoggedIn({loggedIn:function(){o.httpsCallback(o.params)},loggedOut:function(){rlHttpsWorkflow.triggerWorkflow(o.workflowID,o.params)}})})}else{o.httpsCallback(o.params)}}}}();var rlJQuery_base64=function(){return{__start__:function(){},__init__:function(){(function(D){var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var C=function(F){F=F.replace(/\x0d\x0a/g,"\x0a");var E="";for(var H=0;H<F.length;H++){var G=F.charCodeAt(H);if(G<128){E+=String.fromCharCode(G)}else{if((G>127)&&(G<2048)){E+=String.fromCharCode((G>>6)|192);E+=String.fromCharCode((G&63)|128)}else{E+=String.fromCharCode((G>>12)|224);E+=String.fromCharCode(((G>>6)&63)|128);E+=String.fromCharCode((G&63)|128)}}}return E};var A=function(E){var F="";var G=0;var H=c1=c2=0;while(G<E.length){H=E.charCodeAt(G);if(H<128){F+=String.fromCharCode(H);G++}else{if((H>191)&&(H<224)){c2=E.charCodeAt(G+1);F+=String.fromCharCode(((H&31)<<6)|(c2&63));G+=2}else{c2=E.charCodeAt(G+1);c3=E.charCodeAt(G+2);F+=String.fromCharCode(((H&15)<<12)|((c2&63)<<6)|(c3&63));G+=3}}}return F};D.extend({base64Encode:function(G){var E="";var N,L,J,M,K,I,H;var F=0;G=C(G);while(F<G.length){N=G.charCodeAt(F++);L=G.charCodeAt(F++);J=G.charCodeAt(F++);M=N>>2;K=((N&3)<<4)|(L>>4);I=((L&15)<<2)|(J>>6);H=J&63;if(isNaN(L)){I=H=64}else{if(isNaN(J)){H=64}}E=E+B.charAt(M)+B.charAt(K)+B.charAt(I)+B.charAt(H)}return E},base64Decode:function(G){var E="";var N,L,J;var M,K,I,H;var F=0;G=G.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(F<G.length){M=B.indexOf(G.charAt(F++));K=B.indexOf(G.charAt(F++));I=B.indexOf(G.charAt(F++));H=B.indexOf(G.charAt(F++));N=(M<<2)|(K>>4);L=((K&15)<<4)|(I>>2);J=((I&3)<<6)|H;E=E+String.fromCharCode(N);if(I!=64){E=E+String.fromCharCode(L)}if(H!=64){E=E+String.fromCharCode(J)}}E=A(E);return E}})})(jq)}}}();var rlJQuery_bbq=function(){return{__start__:function(){},__init__:function(){(function($,r){var h,n=Array.prototype.slice,t=decodeURIComponent,a=$.param,j,c,m,y,b=$.bbq=$.bbq||{},s,x,k,e=$.event.special,d="hashchange",B="querystring",F="fragment",z="elemUrlAttr",l="href",w="src",p=/^.*\?|#.*$/g,u,H,g,i,C,E={};function G(I){return typeof I==="string"}function D(J){var I=n.call(arguments,1);return function(){return J.apply(this,I.concat(n.call(arguments)))}}function o(I){return I.replace(H,"$2")}function q(I){return I.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(K,P,I,L,J){var R,O,N,Q,M;if(L!==h){N=I.match(K?H:/^([^#?]*)\??([^#]*)(#?.*)/);M=N[3]||"";if(J===2&&G(L)){O=L.replace(K?u:p,"")}else{Q=m(N[2]);L=G(L)?m[K?F:B](L):L;O=J===2?L:J===1?$.extend({},L,Q):$.extend({},Q,L);O=j(O);if(K){O=O.replace(g,t)}}R=N[1]+(K?C:O||!N[1]?"?":"")+O+M}else{R=P(I!==h?I:location.href)}return R}a[B]=D(f,0,q);a[F]=c=D(f,1,o);a.sorted=j=function(J,K){var I=[],L={};$.each(a(J,K).split("&"),function(P,M){var O=M.replace(/(?:%5B|=).*$/,""),N=L[O];if(!N){N=L[O]=[];I.push(O)}N.push(M)});return $.map(I.sort(),function(M){return L[M]}).join("&")};c.noEscape=function(J){J=J||"";var I=$.map(J.split(""),encodeURIComponent);g=new RegExp(I.join("|"),"g")};c.noEscape(",/");c.ajaxCrawlable=function(I){if(I!==h){if(I){u=/^.*(?:#!|#)/;H=/^([^#]*)(?:#!|#)?(.*)$/;C="#!"}else{u=/^.*#/;H=/^([^#]*)#?(.*)$/;C="#"}i=!!I}return i};c.ajaxCrawlable(0);$.deparam=m=function(L,I){var K={},J={"true":!0,"false":!1,"null":null};$.each(L.replace(/\+/g," ").split("&"),function(O,T){var N=T.split("="),S=t(N[0]),M,R=K,P=0,U=S.split("]["),Q=U.length-1;if(/\[/.test(U[0])&&/\]$/.test(U[Q])){U[Q]=U[Q].replace(/\]$/,"");U=U.shift().split("[").concat(U);Q=U.length-1}else{Q=0}if(N.length===2){M=t(N[1]);if(I){M=M&&!isNaN(M)?+M:M==="undefined"?h:J[M]!==h?J[M]:M}if(Q){for(;P<=Q;P++){S=U[P]===""?R.length:U[P];R=R[S]=P<Q?R[S]||(U[P+1]&&isNaN(U[P+1])?{}:[]):M}}else{if($.isArray(K[S])){K[S].push(M)}else{if(K[S]!==h){K[S]=[K[S],M]}else{K[S]=M}}}}else{if(S){K[S]=I?h:""}}});return K};function A(K,I,J){if(I===h||typeof I==="boolean"){J=I;I=a[K?F:B]()}else{I=G(I)?I.replace(K?u:p,""):I}return m(I,J)}m[B]=D(A,0);m[F]=y=D(A,1);$[z]||($[z]=function(I){return $.extend(E,I)})({a:l,base:l,iframe:w,img:w,input:w,form:"action",link:l,script:w});k=$[z];function v(L,J,K,I){if(!G(K)&&typeof K!=="object"){I=K;K=J;J=h}return this.each(function(){var O=$(this),M=J||k()[(this.nodeName||"").toLowerCase()]||"",N=M&&O.attr(M)||"";O.attr(M,a[L](N,K,I))})}$.fn[B]=D(v,B);$.fn[F]=D(v,F);b.pushState=s=function(L,I){if(G(L)&&/^#/.test(L)&&I===h){I=2}var K=L!==h,J=c(location.href,K?L:{},K?I:2);location.href=J};b.getState=x=function(I,J){return I===h||typeof I==="boolean"?y(I):y(J)[I]};b.removeState=function(I){var J={};if(I!==h){J=x();$.each($.isArray(I)?I:arguments,function(L,K){delete J[K]})}s(J,2)};e[d]=$.extend(e[d],{add:function(I){var K;function J(M){var L=M[F]=c();M.getState=function(N,O){return N===h||typeof N==="boolean"?m(L,N):m(L,O)[N]};K.apply(this,arguments)}if($.isFunction(I)){K=I;return J}else{K=I.handler;I.handler=J}}})})(jq,this);var locationIndex=1;
/*
     * jQuery hashchange event - v1.3 - 7/21/2010
     * http://benalman.com/projects/jquery-hashchange-plugin/
     * 
     * Copyright (c) 2010 "Cowboy" Ben Alman
     * Dual licensed under the MIT and GPL licenses.
     * http://benalman.com/about/license/
     */
(function($,window,undefined){var str_hashchange="hashchange",doc=document,fake_onhashchange,special=$.event.special,doc_mode=doc.documentMode,supports_onhashchange="on"+str_hashchange in window&&(doc_mode===undefined||doc_mode>7);function get_fragment(url){url=url||location.href;return"#"+url.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[str_hashchange]=function(fn){return fn?this.bind(str_hashchange,fn):this.trigger(str_hashchange)};$.fn[str_hashchange].delay=50;special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){if(supports_onhashchange){return false}$(fake_onhashchange.start)},teardown:function(){if(supports_onhashchange){return false}$(fake_onhashchange.stop)}});fake_onhashchange=(function(){var self={},timeout_id,last_hash=get_fragment(),fn_retval=function(val){return val},history_set=fn_retval,history_get=fn_retval;self.start=function(){timeout_id||poll()};self.stop=function(){timeout_id&&clearTimeout(timeout_id);timeout_id=undefined};function poll(){var hash=get_fragment(),history_hash=history_get(last_hash);if(hash!==last_hash){history_set(last_hash=hash,history_hash);$(window).trigger(str_hashchange)}else{if(history_hash!==last_hash){if(history_hash!=="#"){location.href=location.href.replace(/#.*/,"")+history_hash}else{location.hash=last_hash}}}timeout_id=setTimeout(poll,$.fn[str_hashchange].delay)}navigator.userAgent.match("MSIE")&&!supports_onhashchange&&(function(){var iframe,iframe_src;self.start=function(){if(!iframe){iframe_src=$.fn[str_hashchange].src;iframe_src=iframe_src&&iframe_src+get_fragment();iframe=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){iframe_src||history_set(get_fragment());poll()}).attr("src",rlPage.getNextCoreUrl()+"/cross-sub-domain-ajax/helper.html").insertAfter("body")[0].contentWindow;doc.onpropertychange=function(){try{if(event.propertyName==="title"){iframe.document.title=doc.title}}catch(e){}}}};self.stop=fn_retval;history_get=function(){return get_fragment(iframe.location.href)};history_set=function(hash,history_hash){var iframe_doc=iframe.document,domain=$.fn[str_hashchange].domain;if(history_hash&&hash!==history_hash){iframe_doc.title=doc.title;iframe.location.href=rlPage.getNextCoreUrl()+"/cross-sub-domain-ajax/helper.html?index="+locationIndex+++hash}}})();return self})()})(jq,window)}}}();var rlJQuery_cookie=function(){return{__start__:function(){},__init__:function(){(function(A){jq.cookie=function(E,F,C){if(arguments.length>1&&String(F)!=="[object Object]"){C=jq.extend({},C);if(F===null||F===undefined){C.expires=-1}if(typeof C.expires==="number"){var H=C.expires,D=C.expires=new Date();D.setDate(D.getDate()+(H/86400000))}F=String(F);return(document.cookie=[encodeURIComponent(E),"=",C.raw?F:encodeURIComponent(F),C.expires?"; expires="+C.expires.toUTCString():"",C.path?"; path="+C.path:"",C.domain?"; domain="+C.domain:"",C.secure?"; secure":""].join(""))}C=F||{};var B,G=C.raw?function(I){return I}:decodeURIComponent;return(B=new RegExp("(?:^|; )"+encodeURIComponent(E)+"=([^;]*)").exec(document.cookie))?G(B[1]):null}})(jq)}}}();var rlJQuery_json=function(){return{__start__:function(){},__init__:function(){var isFF10=typeof ffx10NativeArrayFix!=="undefined"&&ffx10NativeArrayFix===true;(function(jq){jq.toJSON=function(o){if(!isFF10&&typeof (JSON)=="object"&&JSON.stringify){return JSON.stringify(o)}var type=typeof (o);if(o===null){return"null"}if(type=="undefined"){return undefined}if(type=="number"||type=="boolean"){return o+""}if(type=="string"){return jq.quoteString(o)}if(type=="object"){if(typeof o.toJSON=="function"){return jq.toJSON(o.toJSON())}if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10){month="0"+month}var day=o.getUTCDate();if(day<10){day="0"+day}var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10){hours="0"+hours}var minutes=o.getUTCMinutes();if(minutes<10){minutes="0"+minutes}var seconds=o.getUTCSeconds();if(seconds<10){seconds="0"+seconds}var milli=o.getUTCMilliseconds();if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(jq.isArray(o)){var ret=[];for(var i=0;i<o.length;i++){ret.push(jq.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var pairs=[];for(var k in o){var name;var type=typeof k;if(type=="number"){name='"'+k+'"'}else{if(type=="string"){name=jq.quoteString(k)}else{continue}}if(typeof o[k]=="function"){continue}var val=jq.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(", ")+"}"}};jq.evalJSON=function(src){if(!isFF10&&typeof (JSON)=="object"&&JSON.parse){return JSON.parse(src)}return eval("("+src+")")};jq.secureEvalJSON=function(src){if(src==null||typeof src==="undefined"){return src}if(!isFF10&&typeof (JSON)=="object"&&JSON.parse){return JSON.parse(src)}var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};jq.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(jq)}}}();var rlJQuery_lzString=function(){return{__start__:function(){},__init__:function(){(function(B){var A={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(F){try{if(F==null){return""}var C="";var M,K,I,L,J,H,G;var E=0;F=A.compress(F);while(E<F.length*2){if(E%2==0){M=F.charCodeAt(E/2)>>8;K=F.charCodeAt(E/2)&255;if(E/2+1<F.length){I=F.charCodeAt(E/2+1)>>8}else{I=NaN}}else{M=F.charCodeAt((E-1)/2)&255;if((E+1)/2<F.length){K=F.charCodeAt((E+1)/2)>>8;I=F.charCodeAt((E+1)/2)&255}else{K=I=NaN}}E+=3;L=M>>2;J=((M&3)<<4)|(K>>4);H=((K&15)<<2)|(I>>6);G=I&63;if(isNaN(K)){H=G=64}else{if(isNaN(I)){G=64}}C=C+A._keyStr.charAt(L)+A._keyStr.charAt(J)+A._keyStr.charAt(H)+A._keyStr.charAt(G)}return C}catch(D){console.error("[rlJQuery_lzString] compressToBase64: "+(D&&D.message?D.message:D))}},decompressFromBase64:function(I){try{if(I==null){return""}var C="",G=0,H,P,N,L,O,M,K,J,E=0,F=A._f;I=I.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(E<I.length){O=A._keyStr.indexOf(I.charAt(E++));M=A._keyStr.indexOf(I.charAt(E++));K=A._keyStr.indexOf(I.charAt(E++));J=A._keyStr.indexOf(I.charAt(E++));P=(O<<2)|(M>>4);N=((M&15)<<4)|(K>>2);L=((K&3)<<6)|J;if(G%2==0){H=P<<8;if(K!=64){C+=F(H|N)}if(J!=64){H=L<<8}}else{C=C+F(H|P);if(K!=64){H=N<<8}if(J!=64){C+=F(H|L)}}G+=3}return A.decompress(C)}catch(D){console.error("[rlJQuery_lzString] decompressFromBase64: "+(D&&D.message?D.message:D))}},compressToUTF16:function(E){if(E==null){return""}var D="",F,I,H,C=0,G=A._f;E=A.compress(E);for(F=0;F<E.length;F++){I=E.charCodeAt(F);switch(C++){case 0:D+=G((I>>1)+32);H=(I&1)<<14;break;case 1:D+=G((H+(I>>2))+32);H=(I&3)<<13;break;case 2:D+=G((H+(I>>3))+32);H=(I&7)<<12;break;case 3:D+=G((H+(I>>4))+32);H=(I&15)<<11;break;case 4:D+=G((H+(I>>5))+32);H=(I&31)<<10;break;case 5:D+=G((H+(I>>6))+32);H=(I&63)<<9;break;case 6:D+=G((H+(I>>7))+32);H=(I&127)<<8;break;case 7:D+=G((H+(I>>8))+32);H=(I&255)<<7;break;case 8:D+=G((H+(I>>9))+32);H=(I&511)<<6;break;case 9:D+=G((H+(I>>10))+32);H=(I&1023)<<5;break;case 10:D+=G((H+(I>>11))+32);H=(I&2047)<<4;break;case 11:D+=G((H+(I>>12))+32);H=(I&4095)<<3;break;case 12:D+=G((H+(I>>13))+32);H=(I&8191)<<2;break;case 13:D+=G((H+(I>>14))+32);H=(I&16383)<<1;break;case 14:D+=G((H+(I>>15))+32,(I&32767)+32);C=0;break}}return D+G(H+32)},decompressFromUTF16:function(E){if(E==null){return""}var D="",H,I,C=0,F=0,G=A._f;while(F<E.length){I=E.charCodeAt(F)-32;switch(C++){case 0:H=I<<1;break;case 1:D+=G(H|(I>>14));H=(I&16383)<<2;break;case 2:D+=G(H|(I>>13));H=(I&8191)<<3;break;case 3:D+=G(H|(I>>12));H=(I&4095)<<4;break;case 4:D+=G(H|(I>>11));H=(I&2047)<<5;break;case 5:D+=G(H|(I>>10));H=(I&1023)<<6;break;case 6:D+=G(H|(I>>9));H=(I&511)<<7;break;case 7:D+=G(H|(I>>8));H=(I&255)<<8;break;case 8:D+=G(H|(I>>7));H=(I&127)<<9;break;case 9:D+=G(H|(I>>6));H=(I&63)<<10;break;case 10:D+=G(H|(I>>5));H=(I&31)<<11;break;case 11:D+=G(H|(I>>4));H=(I&15)<<12;break;case 12:D+=G(H|(I>>3));H=(I&7)<<13;break;case 13:D+=G(H|(I>>2));H=(I&3)<<14;break;case 14:D+=G(H|(I>>1));H=(I&1)<<15;break;case 15:D+=G(H|I);C=0;break}F++}return A.decompress(D)},compress:function(G){if(G==null){return""}var I,L,N={},M={},O="",E="",R="",F=2,H=3,D=2,Q="",C=0,J=0,P,K=A._f;for(P=0;P<G.length;P+=1){O=G.charAt(P);if(!Object.prototype.hasOwnProperty.call(N,O)){N[O]=H++;M[O]=true}E=R+O;if(Object.prototype.hasOwnProperty.call(N,E)){R=E}else{if(Object.prototype.hasOwnProperty.call(M,R)){if(R.charCodeAt(0)<256){for(I=0;I<D;I++){C=(C<<1);if(J==15){J=0;Q+=K(C);C=0}else{J++}}L=R.charCodeAt(0);for(I=0;I<8;I++){C=(C<<1)|(L&1);if(J==15){J=0;Q+=K(C);C=0}else{J++}L=L>>1}}else{L=1;for(I=0;I<D;I++){C=(C<<1)|L;if(J==15){J=0;Q+=K(C);C=0}else{J++}L=0}L=R.charCodeAt(0);for(I=0;I<16;I++){C=(C<<1)|(L&1);if(J==15){J=0;Q+=K(C);C=0}else{J++}L=L>>1}}F--;if(F==0){F=Math.pow(2,D);D++}delete M[R]}else{L=N[R];for(I=0;I<D;I++){C=(C<<1)|(L&1);if(J==15){J=0;Q+=K(C);C=0}else{J++}L=L>>1}}F--;if(F==0){F=Math.pow(2,D);D++}N[E]=H++;R=String(O)}}if(R!==""){if(Object.prototype.hasOwnProperty.call(M,R)){if(R.charCodeAt(0)<256){for(I=0;I<D;I++){C=(C<<1);if(J==15){J=0;Q+=K(C);C=0}else{J++}}L=R.charCodeAt(0);for(I=0;I<8;I++){C=(C<<1)|(L&1);if(J==15){J=0;Q+=K(C);C=0}else{J++}L=L>>1}}else{L=1;for(I=0;I<D;I++){C=(C<<1)|L;if(J==15){J=0;Q+=K(C);C=0}else{J++}L=0}L=R.charCodeAt(0);for(I=0;I<16;I++){C=(C<<1)|(L&1);if(J==15){J=0;Q+=K(C);C=0}else{J++}L=L>>1}}F--;if(F==0){F=Math.pow(2,D);D++}delete M[R]}else{L=N[R];for(I=0;I<D;I++){C=(C<<1)|(L&1);if(J==15){J=0;Q+=K(C);C=0}else{J++}L=L>>1}}F--;if(F==0){F=Math.pow(2,D);D++}}L=2;for(I=0;I<D;I++){C=(C<<1)|(L&1);if(J==15){J=0;Q+=K(C);C=0}else{J++}L=L>>1}while(true){C=(C<<1);if(J==15){Q+=K(C);break}else{J++}}return Q},decompress:function(J){if(J==null){return""}if(J==""){return null}var N=[],I,E=4,K=4,H=3,P="",S="",G,O,Q,R,C,D,M,L=A._f,F={string:J,val:J.charCodeAt(0),position:32768,index:1};for(G=0;G<3;G+=1){N[G]=G}Q=0;C=Math.pow(2,2);D=1;while(D!=C){R=F.val&F.position;F.position>>=1;if(F.position==0){F.position=32768;F.val=F.string.charCodeAt(F.index++)}Q|=(R>0?1:0)*D;D<<=1}switch(I=Q){case 0:Q=0;C=Math.pow(2,8);D=1;while(D!=C){R=F.val&F.position;F.position>>=1;if(F.position==0){F.position=32768;F.val=F.string.charCodeAt(F.index++)}Q|=(R>0?1:0)*D;D<<=1}M=L(Q);break;case 1:Q=0;C=Math.pow(2,16);D=1;while(D!=C){R=F.val&F.position;F.position>>=1;if(F.position==0){F.position=32768;F.val=F.string.charCodeAt(F.index++)}Q|=(R>0?1:0)*D;D<<=1}M=L(Q);break;case 2:return""}N[3]=M;O=S=M;while(true){if(F.index>F.string.length){return""}Q=0;C=Math.pow(2,H);D=1;while(D!=C){R=F.val&F.position;F.position>>=1;if(F.position==0){F.position=32768;F.val=F.string.charCodeAt(F.index++)}Q|=(R>0?1:0)*D;D<<=1}switch(M=Q){case 0:Q=0;C=Math.pow(2,8);D=1;while(D!=C){R=F.val&F.position;F.position>>=1;if(F.position==0){F.position=32768;F.val=F.string.charCodeAt(F.index++)}Q|=(R>0?1:0)*D;D<<=1}N[K++]=L(Q);M=K-1;E--;break;case 1:Q=0;C=Math.pow(2,16);D=1;while(D!=C){R=F.val&F.position;F.position>>=1;if(F.position==0){F.position=32768;F.val=F.string.charCodeAt(F.index++)}Q|=(R>0?1:0)*D;D<<=1}N[K++]=L(Q);M=K-1;E--;break;case 2:return S}if(E==0){E=Math.pow(2,H);H++}if(N[M]){P=N[M]}else{if(M===K){P=O+O.charAt(0)}else{return null}}S+=P;N[K++]=O+P.charAt(0);E--;O=P;if(E==0){E=Math.pow(2,H);H++}}}};B.extend({lzCompressToBase64:A.compressToBase64,lzDecompressFromBase64:A.decompressFromBase64})})(jq)}}}();var rlJQuery_mousewheel=function(){return{__start__:function(){},__init__:function(){
/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
       * Licensed under the MIT License (LICENSE.txt).
       *
       * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
       * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
       * Thanks to: Seamus Leahy for adding deltaX and deltaY
       *
       * Version: 3.0.4
       * 
       * Requires: 1.2.2+
       */
(function($){var types=["DOMMouseScroll","mousewheel"];$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;i;){this.addEventListener(types[--i],handler,false)}}else{this.onmousewheel=handler}},teardown:function(){if(this.removeEventListener){for(var i=types.length;i;){this.removeEventListener(types[--i],handler,false)}}else{this.onmousewheel=null}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if(event.wheelDelta){delta=event.wheelDelta/120}if(event.detail){delta=-event.detail/3}deltaY=delta;if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;deltaX=-1*delta}if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120}if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120}args.unshift(event,delta,deltaX,deltaY);return $.event.handle.apply(this,args)}})(jq)}}}();var rlJQuery_queryParams=function(){return{__init__:function(){(function(A){A.extend({getRequestGetParameterValues:function(B){var G={};var D=window.location.href;var F=D.indexOf("#");var C=D.indexOf("?");if(C>-1){var E=D.substring(C+1,F<0?D.length:F);G=A.getSearchpartGetParameterValues(E,B)}return G},getSearchpartGetParameterValues:function(D,B){var F={},E;searchparts=D.split("&");for(var C=0;C<searchparts.length;C++){E=searchparts[C].split("=");if(B){if(!F[E[0]+"[]"]){F[E[0]+"[]"]=[E[1]]}else{F[E[0]+"[]"].push(E[1])}}else{if(!F[E[0]]){F[E[0]]=E[1]}}}return F},objectToSearchpart:function(D){var F=null;for(var C in D){var B=D[C];if(F){F+="&"}else{F=""}if(typeof (B)=="string"&&B.length>0){F+=C;F+="=";F+=B}else{if(String(B.constructor).split(" ")[1].split("()").join("")=="Array"){for(var E=0;E<B.length;E++){if(E>0){F+="&"}F+=C;F+="=";F+=B[E]}}}}return F}})})(jq)},getQueryParam:function(D){var B=location.search.substring(1).split("&");for(var A=0;A<B.length;A++){var C=B[A].split("=");if(C[0]==D){return C[1]||""}}return undefined},removeParameter:function(A,G){var F=A;var D=F.split("?");if(D.length>=2){var E=encodeURIComponent(G)+"=";var C=D[1].split(/[&;]/g);for(var B=C.length;B-->0;){if(C[B].lastIndexOf(E,0)!==-1){C.splice(B,1)}}F=D[0]+"?"+C.join("&")}return F}}}();var rlJQuery_realFirstChild=function(){return{__start__:function(){},__init__:function(){(function(A){A.fn.realFirstChild=function(D){var C=A(this).first();if(!!D){var B=function(F,E){E=(typeof E==="undefined"||isNaN(E))?0:parseInt(E);if(A.trim(F[E].innerText||F[E].textContent).length>0){return A(F[E])}else{return B(F,E+1)}};C=B(this)}return C}})(jq)}}}();var rlJQuery_scrollTo=function(){return{__start__:function(){},__init__:function(){(function(C){var A=C.scrollTo=function(F,E,D){C(window).scrollTo(F,E,D)};A.defaults={axis:"xy",duration:parseFloat(C.fn.jquery)>=1.3?0:1};A.window=function(D){return C(window)._scrollable()};C.fn._scrollable=function(){return this.map(function(){var E=this,D=!E.nodeName||C.inArray(E.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!D){return E}var F=(E.contentWindow||E).document||E.ownerDocument||E;return C.browser.safari||F.compatMode=="BackCompat"?F.body:F.documentElement})};C.fn.scrollTo=function(F,E,D){if(typeof E=="object"){D=E;E=0}if(typeof D=="function"){D={onAfter:D}}if(F=="max"){F=9000000000}D=C.extend({},A.defaults,D);E=E||D.speed||D.duration;D.queue=D.queue&&D.axis.length>1;if(D.queue){E/=2}D.offset=B(D.offset);D.over=B(D.over);return this._scrollable().each(function(){var L=this,J=C(L),K=F,I,G={},M=J.is("html,body");switch(typeof K){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(K)){K=B(K);break}K=C(K,this);case"object":if(K.is||K.style){I=(K=C(K)).offset()}}C.each(D.axis.split(""),function(Q,R){var S=R=="x"?"Left":"Top",U=S.toLowerCase(),P="scroll"+S,O=L[P],N=A.max(L,R);if(I){G[P]=I[U]+(M?0:O-J.offset()[U]);if(D.margin){G[P]-=parseInt(K.css("margin"+S))||0;G[P]-=parseInt(K.css("border"+S+"Width"))||0}G[P]+=D.offset[U]||0;if(D.over[U]){G[P]+=K[R=="x"?"width":"height"]()*D.over[U]}}else{var T=K[U];if(!T){return }else{G[P]=T.slice&&T.slice(-1)=="%"?parseFloat(T)/100*N:T}}if(/^\d+$/.test(G[P])){G[P]=G[P]<=0?0:Math.min(G[P],N)}if(!Q&&D.queue){if(O!=G[P]){H(D.onAfterFirst)}delete G[P]}});H(D.onAfter);function H(N){J.animate(G,E,D.easing,N&&function(){N.call(this,F,D)})}}).end()};A.max=function(J,I){var H=I=="x"?"Width":"Height",E="scroll"+H;if(!C(J).is("html,body")){return J[E]-C(J)[H.toLowerCase()]()}var G="client"+H,F=J.ownerDocument.documentElement,D=J.ownerDocument.body;return Math.max(F[E],D[E])-Math.min(F[G],D[G])};function B(D){return typeof D=="object"?D:{top:D,left:D}}})(jQuery)}}}();var rlLoginservice=function(){var b="[rlLoginservice] ";var Z=GLOBAL_LOGIN_SERVICE;var J=rlPage.getNextCoreSecureUrl();var Y=rlPage.getNextCoreUrl();var H=Y;var T=J;var e=J;var G=undefined;var B=undefined;var C="ERROR";var M="coreServices_error";var Q=T+"/usermgmt-user/services/_{mandatorContext}/login/login";var F=T+"/usermgmt-user/services/_{mandatorContext}/login/acceptPolicyAndLogin";var S=T+"/usermgmt-user/services/_{mandatorContext}/login/revokePolicy";var R=H+"/usermgmt-user/services/_{mandatorContext}/account/resendActivation";var K=H+"/usermgmt-user/services/_{mandatorContext}/account/resendLoginChange";function c(g){var f=rlMandator.replaceCoreUrl(Q);G=g.login.account.login;B=g.login.account.password;rlNxt.call({type:"POST",url:f,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(g.login),useCache:false,success:function(h){V(g,h)},error:function(h){A(g,h)}})}function I(g){var f=rlMandator.replaceCoreUrl(F);var h={cmxUrl:g.cmxUrl,consentedUsages:g.consentedUsages,revokedUsages:g.revokedUsages};rlNxt.call({type:"POST",url:f,dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(h),success:function(i){V(g,i)},error:function(i){A(g,i)}})}function O(g){var f=rlMandator.replaceCoreUrl(S);rlNxt.call({type:"DELETE",url:f,success:function(h){N(g,h)},error:function(h){A(g,h)}})}function V(h,f){try{if(!f){h.onError(f)}else{if(f.status=="OK"){if(f.data.userStatus===rlLoginservice.USER_STATE_C2B_REGISTERED){h.onC2BLoggedIn({firstName:f.data.firstName,lastName:f.data.lastName,c2bUserName:h.login.account.login,c2bPassword:h.login.account.password})}else{if(f.data.policyValid=="false"){h.onPolicyInvalid(f)}else{jq(window).trigger("user_logged_in");if(window.rlCoreServices&&window.rlCoreServices.trackEventAsClick){window.rlCoreServices.trackEventAsClick("mybmwStatus_LogInSuccessful","mybmwStatus")}h.onLoggedIn(f)}}}else{h.onError(f)}}}catch(g){console.trace();h.onError(rlLoginservice.LOGIN_EXCEPTION)}}function A(g,f){g.onError(f)}function N(h,f){try{if(!f){if(typeof h==="object"&&typeof h.onError==="function"){h.onError(f)}}else{if(f.status=="OK"){rlNxt.clearCache([rlNxt.cacheName.loginStatus,rlNxt.cacheName.profileData]);if(typeof h==="object"&&typeof h.onLogout==="function"){h.onLogout()}else{E()}}else{if(typeof h==="object"&&typeof h.onError==="function"){h.onError(f)}}}}catch(g){console.trace();if(typeof h==="object"&&typeof h.onError==="function"){h.onError(rlLoginservice.LOGIN_EXCEPTION)}}}function a(g){var f=rlMandator.replaceCoreUrl(R);rlNxt.call({type:"POST",url:f,data:{u:g.mail},success:function(h){if(typeof g.success==="function"){g.success(h)}},error:function(h){if(typeof g.error==="function"){g.error(h)}}})}function X(g){var f=rlMandator.replaceCoreUrl(K);rlNxt.call({type:"POST",url:f,data:{u:g.mail},success:function(h){if(typeof g.success==="function"){g.success(h)}},error:function(h){if(typeof g.error==="function"){g.error(h)}}})}function d(){return G}function U(){return B}function D(){var f=window.location.href;if(!window.ignorePostLoginURL&&typeof GLOBAL_REDIRECT_AFTER_LOGIN_PATH!=="undefined"){f="https://"+window.location.host+GLOBAL_REDIRECT_AFTER_LOGIN_PATH}if(!L()){f=f.replace("http:","https:")}if(window.location.href===f){window.location.reload()}else{window.location=f}}function E(){if(typeof GLOBAL_REDIRECT_AFTER_LOGOUT_PATH!=="undefined"){window.location=GLOBAL_REDIRECT_AFTER_LOGOUT_PATH}else{window.location.reload()}}function L(){var f=top===self;if(f&&top.location.protocol==="https:"){console.log(b+"Https context");return true}console.log(b+"Http context");return false}function P(){var f=window.location.hash.substring(1);if(typeof f==="undefined"||f===""){console.error("No http Host Defined")}console.log(b+"Http Host: "+f);return f}function W(){rlUserDialog.close()}return{__init__:function(){},__start__:function(){},getUsername:function(){return d()},getPassword:function(){return U()},login:function(f){c(f)},resendActivationMail:function(f){a(f)},resendLoginChangeMail:function(f){X(f)},loginWithPolicyConsent:function(f){I(f)},revokePolicy:function(f){O(f)},isHttps:function(){return L()},pageWillReloadAfterLogin:function(){return true},closeDialog:function(){W()},doDefaultPostLoginBehaviour:function(){D()},doDefaultPostLogoutBehaviour:function(){E()},ERROR_CODE_TOO_MANY_LOGIN_ATTEMPTS:"UM_GCDM_AUTH_DISABLED_TOO_MANY_LOGIN_ATTEMPTS",ERROR_CODE_ACCOUNT_NOT_ACTIVATED:"UM_GCDM_AUTH_ACCOUNT_NOT_ACTIVATED",ERROR_CODE_LOGINNAME_CHANGE_NOT_COMPLETED:"UM_GCDM_AUTH_LOGINNAME_CHANGE_NOT_COMPLETED",ERROR_CODE_NOT_AUTHENTICATED:"UM_GCDM_AUTH_NOT_AUTHENTICATED",ERROR_CODE_PASSWORD_EXPIRE:"UM_GCDM_AUTH_PASSWORD_EXPIRED",ERROR_CODE_GENERAL_ERROR:"UM_GCDM_AUTH_GENERAL_ERROR",ERROR_CODE_NO_EMAIL_ERROR:"UM_9000",GCDM_AUTH_NOT_AUTHENTICATED:"UM_GCDM_AUTH_NOT_AUTHENTICATED",GCDM_AUTH_ACCOUNT_NOT_ACTIVATED:"UM_GCDM_AUTH_ACCOUNT_NOT_ACTIVATED",GCDM_AUTH_ADMIN_LOCKED:"UM_GCDM_AUTH_ADMIN_LOCKED",GCDM_1014_101:"UM_GCDM_1014-101",GCDM_1014_102:"UM_GCDM_1014-102",GCDM_AUTH_PASSWORD_EXPIRED:"UM_GCDM_AUTH_PASSWORD_EXPIRED",LOGIN_EXCEPTION:"LOGIN_EXCEPTION",USER_STATE_C2B_REGISTERED:"NOT_REGISTERED"}}();var rlMd5=function(){return{__init__:function(){},makeHash:function(R){function j(G,F){return(G<<F)|(G>>>(32-F))}function i(a,G){var c,F,I,b,H;I=(a&2147483648);b=(G&2147483648);c=(a&1073741824);F=(G&1073741824);H=(a&1073741823)+(G&1073741823);if(c&F){return(H^2147483648^I^b)}if(c|F){if(H&1073741824){return(H^3221225472^I^b)}else{return(H^1073741824^I^b)}}else{return(H^I^b)}}function Q(F,H,G){return(F&H)|((~F)&G)}function P(F,H,G){return(F&G)|(H&(~G))}function O(F,H,G){return(F^H^G)}function M(F,H,G){return(H^(F|(~G)))}function T(H,G,AA,z,F,I,k){H=i(H,i(i(Q(G,AA,z),F),k));return i(j(H,I),G)}function B(H,G,AA,z,F,I,k){H=i(H,i(i(P(G,AA,z),F),k));return i(j(H,I),G)}function f(H,G,AA,z,F,I,k){H=i(H,i(i(O(G,AA,z),F),k));return i(j(H,I),G)}function S(H,G,AA,z,F,I,k){H=i(H,i(i(M(G,AA,z),F),k));return i(j(H,I),G)}function A(a){var d;var I=a.length;var H=I+8;var G=(H-(H%64))/64;var c=(G+1)*16;var k=Array(c-1);var F=0;var b=0;while(b<I){d=(b-(b%4))/4;F=(b%4)*8;k[d]=(k[d]|(a.charCodeAt(b)<<F));b++}d=(b-(b%4))/4;F=(b%4)*8;k[d]=k[d]|(128<<F);k[c-2]=I<<3;k[c-1]=I>>>29;return k}function Z(H){var G="",I="",a,F;for(F=0;F<=3;F++){a=(H>>>(F*8))&255;I="0"+a.toString(16);G=G+I.substr(I.length-2,2)}return G}function h(G){G=G.replace(/\r\n/g,"\n");var F="";for(var I=0;I<G.length;I++){var H=G.charCodeAt(I);if(H<128){F+=String.fromCharCode(H)}else{if((H>127)&&(H<2048)){F+=String.fromCharCode((H>>6)|192);F+=String.fromCharCode((H&63)|128)}else{F+=String.fromCharCode((H>>12)|224);F+=String.fromCharCode(((H>>6)&63)|128);F+=String.fromCharCode((H&63)|128)}}}return F}var e=Array();var o,D,g,U,C,y,w,v,u;var r=7,p=12,m=17,l=22;var Y=5,X=9,W=14,V=20;var N=4,L=11,K=16,J=23;var t=6,s=10,q=15,n=21;R=h(R);e=A(R);y=1732584193;w=4023233417;v=2562383102;u=271733878;for(o=0;o<e.length;o+=16){D=y;g=w;U=v;C=u;y=T(y,w,v,u,e[o+0],r,3614090360);u=T(u,y,w,v,e[o+1],p,3905402710);v=T(v,u,y,w,e[o+2],m,606105819);w=T(w,v,u,y,e[o+3],l,3250441966);y=T(y,w,v,u,e[o+4],r,4118548399);u=T(u,y,w,v,e[o+5],p,1200080426);v=T(v,u,y,w,e[o+6],m,2821735955);w=T(w,v,u,y,e[o+7],l,4249261313);y=T(y,w,v,u,e[o+8],r,1770035416);u=T(u,y,w,v,e[o+9],p,2336552879);v=T(v,u,y,w,e[o+10],m,4294925233);w=T(w,v,u,y,e[o+11],l,2304563134);y=T(y,w,v,u,e[o+12],r,1804603682);u=T(u,y,w,v,e[o+13],p,4254626195);v=T(v,u,y,w,e[o+14],m,2792965006);w=T(w,v,u,y,e[o+15],l,1236535329);y=B(y,w,v,u,e[o+1],Y,4129170786);u=B(u,y,w,v,e[o+6],X,3225465664);v=B(v,u,y,w,e[o+11],W,643717713);w=B(w,v,u,y,e[o+0],V,3921069994);y=B(y,w,v,u,e[o+5],Y,3593408605);u=B(u,y,w,v,e[o+10],X,38016083);v=B(v,u,y,w,e[o+15],W,3634488961);w=B(w,v,u,y,e[o+4],V,3889429448);y=B(y,w,v,u,e[o+9],Y,568446438);u=B(u,y,w,v,e[o+14],X,3275163606);v=B(v,u,y,w,e[o+3],W,4107603335);w=B(w,v,u,y,e[o+8],V,1163531501);y=B(y,w,v,u,e[o+13],Y,2850285829);u=B(u,y,w,v,e[o+2],X,4243563512);v=B(v,u,y,w,e[o+7],W,1735328473);w=B(w,v,u,y,e[o+12],V,2368359562);y=f(y,w,v,u,e[o+5],N,4294588738);u=f(u,y,w,v,e[o+8],L,2272392833);v=f(v,u,y,w,e[o+11],K,1839030562);w=f(w,v,u,y,e[o+14],J,4259657740);y=f(y,w,v,u,e[o+1],N,2763975236);u=f(u,y,w,v,e[o+4],L,1272893353);v=f(v,u,y,w,e[o+7],K,4139469664);w=f(w,v,u,y,e[o+10],J,3200236656);y=f(y,w,v,u,e[o+13],N,681279174);u=f(u,y,w,v,e[o+0],L,3936430074);v=f(v,u,y,w,e[o+3],K,3572445317);w=f(w,v,u,y,e[o+6],J,76029189);y=f(y,w,v,u,e[o+9],N,3654602809);u=f(u,y,w,v,e[o+12],L,3873151461);v=f(v,u,y,w,e[o+15],K,530742520);w=f(w,v,u,y,e[o+2],J,3299628645);y=S(y,w,v,u,e[o+0],t,4096336452);u=S(u,y,w,v,e[o+7],s,1126891415);v=S(v,u,y,w,e[o+14],q,2878612391);w=S(w,v,u,y,e[o+5],n,4237533241);y=S(y,w,v,u,e[o+12],t,1700485571);u=S(u,y,w,v,e[o+3],s,2399980690);v=S(v,u,y,w,e[o+10],q,4293915773);w=S(w,v,u,y,e[o+1],n,2240044497);y=S(y,w,v,u,e[o+8],t,1873313359);u=S(u,y,w,v,e[o+15],s,4264355552);v=S(v,u,y,w,e[o+6],q,2734768916);w=S(w,v,u,y,e[o+13],n,1309151649);y=S(y,w,v,u,e[o+4],t,4149444226);u=S(u,y,w,v,e[o+11],s,3174756917);v=S(v,u,y,w,e[o+2],q,718787259);w=S(w,v,u,y,e[o+9],n,3951481745);y=i(y,D);w=i(w,g);v=i(v,U);u=i(u,C)}var E=Z(y)+Z(w)+Z(v)+Z(u);return E.toLowerCase()}}}();rlNccServices=function(){var P=GLOBAL_MAX_GARAGE_ENTRIES;var At="/vc/ncc/xhtml/start/startWithConfigId.faces?configId=_{configId}";var Ah="/vc/ncc/xhtml/start/showReadOnlySummary.faces?configId=_{configId}&productType=1&brand=_{brand}&market=_{market}&country=_{country}&locale=_{locale}";var H="/vc/ncc/xhtml/start/showMyBMWGarageSummary.faces?configUrl=_{configUrl}&productType=1&brand=_{brand}&market=_{market}&country=_{country}&locale=_{locale}";var C="/vc/ncc/xhtml/start/showReadOnlySummary.faces?configUrl=_{configUrl}&productType=1&brand=_{brand}&market=_{market}&country=_{country}&locale=_{locale}&includeFinanceSummary=_{includeFinanceSummary}";var AO="/vc/api/v1/me/listGarage/_{mandatorContext}/count",As="/vc/api/v1/me/listGarage/_{mandatorContext}",Q="/vc/api/v1/me/primaryConfig/_{mandatorContext}",K="/vc/api/v1/me/setBestConfig/_{mandatorContext}/",h="/vc/api/v1/me/modifyGarageEntry/_{mandatorContext}/",Ao="/vc/api/v1/me/garageEntryDealerFlag/_{mandatorContext}/set/_{configId}",AL="/vc/api/v1/me/garageEntryDealerFlag/_{mandatorContext}/reset/_{configId}",Ak="/vc/api/v1/me/configSummary/_{mandatorContext}/",M="/vc/api/v1/pub/configSummary/_{mandatorContext}/",AW="/vc/api/v1/me/deleteGarageEntry/_{mandatorContext}/",d="/vc/api/v1/me/currentConfig/_{mandatorContext}",AP="/vehicledata/api/v1/pub/vehicleModel/_{mandatorContext}/model/vgCode/";var AX=new RegExp("^[0-9a-zA-Z]{8}[0-9xX]{1}[0-9a-zA-Z]{8}$"),N=new RegExp("^[0-9a-zA-Z]{7}$"),AM="CONFIG_LIST_SHORT_LOADED",E="CONFIG_LIST_SHORT_ADDED";var AI="/vc/api/v1/me/preOwnedVehicle/_{mandatorContext}",u=AI+"/count",a=AI,Ai=AI+"/_{vid}",AA=AI,o=AI+"/_{vid}",Aq=AI+"/delete/_{vid}",AE="/vehicledata/api/v1/pub/readPermittedValues/_{mandatorContext}?categories=VD1_VD2_VD3",F="/vc/api/v1/me/setBestVehicle/_{mandatorContext}/_{vid}";var Ae="/vehicledata/api/v1/pub/vehicleModel/_{mandatorContext}",Au=Ae+"/brands",x=Ae+"/series?brand=_{current_vehicle_brand}",j=Ae+"/models?brand=_{current_vehicle_brand}&series=_{series}",AJ=Ae+"/model/vin/_{vin}";var S="/vehicledata/api/v1/pub/validatePreOwnedVehicle/_{mandatorContext}",q="vin=_{vin}&twoTier=_{twoTier}",z=q+"&brand=_{vehicle_brand}",I=z+"&series=_{vehicle_series}",AQ=I+"&model=_{vehicle_model}";var t="/vehicledata/api/v1/pub/vehicleModel/_{mandatorContext}/modelList/vin/_{vin}";var Y="modDate",B="bodyType",R="model";var AU="EVENT_CONFIG_USERNOTE_CHANGED",r="EVENT_CONFIG_SHARED",Aj="EVENT_CONFIG_UNSHARED",y="EVENT_CONFIG_SETASPRIMARY",AZ="EVENT_CONFIG_WASDELETED",O="EVENT_CONFIG_WASCREATED",AT="EVENT_POV_SETASPRIMARY",T="EVENT_POV_WASCREATED",Ac="EVENT_POV_WASDELETED";function An(Av){return At.replace("_{configId}",Av)}function V(Ay,Av,Aw){var Ax=rlMandator.replaceCoreUrl(H).replace("_{configUrl}",Ay);rlNxt.call({type:"GET",url:Ax,success:function(Az){if(typeof Av=="function"){Av(Az)}},error:function(Az){if(typeof Aw=="function"){Aw(Az)}},dataType:"html"})}function AD(Az,Ay,Av,Aw){var Ax=rlMandator.replaceCoreUrl((Ay==="RFX")?Ah:H).replace("_{configId}",Az);rlNxt.call({type:"GET",url:Ax,success:function(A0){if(typeof Av=="function"){Av(A0)}},error:function(A0){if(typeof Aw=="function"){Aw(A0)}},dataType:"html"})}function W(Ay,Az,Av,Aw){var A0=(typeof Az!=="boolean")?true:Az;var Ax=rlMandator.replaceCoreUrl(C).replace("_{configUrl}",Ay).replace("_{includeFinanceSummary}",A0);rlNxt.call({type:"GET",url:Ax,success:function(A1){if(typeof Av=="function"){Av(A1)}},error:function(A1){if(typeof Aw=="function"){Aw(A1)}},dataType:"html"})}function AF(Av){return i(Av)||X(Av)}function X(Av){return AX.exec(Av)}function i(Av){return N.exec(Av)}function f(Aw){var Av=((Aw.brand&&Aw.series&&Aw.model)?AQ:q).replace(/_\{vehicle_model}/,Aw.model||"").replace(/_\{vehicle_series}/,Aw.series||"").replace(/_\{vehicle_brand}/,Aw.brand||"").replace(/_\{twoTier}/,Aw.twoTier||"false").replace(/_\{vin}/,Aw.vin||"");AS({url:rlMandator.replaceCoreUrl(S),httpMethod:"POST",contentType:"application/x-www-form-urlencoded",data:Av,buildArgumentForSuccessCallback:function(Ax){return Ax.content},success:Aw.success,fail:Aw.fail,error:Aw.error})}function U(Av){if(Av.vin){AS({url:rlMandator.replaceCoreUrl(t).replace(/_\{vin}/,Av.vin||""),httpMethod:"GET",buildArgumentForSuccessCallback:function(Aw){return Aw.content.models},success:Av.success,fail:Av.fail,error:Av.error})}}function J(Av){if(Av.content.configurations===undefined){Av.content.configurations=[]}else{if(!jq.isArray(Av.content.configurations)){Av.content.configurations=new Array(Av.content.configurations)}}return Av}function AC(Av){AS({url:rlMandator.replaceCoreUrl(AJ).replace("_{vin}",Av.vin),buildArgumentForSuccessCallback:function(Aw){return{vin:Av.vin,brand:Aw.content.series.brand.code,brandText:Aw.content.series.brand.name,series:Aw.content.series.code,seriesText:Aw.content.series.name,model:Aw.content.code,modelText:Aw.content.name}},success:Av.success,fail:Av.fail,error:Av.error})}function AB(Av){rlNxt.call({type:"GET",url:rlMandator.replaceCoreUrl(As),success:function(Ax){if(A(Ax)){var Aw=J(Ax).content.configurations;if(typeof Av.sort!=="undefined"){Aw=c(Aw,Av.sort)}else{var Ay=rlCookieController.getCookie({cookieKey:"configsSortBy"});if(Ay!==null){Aw=c(Aw,Ay)}}Av.success(Aw)}else{Av.error(Ax)}},error:Av.error,dataType:"json"})}function c(Aw,Ay){var Ax=[];if(isDefined(Aw)&&Aw!=null){Ax=Aw.slice()}Ax.sort(function(A0,Az){return Z(A0,Az,Ay)});var Av={cookieKey:"configsSortBy",cookieValue:Ay,callback:function(Az){if(Az){console.log("Cookie for nccServices - SortBy can not be stored: "+Az)}}};rlCookieController.setCookie(Av);return Ax}function Z(Ax,Av,A5){var A1;var A0;var Az=["LI","TO","CA","CP","ST","SH,HC","RO","GF,X1,X3,X5","SC,X6"];var A3=function(A6){for(var A7=0;A7<Az.length;A7++){if(Az[A7].indexOf(A6)>=0){return A7+A6}}return A6};if(A5===Y){var A4=Ax.lastChange;if(A4!=null){var Ay=A4.match(/(\d+)/g);A0=new Date(Ay[0],Ay[1]-1,Ay[2],Ay[3],Ay[4],Ay[5])}var A2=Av.lastChange;if(A2!=null){var Aw=A2.match(/(\d+)/g);A1=new Date(Aw[0],Aw[1]-1,Aw[2],Aw[3],Aw[4],Aw[5])}}else{if(A5===B){A1=A3(Ax.model.bodyType)+"_"+Ax.model.series+"_"+Ax.lastChange;A0=A3(Av.model.bodyType)+"_"+Av.model.series+"_"+Av.lastChange}else{A1=Ax.series+"_"+Ax.model.name+"_"+Ax.lastChange;A0=Av.series+"_"+Av.model.name+"_"+Av.lastChange}}return(A1<A0)?-1:(A1>A0)?1:0}function A(Av){if(Av===undefined||Av.status===undefined||Av.status.responseStatus!="OK"){return false}return true}function w(Av){rlNxt.call({type:"POST",url:rlMandator.replaceCoreUrl(AW)+Av.configId,success:function(Aw){jq(window).trigger(AZ,{configId:Av.configId});if(typeof Av.success==="function"){Av.success(Aw)}},error:Av.error,dataType:"json"})}function s(Av){rlNxt.call({url:rlMandator.replaceCoreUrl(d),type:"POST",data:Av.data,success:function(Aw){jq(window).trigger(O,Aw);Av.success(Aw)},error:Av.error,dataType:"json"})}function Af(Av){rlNxt.call({type:"GET",url:Av.isPub?(rlMandator.replaceCoreUrl(M)+Av.configId):(rlMandator.replaceCoreUrl(Ak)+Av.configId),success:Av.success,error:Av.error,dataType:"json"})}function Ar(Av){rlNxt.call({type:"GET",url:rlMandator.replaceCoreUrl(Q),success:Av.success,error:Av.error,dataType:"json"})}function m(Av){AS({url:rlMandator.replaceCoreUrl(AO),buildArgumentForSuccessCallback:function(Aw){return parseInt(Aw.content.$)},success:Av.success,fail:Av.fail,error:Av.error})}function p(Av){rlNxt.call({url:rlMandator.replaceCoreUrl(h)+Av.configId,type:"POST",dataType:"json",data:{note:Av.userNote},success:function(Aw){if(Aw.status&&Aw.status.responseStatus==="OK"){jq(window).trigger(AU,{configId:Av.configId,userNote:Av.userNote})}if(typeof Av.success==="function"){Av.success(Aw)}},error:Av.error})}function Ap(Av){rlNxt.call({url:rlMandator.replaceCoreUrl(Av.doShare?Ao:AL).replace("_{configId}",Av.configId),type:"POST",contentType:"application/x-www-form-urlencoded",success:function(Aw){if(Aw.status&&Aw.status.responseStatus==="OK"){jq(window).trigger(Av.doShare?r:Aj,{configId:Av.configId})}if(typeof Av.success==="function"){Av.success(Aw)}},error:Av.error})}function D(Av){rlNxt.call({url:rlMandator.replaceCoreUrl(K)+Av.configId,dataType:"json",type:"POST",success:function(Aw){jq(window).trigger(y,{configId:Av.configId});if(typeof Av.success==="function"){Av.success(Aw)}}})}function e(Av){AS({url:rlMandator.replaceCoreUrl(Au),cacheKey:"modelTreeBrands",buildArgumentForSuccessCallback:function(Aw){return Aw.content.brands},callbacks:Av})}function G(Av){AS({url:rlMandator.replaceCoreUrl(x).replace("_{current_vehicle_brand}",Av.brandKey),cacheKey:"modelTreeSeries_"+Av.brandKey,buildArgumentForSuccessCallback:function(Aw){if(!(Aw.content.series instanceof Array)){Aw.content.series=[Aw.content.series]}return Aw.content.series},callbacks:Av})}function Am(Av){var Aw=rlMandator.replaceCoreUrl(j).replace("_{current_vehicle_brand}",Av.brandKey).replace("_{series}",Av.seriesKey);var Ax="modelTreeModels_"+Av.brandKey+"_"+Av.seriesKey;if(typeof Av.filterByModelYear!=="undefined"){Aw+="&modelYear="+Av.filterByModelYear;Ax+="_"+Av.filterByModelYear}AS({url:Aw,cacheKey:Ax,buildArgumentForSuccessCallback:function(Ay){var A0=Ay.content.models||[];if(!(A0 instanceof Array)){A0=[A0]}var Az=Ay.content.modelYears||[];if(!(Az instanceof Array)){Az=[Az]}return{models:A0,modelYears:Az}},callbacks:Av})}function Al(Av){rlNxt.call({url:rlMandator.replaceCoreUrl(GLOBAL_NCC_FRAME_PAGE.replace(".html",".contextsensitivesalesbar.html")),type:"GET",dataType:"json",cacheKey:"modelCodeMetaData",success:Av.success,error:Av.error})}function n(Aw){var Av=function(Ax){var Ay=[];for(var Az=0;Az<Ax.length;Az++){Ay.push({code:Ax[Az].code,name:Ax[Az].description})}return Ay};AS({url:rlMandator.replaceCoreUrl(AE),cacheKey:"PovFields",validateResponseData:function(Ay){if(typeof Ay.content.vehicleProperties==="undefined"){return false}for(var Ax=0;Ax<Ay.content.vehicleProperties.length;Ax++){if(typeof Ay.content.vehicleProperties[Ax].permittedValues==="undefined"){return false}}return true},buildArgumentForSuccessCallback:function(A0){var Ax=A0.content.vehicleProperties;var Ay={};for(var Az=0;Az<Ax.length;Az++){if(Ax[Az].category==="VD1"){Ay.annualUseOptions=Av(Ax[Az].permittedValues)}else{if(Ax[Az].category==="VD2"){Ay.usageOptions=Av(Ax[Az].permittedValues)}else{if(Ax[Az].category==="VD3"){Ay.vehicleTypeOptions=Av(Ax[Az].permittedValues)}}}}return Ay},callbacks:Aw})}function L(Av){AS({url:rlMandator.replaceCoreUrl(AA),validateResponseData:function(Aw){return(typeof Aw.content!=="undefined")},buildArgumentForSuccessCallback:function(Aw){if(typeof Aw.content.vehicles==="undefined"){Aw.content.vehicles=[]}return Aw.content.vehicles},callbacks:Av})}function AR(Av){AS({url:rlMandator.replaceCoreUrl(AA),validateResponseData:function(Aw){return(typeof Aw.content!=="undefined")},buildArgumentForSuccessCallback:function(Aw){var Ax=[];if(typeof Aw.content.vehicles==="undefined"){return Ax}Aa(Aw.content.vehicles);jq.each(Aw.content.vehicles,function(Ay,Az){if(Az.brand.indexOf("BM")==0){Ax.push(Az)}});return Ax},callbacks:Av})}function Ad(Av){AS({url:rlMandator.replaceCoreUrl(Ai).replace(/_\{vid}/g,Av.vehicleId),validateResponseData:function(Aw){return(typeof Aw.content!=="undefined")},buildArgumentForSuccessCallback:function(Aw){b(Aw.content);return Aw.content},callbacks:Av})}function AN(Av){AS({url:rlMandator.replaceCoreUrl(u),buildArgumentForSuccessCallback:function(Aw){return Aw.content},callbacks:Av})}function Ab(Av){AS({url:rlMandator.replaceCoreUrl(a),httpMethod:"POST",contentType:"application/x-www-form-urlencoded",data:Av.vehicle,buildArgumentForSuccessCallback:function(Aw){return Aw.content},callbacks:Av,success:function(Aw){Av.success(Aw);jq(window).trigger(T,[Aw])}})}function v(Av){AS({url:AV(o,Av.vehicle.vehicleId),httpMethod:"POST",contentType:"application/x-www-form-urlencoded",data:Av.vehicle,buildArgumentForSuccessCallback:function(Aw){b(Aw.content);return Aw.content},callbacks:Av})}function AY(Av){AS({url:AV(Aq,Av.vehicleId),httpMethod:"POST",buildArgumentForSuccessCallback:function(){return Av.vehicleId},callbacks:Av,success:function(Aw){Av.success(Aw);jq(window).trigger(Ac,[Av.vehicleId])}})}function g(Av){rlNxt.call({url:AV(F,Av.vehicleId),dataType:"json",type:"POST",success:function(Aw){jq(window).trigger(AT,[Av.vehicleId]);if(typeof Av.success==="function"){Av.success(Aw)}}})}function AG(Av){rlNccServices.createPreOwnedVehicle(Av);if(Av.checkboxStatus){rlNccServices.deleteConfig(Av)}}function AV(Ax,Av){var Aw=rlMandator.replaceCoreUrl(Ax);if(Av){Aw=Aw.replace("_{vid}",Av)}return Aw}function AS(Az){if(Az.callbacks){if(!Az.success){Az.success=Az.callbacks.success}if(!Az.fail){Az.fail=Az.callbacks.fail}if(!Az.error){Az.error=Az.callbacks.error}}var Aw=Az.success||function(){};var Ax=Az.fail||function(){};var Ay=Az.error||function(){};var Av=Az.validateResponseData||function(){return true};rlNxt.call({url:Az.url,type:Az.httpMethod||"GET",dataType:"json",contentType:Az.contentType||null,data:Az.data||null,cacheKey:Az.cacheKey,success:function(A0){if(A0&&A0.status){if(A0.status.responseStatus==="OK"){if(Av(A0)){if(typeof Az.buildArgumentForSuccessCallback==="function"){try{A0=Az.buildArgumentForSuccessCallback(A0)}catch(A1){Ay(A1);return }}Aw(A0)}else{Ay("Server response did not pass content-specific validation rules.")}}else{if(A0.status.responseStatus==="NOK"){Ay("Server response missing 'data.status' entry.")}else{if(A0.status.responseStatus==="INVALID_DATA"){Ax(AH(A0))}else{Ay("Server response missing 'data.status' entry.")}}}}else{Ay("Server response was empty")}},error:function(A0,A2,A1){Ay(A1)}})}function k(Aw){var Av=rlMandator.replaceCoreUrl(AP);rlNxt.call({type:"GET",url:Av+Aw.modelCode,dataType:"json",contentType:"application/json; charset=utf-8",success:function(Ax){if(Aw.success){Aw.success(Ax.content)}},error:function(){if(Aw.error){Aw.error()}}})}function Ag(Av){return(Av.indexOf("//")==0)?Av:GLOBAL_IRIS_URL+"?"+Av}function l(Av){return{detailMessage:Av,errorCodeId:null,errorMessage:Av,errorTypeId:null}}function AH(Ax){var Az=[];if(typeof Ax.status!=="undefined"){if(typeof Ax.status.message!=="undefined"){Az.push(l(Ax.status.message))}if(typeof Ax.status.errorCode!=="undefined"){var Aw;if(Ax.status.errorCode==="102-015"){Aw="vin"}else{if(Ax.status.errorCode==="102-020"){Aw="vin"}}if(typeof Aw!=="undefined"){Az.push({detailMessage:Ax.status.message,errorCodeId:Ax.status.errorCode,errorMessage:Ax.status.message,errorTypeId:null,errorFieldKey:Aw});if(Ax.status.message){delete Ax.status.message}if(Ax.status.errorCode){delete Ax.status.errorCode}if(Ax.status.message){delete Ax.status.message}}}}if(typeof Ax.content!=="undefined"){if(typeof Ax.content.message!=="undefined"){if(!jq.isArray(Ax.content.message)){Ax.content.message=[Ax.content.message]}for(var A0=0;A0<Ax.content.message.length;A0++){var Av=Ax.content.message[A0];if(jq.isArray(Av.names)){for(var Ay=0;Ay<Av.names.length;Ay++){Az.push({detailMessage:Av.text,errorFieldKey:Av.names[Ay],errorCodeId:Av.errorCode,errorMessage:Av.text,errorTypeId:Av.type})}}else{Az.push({detailMessage:Av.text,errorFieldKey:null,errorCodeId:Av.errorCode,errorMessage:Av.text,errorTypeId:Av.type})}}}}return Az}function AK(Av){var Aw=Av;if(Aw){var Ax=rlTime.convertUTCDateToLocal(Av);if(Ax){Aw=Ax.year+"-"+Ax.month+"-"+Ax.day+"T"+Ax.timeView}}return Aw}function Aa(Aw){if(Aw){for(var Av=0;Av<Aw.length;Av++){Aw[Av].initialRegistration=AK(Aw[Av].initialRegistration)}}}function b(Av){Av.initialRegistration=AK(Av.initialRegistration)}return{SORT_BY_MODIFICATION_DATE:Y,SORT_BY_BODY_TYPE:B,SORT_BY_MODEL:R,EVENT_CONFIG_USERNOTE_CHANGED:AU,EVENT_CONFIG_SETASPRIMARY:y,EVENT_CONFIG_SHARED:r,EVENT_CONFIG_UNSHARED:Aj,EVENT_CONFIG_WASDELETED:AZ,EVENT_CONFIG_WASCREATED:O,EVENT_POV_SETASPRIMARY:AT,EVENT_POV_WASCREATED:T,EVENT_POV_WASDELETED:Ac,__init__:function(){},__start__:function(){if(rlPage.isUseMock()){rlNccServicesMock.initMock()}},getNccEntryUrlForConfig:function(Av){return An(Av)},getNccSummaryForConfig:function(Ay,Ax,Av,Aw){return AD(Ay,Ax,Av,Aw)},getNccSummaryForConfigUrl:function(Ay,Ax,Av,Aw){return W(Ay,Ax,Av,Aw)},getNccMyBmwGarageSummaryForConfigByURL:function(Ax,Av,Aw){return V(Ax,Av,Aw)},checkVIN:function(Av){return AF(Av)},checkLongVIN:function(Av){return X(Av)},checkShortVIN:function(Av){return i(Av)},validateVIN:function(Av){return f(Av)},listVGModelsByVIN:function(Av){U(Av)},resolveVIN:function(Av){AC(Av)},getConfigCount:function(Av){m(Av)},getShortConfigList:function(Av){return AB(Av)},getMaxNumberOfConfigs:function(){return P},getConfig:function(Av){Af(Av)},renameConfig:function(Av){p(Av)},shareConfig:function(Av){Ap(Av)},loadPrimary:function(Av){Ar(Av)},setPrimaryConfig:function(Av){D(Av)},deleteConfig:function(Av){w(Av)},isSubBrandBMW:function(Av){return !rlNccServices.isSubBrandBMWi(Av)},isSubBrandBMWi:function(Ax){if(!Ax){return false}var Aw=!!(Ax.modelSection&&Ax.modelSection.brand);var Ay=!!(Ax.model&&Ax.model.brand);var Av=!!(Ax.vehicleMake);var Az="BI";if(Aw){return Ax.modelSection.brand.value===Az}else{if(Ay){return Ax.model.brand===Az}else{if(Av){return Ax.vehicleMake===Az}else{return false}}}},saveCurrentConfig:function(Av){s(Av)},sortConfigs:function(Aw,Av){return c(Aw,Av)},compareConfigs:function(Aw,Av,Ax){return Z(Aw,Av,Ax)},getVehicleModel:function(Av){return k(Av)},getCosyUrl:function(Av){return Ag(Av)},modelTreeCheckIsBrandKeyBMW:function(Av){return Av==="BMW"},modelTreeBrandKeyBMW:function(){return"BMW"},modelTreeListBrands:function(Av){e(Av)},modelTreeListSeries:function(Av){G(Av)},modelTreeListModels:function(Av){Am(Av)},loadModelCodeMetaData:function(Av){Al(Av)},listPreOwnedVehicleEnumerations:function(Av){n(Av)},listPreOwnedVehicleSummaries:function(Av){L(Av)},listPreOwnedBMWVehicleSummaries:function(Av){AR(Av)},getPreOwnedVehicleCount:function(Av){AN(Av)},createPreOwnedVehicle:function(Av){Ab(Av)},updatePreOwnedVehicle:function(Av){v(Av)},deletePreOwnedVehicle:function(Av){AY(Av)},loadPreOwnedVehicle:function(Av){Ad(Av)},setPrimaryPreOwnedVehicle:function(Av){g(Av)},buyConfig:function(Av){AG(Av)}}}();var rlNccServicesMock=function(){function B(L){L.success(8)}function A(L){L.success(6)}function J(L){L.success([{configId:"1288165",configUrl:"DE.i3.mybmw.bmw-int.com/e9u4a7a3",lastChange:"2013-01-08T08:34:31.000Z",note:"Bitte einen Text eintragen 08.01.2013 09:34",primary:"true",connectedDrive:"false",connectedDrivePossible:"false",model:{bodyType:"HC",code:"1P11",modelRange:"F21",name:"BMW 114i 3-Türer",series:"1"},multipleImageUrl:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0Y1XyXqPJ1NiEWNRITWUi58LYU4GZIMuscCRp%25QmSnM9qNhay3d",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0Y1XyXqPJ1NiEWNRITWUi58LYU4GZIMuscCRp%25QmSnM9qNhay3d",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPOeEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPGeeqhk7fxDMLoACoHAhJHFlMILou%25KXwrJHSfWQfrB%25V1Pa1TkfNEbn%25d010s9Oa0JE4riIrp3scZwBZhHrxRteRg%25Z857M7KkRUQunKeNWJeim5JfNw%25arfh19m3OPoxiEAGZI63VQedpRgvrxRL6WyzDu"},valid:"true"},{configId:"1288169",configUrl:"DE.i3.mybmw.bmw-int.com/q0p7j6f9",lastChange:"2013-01-08T08:49:43.000Z",note:"Bitte einen Text eintragen 08.01.2013 09:49",primary:"false",connectedDrive:"false",connectedDrivePossible:"false",model:{bodyType:"LI",code:"GZ01",modelRange:"F10",name:"BMW X1",series:"X"},multipleImageUrl:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiM%25GEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hpyMLoACeOqhJHFlH4pou%25KXwujHSfWQfEB%25V1PaP3ZfNEbnbdX10s9OloJE4riIrMoscZwBZ4krxRteR5KZ857M5g7RUgChZWG5GvloqkUgp2XH2Lsv6jQ%25o6x2YDafaiPjmqn1qYfDyLOELm0qTMxot1G7c1QALc5GaRhj5sgXAWHCrmQvi3D%25zWUM1PdqJujmq4z7FbNx"},valid:"true"},{configId:"1288169",configUrl:"DE.i3.mybmw.bmw-int.com/q0p7j6f9",lastChange:"2013-01-08T08:49:43.000Z",note:"Bitte einen Text eintragen 08.01.2013 09:49",primary:"false",connectedDrive:"false",connectedDrivePossible:"false",model:{bodyType:"LI",code:"GZ01",modelRange:"F10",name:"BMW X5",series:"X"},multipleImageUrl:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiwULEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztMhzeqhk7bIUMLoAC96hhJHFl7m3ou%25KX%25mdHSfWQtDU%25V1Pa0MffNEbnEBM10s9OlgNE4riIXvSscZwBOcSrxRteRjVZ857M7KIRUgChZWG5GvloqkUgp2XH23Kv6jQ%25jJr2YDafvYZjmqn125YDyLOEjgKqTJIsDfWL3uBr%252vJdSeZS36uzVMRMX7SkNh5NzUVAf6EQRyapRBbNpDyej1uDgqIbwsnvzBLlFSrWwmfRtKV04uzVGWa9786"},valid:"true"},{configId:"1288170",configUrl:"DE.i3.mybmw.bmw-int.com/q0p7j6f9",lastChange:"2013-01-08T08:49:43.000Z",note:"Bitte einen Text eintragen 08.01.2013 09:49",primary:"false",connectedDrive:"false",connectedDrivePossible:"false",model:{bodyType:"LI",code:"GZ01",modelRange:"F10",name:"BMW X3",series:"X"},multipleImageUrl:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiSLeEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztIroeqhk7BgMMLoACAYAhJHFlisLou%25KX%25sIHSfWQlxD%25V1Pa1sefNEbnChL10s9OsGTE4riIrzKscZwBE%254rxRtesfyZ857MjdxRUgCheq05Gvlov2lgp2XH5Mzv6jQ%25o6x2YDafDsZjmqn12wyDyLOE3gqqTJIs1fzL3uBrBC0JdSeZeltuzVMRVd8SkNh5NzRVA0og04qNF1Ysa5Tn65e906qTMDESqvLB9trO2keJXKVZPty157WN4cSkNpPniCUY"},valid:"true"},{configId:"1288171",configUrl:"DE.i3.mybmw.bmw-int.com/q0p7j6f9",lastChange:"2013-01-08T08:49:43.000Z",note:"Bitte einen Text eintragen 08.01.2013 09:49",primary:"false",connectedDrive:"false",connectedDrivePossible:"false",model:{bodyType:"LI",code:"ZV41",modelRange:"F10",name:"BMW 525i Limousine",series:"5"},multipleImageUrl:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hNUMLoACo1nhJHFlEULou%25KX%251IHSfWQlSD%25V1PaHcUfNEbnEVq10s9OsN3E4riI15HscZwBwAvrxRtetFtZ857MBmfRUgChgvC5GvloRsUgp2XH5rzv6jQ%25JL12YDafD97jmqn1hiDDyLOELZ5qTJIsD8SL3uBrBC1JdSeZS3xuzVMRMX7Sk%25p1XZmQGZIPVGjmB2fJj5DOPiEagdIqCAusKiY%25ZwFSN0JdSUKQbtxp"},valid:"true"},{configId:"1288172",configUrl:"DE.i3.mybmw.bmw-int.com/q0p7j6f9",lastChange:"2013-01-08T08:49:43.000Z",note:"Bitte einen Text eintragen 08.01.2013 09:49",primary:"false",connectedDrive:"false",connectedDrivePossible:"false",model:{bodyType:"LI",code:"XG11",modelRange:"F10",name:"BMW 530d Limousine",series:"5"},multipleImageUrl:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hNUMLoACo1nhJHFlEULou%25KX%251IHSfWQlSD%25V1PaHcUfNEbnEVq10s9OsN3E4riI15HscZwBwAvrxRtetFtZ857MBmfRUgChgvC5GvloRsUgp2XH5rzv6jQ%25JL12YDafD97jmqn1hiDDyLOELZ5qTJIsD8SL3uBrBC1JdSeZS3xuzVMRMX7Sk%25p1XZmQGZIPVGjmB2fJj5DOPiEagdIqCAusKiY%25ZwFSN0JdSUKQbtxp"},valid:"true"},{configId:"1288173",configUrl:"DE.i3.mybmw.bmw-int.com/q0p7j6f9",lastChange:"2013-01-08T08:49:43.000Z",note:"Bitte einen Text eintragen 08.01.2013 09:49",primary:"false",connectedDrive:"false",connectedDrivePossible:"false",model:{bodyType:"LI",code:"XG11",modelRange:"F10",name:"BMW 535d Touring",series:"5"},multipleImageUrl:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2Jeip%25eEgpn23HGfvQFI55eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztMlQeqhk7bpMMLoACeR%25hJHFlH4pou%25KXwrJHSfWQvC0%25V1Pa1ZefNEbnErM10s9O5mNE4riIr0JscZwBZ4zrxRteIxVZ857Mr6yRUgChgvC5GvloRDsgp2XHXbLv6jQ%25Q9Q2YDafHzZjmqn1SusDyLOELwlqTJIsDvyL3uBrq2PJdSeZS3xuzVMRMX7SkNh5hQrVAf6EQRyapRBbNpDyej1uDgqIbwsnvzBLlFSrWwmfRtKV04uzVGWa9786",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2Jeip%25eEgpn23HGfvQFr%255eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztMlQeqhk7bpMMLoACeR%25hJHFlH4pou%25KXwrJHSfWQvC0%25V1Pa1ZefNEbnErM10s9O5mNE4riIr0JscZwBZ4zrxRteIxVZ857Mr6yRUgChgvC5GvloRDsgp2XHXbLv6jQ%25Q9Q2YDafHzZjmqn1SusDyLOELwlqTJIsDvyL3uBrq2PJdSeZS3xuzVMRMX7SkNh5hQrVAf6EQRyapRBbNpDyej1uDgqIbwsnvzBLlFSrWwmfRtKV04uzVGWa9786",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2Jeip%25eEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztMlQeqhk7bpMMLoACeR%25hJHFlH4pou%25KXwrJHSfWQvC0%25V1Pa1ZefNEbnErM10s9O5mNE4riIr0JscZwBZ4zrxRteIxVZ857Mr6yRUgChgvC5GvloRDsgp2XHXbLv6jQ%25Q9Q2YDafHzZjmqn1SusDyLOELwlqTJIsDvyL3uBrq2PJdSeZS3xuzVMRMX7SkNh5hQrVAf6EQRyapRBbNpDyej1uDgqIbwsnvzBLlFSrWwmfRtKV04uzVGWa9786"},valid:"true"},{configId:"1288174",configUrl:"DE.i3.mybmw.bmw-int.com/q0p7j6f9",lastChange:"2013-01-08T08:49:43.000Z",note:"Bitte einen Text eintragen 08.01.2013 09:49",primary:"false",connectedDrive:"false",connectedDrivePossible:"false",model:{bodyType:"LI",code:"XG11",modelRange:"F10",name:"BMW 520i Limousine",series:"5"},multipleImageUrl:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hNUMLoACo1nhJHFlEULou%25KX%251IHSfWQlSD%25V1PaHcUfNEbnEVq10s9OsN3E4riI15HscZwBwAvrxRtetFtZ857MBmfRUgChgvC5GvloRsUgp2XH5rzv6jQ%25JL12YDafD97jmqn1hiDDyLOELZ5qTJIsD8SL3uBrBC1JdSeZS3xuzVMRMX7Sk%25p1XZmQGZIPVGjmB2fJj5DOPiEagdIqCAusKiY%25ZwFSN0JdSUKQbtxp"},valid:"true"}])}function E(L){L.success({content:{"@type":"ConfigSummary",accessByIdUrl:{value:"/vc/ncc/xhtml/start/startWithConfigId.faces?configId=1288165"},accessUrl:{value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=TILTVIEW"},bestConfiguration:"true",configId:"1288165",configUrl:{value:"DE.i3.mybmw.bmw-int.com/e9u4a7a3"},disclaimerSection:{disclaimer:[{disclaimerNumber:"1",displayOrder:"1",paragraph:{value:"Die Angaben zu Kraftstoffverbrauch und CO2-Emissionen gelten bei Angaben von Spannbreiten in Abhängigkeit vom gewählten Reifenformat und optionaler Sonderausstattung. Die Energieeffizienzklasse eines Fahrzeugs ist abhängig von der Art des Getriebes oder der Räder und kann sich während der Konfiguration verändern. Sie wird auf Grundlage der gemessenen CO2-Emissionen unter Berücksichtigung der Masse des Fahrzeugs ermittelt."}},{disclaimerNumber:"2",displayOrder:"2",paragraph:{value:"Bei den Preisangaben handelt es sich um unverbindliche Empfehlungen des Herstellers inkl. 19% MwSt und exklusive Überführungskosten. Änderungen und Irrtümer vorbehalten. Verbindliche Preisauskünfte gibt Ihnen gern Ihr BMW Partner."}},{displayOrder:"3",paragraph:[{displayOrder:"1",value:"Angegeben sind jeweils die Werte des Basismodells mit der Getriebeart laut Grundausstattung. Die angegebenen Werte wurden nach dem vorgeschriebenen Messverfahren (Richtlinie 80 / 1268 / EWG in der gegenwärtigen Fassung) ermittelt. Die Angaben beziehen sich nicht auf ein einzelnes Fahrzeug und sind nicht Bestandteil des Angebots, sondern dienen allein Vergleichszwecken zwischen den verschiedenen Fahrzeugtypen."},{displayOrder:"2",value:"Weitere Informationen zum offiziellen Kraftstoffverbrauch und zur offiziellen CO2-Emission neuer Personenkraftwagen können dem „Leitfaden über den Kraftstoffverbrauch und die CO2-Emission neuer Personenkraftwagen“ entnommen werden, der an allen Verkaufsstellen und bei der DAT Deutsche Automobil Treuhand GmbH, Hellmuth-Hirth-Straße 1, 73760 Ostfildern und unter http://www.dat.de/leitfaden/LeitfadenCO2.pdf unentgeltlich erhältlich ist."}]}]},financeSection:{changeUrl:{name:"Finanzierung ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=FINANCE"},name:"Finanzierung",financeCondition:{name:"Finanzierungskonditionen"},financeDisclaimer:{name:"Gesetzlicher Hinweis",value:"Bei dieser Berechnung handelt es sich um eine freibleibende und unverbindliche Musterkalkulation. Direkter Ansprechpartner ist Ihr BMW Partner. Er berät Sie gerne ausführlich und berechnet für Sie das passende Leasingmodell. Ein Angebot der BMW Bank GmbH, Heidemannstr. 164, 80939 München.<br><br>* Die monatliche Versicherungsprämie für Kfz-Haftpflicht und Vollkasko ist gültig für BMW Neu- und Vorführwagen bei Abschluss eines BMW Plus Leasing V Vertrages mit der BMW Bank GmbH bis 31.03.2013. Zulassung bis zum 31.07.2013. Vertragspartner und Risikoträger ist die ERGO Versicherung AG. Selbstbeteiligung: VK 1.000,00 EUR/TK 150,00 EUR pro Schadensfall.<br><br>** Einzelheiten ergeben sich aus Ihrem Leasingvertrag. Ein Angebot der BMW Bank GmbH."},financeParameter:[{code:"DepositPercent",description:"Sonderzahlung in %",displayOrder:"1",unit:"%",value:"20,00"},{code:"DepositAmount",description:"Sonderzahlung",displayOrder:"2",unit:"€",value:"4.380,00"},{code:"Term",description:"Laufzeit",displayOrder:"3",unit:"Monate",value:"24"},{code:"Mileage",description:"Laufleistung p.a.",displayOrder:"4",unit:"km",value:"15.000"}],financeProductCode:"759357",financeProductName:{name:"Finanzierung",value:"BMW Plus Leasing V"}},imageUrlBack:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFMa5eqKDsH%25fMA8oG6qOhJPFskJEJGz5BABN745UXgtUDHFtyXqm0zypTjHMxmSk%250PqEiyrvep32sw7C"},imageUrlFront820:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFMa5eqKDsH%25fMA8oG6qOhJPFskJEJGz5BABN745UXgtUDHFtyXqm0zypTjH1cv6OD3Zekxh1lNUEMAKW"},imageUrlFrontBig:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0Y1XyXqPJ1NiEWNRITWUi58LYU4GZIMuscCRp%25QmSnM9qNhay3d"},imageUrlFrontMedium:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0Y1XyXqPJ1NiEWNRITWUi58LYU4GZIMuscCRp%25QmSnM9qNhay3d"},imageUrlFrontSmall:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFi95eqKSYpRl6swTYAvQ53RoIBeayVO0c5CnvzTomvhv0Y1XyXqPJ1NiEWNRITWUi58LYU4GZIMuscCRp%25QmSnM9qNhay3d"},imageUrlFrontVeryBig:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQF%259meqKDsH%25fMA8oG6qOhJPFskJEJGz5BABN745UXgtUDHFtyXqm0zypTjH1cv6OD3Zekxh1lNUEMAKW"},imageUrlInterior:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFz55JE470jR5gswTZdk4%25rxltjix2xd9J1w1pIYJ3MuO30RtOKM4bfz8snPqdD8VUCrpWSQ"},interiorSection:{name:"Interieur",trim:{changeUrl:{name:"Interieurleisten ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=TRIMS"},displayType:"1",familyType:"LEIST",featureCode:"4CG",featureType:"T",featureTypeAndCode:"S04CG",price:{grossPrice:{decimalNumber:"0.00",disclaimerNumber:"2",name:"Listenpreis",value:"inklusive"},grossRentalPrice:{decimalNumber:"0.00",name:"Monatliche Rate",value:"inklusive"},netPrice:{decimalNumber:"0.0",name:"Listenpreis Netto",value:"inklusive"}},standard:"true",value:"Interieurleisten Satinsilber matt"}},lastUpdate:{value:"2013-01-08T08:34:31.000Z"},modelSection:{changeUrl:{name:"Modell ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=MODEL_ENGINE"},name:"Modell",averageConsumption:{disclaimerNumber:"1",name:"Verbrauch kombiniert",unit:"l/100km",value:"5,5"},averageEmission:{disclaimerNumber:"1",name:"CO2-Emission",unit:"g/km",value:"129,0"},bodyType:{description:"HC",value:"HC"},brand:{value:"BM"},efficiencyCategory:{name:"CO2-Effizienz",value:"C"},engineHorsePower:{unit:"PS",value:"102"},enginePower:{unit:"kW",value:"75"},marketingModelRangeCode:{value:"F21"},modelCode:{value:"1P11"},modelName:{value:"BMW 114i 3-Türer"},series:{description:"1",value:"1"},tax:[{name:"MwSt.",unit:"%",value:"19"}],title:{value:"BMW 114i 3-Türer"}},note:{value:"Bitte einen Text eintragen 08.01.2013 09:34"},optionSection:{changeUrl:{name:"Ausstattung ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=OPTIONS"},name:"Sonderausstattung"},packageSection:{changeUrl:{name:"Pakete ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=PACKAGES"},name:"Pakete"},priceSection:{name:"Preisübersicht",basePrice:{name:"Listenpreis Netto",grossRentalPrice:{decimalNumber:"235.63",name:"Monatliche Rate",value:"235,63 €"},netPrice:{decimalNumber:"18403.36",name:"Listenpreis Netto",value:"18.403,36 €"}},equipmentPrice:{name:"Sonderausstattung Netto",grossRentalPrice:{decimalNumber:"0.00",name:"Monatliche Rate",value:"inklusive"},netPrice:{decimalNumber:"0.00",name:"Listenpreis Netto",value:"inklusive"}},taxVAT:{decimalNumber:"3496.64",name:"MwSt. 19%",value:"3.496,64 €"},totalPrice:{name:"Gesamtpreis",grossPrice:{decimalNumber:"21900.00",disclaimerNumber:"2",name:"Listenpreis",value:"21.900,00 €"},grossRentalPrice:{decimalNumber:"235.63",name:"Monatliche Rate",value:"235,63 €"},netPrice:{decimalNumber:"18403.36",name:"Listenpreis Netto",value:"18.403,36 €"}}},standardEquipmentSection:{name:"Grundausstattung",category:{displayOrder:"1",feature:[{displayOrder:"1",name:"Airbag für Fahrer und Beifahrer"},{displayOrder:"2",name:"Anti-Blockier-System (ABS) inkl. Bremsassistent und Cornering Brake Control (CBC)"},{displayOrder:"3",name:"Bremsbelagverschleißanzeige"},{displayOrder:"4",name:"Bremsscheiben vorn innenbelüftet"},{displayOrder:"5",name:"Dynamische Bremsleuchten"},{displayOrder:"6",name:"Kindersitzbefestigung ISOFIX auf den äußeren Fondsitzplätzen"},{displayOrder:"7",name:"Kopfairbag vorn und hinten, Curtain-Kopfschutzsystem"},{displayOrder:"8",name:"Kopfstützen vorn und hinten"},{displayOrder:"9",name:"Reifen Pannen Anzeige (RPA)"},{displayOrder:"10",name:"Seitenairbag für Fahrer und Beifahrer"},{displayOrder:"11",name:"Sicherheitsgurte (3-Punkt-Automatik) hinten links/rechts/mitte"},{displayOrder:"12",name:"Sicherheitsgurte (3-Punkt-Automatik) vorn mit Gurtstopper, pyrotechnischem Gurtschloss-Strammer und Gurtkraftbegrenzer"},{displayOrder:"13",name:"Warndreieck und Verbandskasten"},{displayOrder:"14",name:"Wegfahrsicherung (EWS IV) elektronisch codiert mit Wechselcode, anerkannt gemäß AZT (Allianz Zentrum für Technik)/TÜV"},{displayOrder:"15",name:"Werkzeugsatz im Gepäckraum"},{displayOrder:"16",name:"Zentralverriegelung und Crash-Sensor"},{displayOrder:"17",name:"6-Gang Schaltgetriebe"},{displayOrder:"18",name:"Auto Start Stop Funktion"},{displayOrder:"19",name:"BMW TwinPower Turbo 4-Zylinder Benzinmotor"},{displayOrder:"20",name:"Bremsenergierückgewinnung"},{displayOrder:"21",name:"Dynamische Stabilitäts Control (DSC) III inkl. Dynamische Traktions Control (DTC)"},{displayOrder:"22",name:"Elektronisches Sperrdifferential (spezifische DSC Abstimmung mit Traktionsoptimierung)"},{displayOrder:"23",name:"Fahrerlebnisschalter inkl. ECO PRO (Sport+ Modus für M135i/M135i xDrive)"},{displayOrder:"24",name:"Servolenkung"},{displayOrder:"25",name:"Auspuffendrohr sichtbar, einfach mit Chromblende (114i: ohne Chromblende)"},{displayOrder:"26",name:"Außenspiegel mit integrierter Zusatzblinkleuchte, in Wagenfarbe lackiert, elektrisch einstellbar"},{displayOrder:"27",name:"Blinkleuchten weiß"},{displayOrder:"28",name:"Dachfinne"},{displayOrder:"29",name:"Exterieurumfänge in Wagenfarbe"},{displayOrder:"30",name:"Frontziergitter mit Nieren-Längsstäben in schwarz, mit Chromeinfassung"},{displayOrder:"31",name:"Stoßfänger in Wagenfarbe lackiert"},{displayOrder:"32",name:"16 Stahlräder mit Radvollblende, 6 1/2 J x 16 mit Bereifung 195/55, inkl. BMW Mobility-Set"},{displayOrder:"33",name:"Einstiegsleisten hinten mit Einleger in Kunststoff und BMW Schriftzug in schwarz"},{displayOrder:"34",name:"Einstiegsleisten vorn mit Einleger in Kunststoff und BMW Schriftzug in schwarz (für M135i/M135i xDrive: mit Einleger in Aluminium und M135i Schriftzug)"},{displayOrder:"35",name:"Interieurleisten satinsilber matt"},{displayOrder:"36",name:"Schalt- und Handbremshebelbalg in Kunstleder"},{displayOrder:"37",name:"Stoff Move"},{displayOrder:"38",name:"2 Sitzplätze im Fond (für 3-Türer), inkl. Ablageschale in der Mitte der Fondsitzfläche"},{displayOrder:"39",name:"Fondsitzlehne umklappbar (60:40)"},{displayOrder:"40",name:"Sitzverstellung mechanisch für Fahrer und Beifahrer, höhen- und längsverstellbar"},{displayOrder:"41",name:"Serienlenkrad mit unterschäumten Lenkradkranz, mechanisch höhen- und längsverstellbar"},{displayOrder:"42",name:"Heckscheibenheizung mit Abschaltautomatik"},{displayOrder:"43",name:"Klimaanlage"},{displayOrder:"44",name:"Wärmeschutzverglasung grün rundum"},{displayOrder:"45",name:"Schaltpunktanzeige (nur mit 6-Gang Schaltgetriebe)"},{displayOrder:"46",name:"Schlüsselloser Motorstart"},{displayOrder:"47",name:"Start-/Stop-Knopf"},{displayOrder:"48",name:"Begrüßungslicht"},{displayOrder:"49",name:"Halogenscheinwerfer"},{displayOrder:"50",name:"Heckscheibenwischer"},{displayOrder:"51",name:"Scheibenwischer mit einstellbarem Intervallschalter, in 4 Stufen einstellbar mit zusätzlicher Tippfunktion"},{displayOrder:"52",name:"Ablagemöglichkeiten in Türverkleidung vorn, Ablagefach Mittelkosole hinten, 2 Getränkehalter, Handschuhkasten, Ablageschale in Instrumententafel (nicht in Verbindung mit Radio Professional und BMW Navigationssystemen)"},{displayOrder:"53",name:"Doppeltonfanfare"},{displayOrder:"54",name:"Fensterheber elektrisch"},{displayOrder:"55",name:"Heckklappenentriegelung mit Funkfernbedienung"},{displayOrder:"56",name:"Heckklappenöffnung mit Emblembetätigung"},{displayOrder:"57",name:"Lenksäule mechanisch verstellbar in Höhe und Länge"},{displayOrder:"58",name:"Make-up-Spiegel für Fahrer und Beifahrer"},{displayOrder:"59",name:"Funkfernbedienung für Zentralverriegelung"},{displayOrder:"60",name:"Nichtraucherpaket inkl. offenem Ablagefach in der Mittelkonsole"},{displayOrder:"61",name:"Personal Profile, Personalisierung wichtiger Bedienfunktionen"},{displayOrder:"62",name:"Steckdose, 12-Volt im Beifahrer-Fußraum"},{displayOrder:"63",name:"Verzurrösen im Kofferraum"},{displayOrder:"64",name:"AUX-IN-Anschluss zum Verbinden externer Audioquellen"},{displayOrder:"65",name:"Außentemperaturanzeige mit optischer und akustischer Warnung ab +3 °C"},{displayOrder:"66",name:"Bordcomputer"},{displayOrder:"67",name:"Check-Control"},{displayOrder:"68",name:"Radio Business mit CD-Laufwerk inkl. MP3-Decoder, 6 Lautsprecher inkl. Serviceheft in Papierform, ohne Zierspangen in schwarz hochglänzend bzw. Perlglanz chrom"},{displayOrder:"69",name:"Ölpeilstab"},{displayOrder:"70",name:"Ölsensor"}],name:" "}},transmissionSection:{name:"Getriebe",transmission:{name:"Getriebe",value:"Manuelles Getriebe"}},valid:"true"},status:{responseStatus:"OK"}})}function C(L){if(L.configId=="1288165"){L.success({content:{"@type":"ConfigSummary",accessByIdUrl:{value:"/vc/ncc/xhtml/start/startWithConfigId.faces?configId=1288165"},accessUrl:{value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=TILTVIEW"},bestConfiguration:"true",configId:"1288165",configUrl:{value:"DE.i3.mybmw.bmw-int.com/e9u4a7a3"},disclaimerSection:{disclaimer:[{disclaimerNumber:"1",displayOrder:"1",paragraph:{value:"Die Angaben zu Kraftstoffverbrauch und CO2-Emissionen gelten bei Angaben von Spannbreiten in Abhängigkeit vom gewählten Reifenformat und optionaler Sonderausstattung. Die Energieeffizienzklasse eines Fahrzeugs ist abhängig von der Art des Getriebes oder der Räder und kann sich während der Konfiguration verändern. Sie wird auf Grundlage der gemessenen CO2-Emissionen unter Berücksichtigung der Masse des Fahrzeugs ermittelt."}},{disclaimerNumber:"2",displayOrder:"2",paragraph:{value:"Bei den Preisangaben handelt es sich um unverbindliche Empfehlungen des Herstellers inkl. 19% MwSt und exklusive Überführungskosten. Änderungen und Irrtümer vorbehalten. Verbindliche Preisauskünfte gibt Ihnen gern Ihr BMW Partner."}},{displayOrder:"3",paragraph:[{displayOrder:"1",value:"Angegeben sind jeweils die Werte des Basismodells mit der Getriebeart laut Grundausstattung. Die angegebenen Werte wurden nach dem vorgeschriebenen Messverfahren (Richtlinie 80 / 1268 / EWG in der gegenwärtigen Fassung) ermittelt. Die Angaben beziehen sich nicht auf ein einzelnes Fahrzeug und sind nicht Bestandteil des Angebots, sondern dienen allein Vergleichszwecken zwischen den verschiedenen Fahrzeugtypen."},{displayOrder:"2",value:"Weitere Informationen zum offiziellen Kraftstoffverbrauch und zur offiziellen CO2-Emission neuer Personenkraftwagen können dem „Leitfaden über den Kraftstoffverbrauch und die CO2-Emission neuer Personenkraftwagen“ entnommen werden, der an allen Verkaufsstellen und bei der DAT Deutsche Automobil Treuhand GmbH, Hellmuth-Hirth-Straße 1, 73760 Ostfildern und unter http://www.dat.de/leitfaden/LeitfadenCO2.pdf unentgeltlich erhältlich ist."}]}]},financeSection:{changeUrl:{name:"Finanzierung ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=FINANCE"},name:"Finanzierung",financeCondition:{name:"Finanzierungskonditionen"},financeDisclaimer:{name:"Gesetzlicher Hinweis",value:"Bei dieser Berechnung handelt es sich um eine freibleibende und unverbindliche Musterkalkulation. Direkter Ansprechpartner ist Ihr BMW Partner. Er berät Sie gerne ausführlich und berechnet für Sie das passende Leasingmodell. Ein Angebot der BMW Bank GmbH, Heidemannstr. 164, 80939 München.<br><br>* Die monatliche Versicherungsprämie für Kfz-Haftpflicht und Vollkasko ist gültig für BMW Neu- und Vorführwagen bei Abschluss eines BMW Plus Leasing V Vertrages mit der BMW Bank GmbH bis 31.03.2013. Zulassung bis zum 31.07.2013. Vertragspartner und Risikoträger ist die ERGO Versicherung AG. Selbstbeteiligung: VK 1.000,00 EUR/TK 150,00 EUR pro Schadensfall.<br><br>** Einzelheiten ergeben sich aus Ihrem Leasingvertrag. Ein Angebot der BMW Bank GmbH."},financeParameter:[{code:"DepositPercent",description:"Sonderzahlung in %",displayOrder:"1",unit:"%",value:"20,00"},{code:"DepositAmount",description:"Sonderzahlung",displayOrder:"2",unit:"€",value:"4.380,00"},{code:"Term",description:"Laufzeit",displayOrder:"3",unit:"Monate",value:"24"},{code:"Mileage",description:"Laufleistung p.a.",displayOrder:"4",unit:"km",value:"15.000"}],financeProductCode:"759357",financeProductName:{name:"Finanzierung",value:"BMW Plus Leasing V"}},imageUrlBack:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFMa5eqKDsH%25fMA8oG6qOhJPFskJEJGz5BABN745UXgtUDHFtyXqm0zypTjHMxmSk%250PqEiyrvep32sw7C"},imageUrlFront820:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFMa5eqKDsH%25fMA8oG6qOhJPFskJEJGz5BABN745UXgtUDHFtyXqm0zypTjH1cv6OD3Zekxh1lNUEMAKW"},imageUrlFrontBig:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0Y1XyXqPJ1NiEWNRITWUi58LYU4GZIMuscCRp%25QmSnM9qNhay3d"},imageUrlFrontMedium:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0Y1XyXqPJ1NiEWNRITWUi58LYU4GZIMuscCRp%25QmSnM9qNhay3d"},imageUrlFrontSmall:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFi95eqKSYpRl6swTYAvQ53RoIBeayVO0c5CnvzTomvhv0Y1XyXqPJ1NiEWNRITWUi58LYU4GZIMuscCRp%25QmSnM9qNhay3d"},imageUrlFrontVeryBig:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQF%259meqKDsH%25fMA8oG6qOhJPFskJEJGz5BABN745UXgtUDHFtyXqm0zypTjH1cv6OD3Zekxh1lNUEMAKW"},imageUrlInterior:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiPGeEgpn23HGfvQFz55JE470jR5gswTZdk4%25rxltjix2xd9J1w1pIYJ3MuO30RtOKM4bfz8snPqdD8VUCrpWSQ"},interiorSection:{name:"Interieur",trim:{changeUrl:{name:"Interieurleisten ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=TRIMS"},displayType:"1",familyType:"LEIST",featureCode:"4CG",featureType:"T",featureTypeAndCode:"S04CG",price:{grossPrice:{decimalNumber:"0.00",disclaimerNumber:"2",name:"Listenpreis",value:"inklusive"},grossRentalPrice:{decimalNumber:"0.00",name:"Monatliche Rate",value:"inklusive"},netPrice:{decimalNumber:"0.0",name:"Listenpreis Netto",value:"inklusive"}},standard:"true",value:"Interieurleisten Satinsilber matt"}},lastUpdate:{value:"2013-01-14T16:49:05.000Z"},modelSection:{changeUrl:{name:"Modell ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=MODEL_ENGINE"},name:"Modell",averageConsumption:{disclaimerNumber:"1",name:"Verbrauch kombiniert",unit:"l/100km",value:"5,5"},averageEmission:{disclaimerNumber:"1",name:"CO2-Emission",unit:"g/km",value:"129,0"},bodyType:{description:"HC",value:"HC"},brand:{value:"BM"},efficiencyCategory:{name:"CO2-Effizienz",value:"C"},engineHorsePower:{unit:"PS",value:"102"},enginePower:{unit:"kW",value:"75"},marketingModelRangeCode:{value:"F21"},modelCode:{value:"1P11"},modelName:{value:"BMW 114i 3-Türer"},series:{description:"1",value:"1"},tax:[{name:"MwSt.",unit:"%",value:"19"}],title:{value:"BMW 114i 3-Türer"}},note:{value:"Bitte einen Text eintragen 08.01.2013 09:34"},optionSection:{changeUrl:{name:"Ausstattung ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=OPTIONS"},name:"Sonderausstattung"},packageSection:{changeUrl:{name:"Pakete ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=e9u4a7a3&currentView=PACKAGES"},name:"Pakete"},priceSection:{name:"Preisübersicht",basePrice:{name:"Listenpreis Netto",grossRentalPrice:{decimalNumber:"235.63",name:"Monatliche Rate",value:"235,63 €"},netPrice:{decimalNumber:"18403.36",name:"Listenpreis Netto",value:"18.403,36 €"}},equipmentPrice:{name:"Sonderausstattung Netto",grossRentalPrice:{decimalNumber:"0.00",name:"Monatliche Rate",value:"inklusive"},netPrice:{decimalNumber:"0.00",name:"Listenpreis Netto",value:"inklusive"}},taxVAT:{decimalNumber:"3496.64",name:"MwSt. 19%",value:"3.496,64 €"},totalPrice:{name:"Gesamtpreis",grossPrice:{decimalNumber:"21900.00",disclaimerNumber:"2",name:"Listenpreis",value:"21.900,00 €"},grossRentalPrice:{decimalNumber:"235.63",name:"Monatliche Rate",value:"235,63 €"},netPrice:{decimalNumber:"18403.36",name:"Listenpreis Netto",value:"18.403,36 €"}}},standardEquipmentSection:{name:"Grundausstattung",category:{displayOrder:"1",feature:[{displayOrder:"1",name:"Airbag für Fahrer und Beifahrer"},{displayOrder:"2",name:"Anti-Blockier-System (ABS) inkl. Bremsassistent und Cornering Brake Control (CBC)"},{displayOrder:"3",name:"Bremsbelagverschleißanzeige"},{displayOrder:"4",name:"Bremsscheiben vorn innenbelüftet"},{displayOrder:"5",name:"Dynamische Bremsleuchten"},{displayOrder:"6",name:"Kindersitzbefestigung ISOFIX auf den äußeren Fondsitzplätzen"},{displayOrder:"7",name:"Kopfairbag vorn und hinten, Curtain-Kopfschutzsystem"},{displayOrder:"8",name:"Kopfstützen vorn und hinten"},{displayOrder:"9",name:"Reifen Pannen Anzeige (RPA)"},{displayOrder:"10",name:"Seitenairbag für Fahrer und Beifahrer"},{displayOrder:"11",name:"Sicherheitsgurte (3-Punkt-Automatik) hinten links/rechts/mitte"},{displayOrder:"12",name:"Sicherheitsgurte (3-Punkt-Automatik) vorn mit Gurtstopper, pyrotechnischem Gurtschloss-Strammer und Gurtkraftbegrenzer"},{displayOrder:"13",name:"Warndreieck und Verbandskasten"},{displayOrder:"14",name:"Wegfahrsicherung (EWS IV) elektronisch codiert mit Wechselcode, anerkannt gemäß AZT (Allianz Zentrum für Technik)/TÜV"},{displayOrder:"15",name:"Werkzeugsatz im Gepäckraum"},{displayOrder:"16",name:"Zentralverriegelung und Crash-Sensor"},{displayOrder:"17",name:"6-Gang Schaltgetriebe"},{displayOrder:"18",name:"Auto Start Stop Funktion"},{displayOrder:"19",name:"BMW TwinPower Turbo 4-Zylinder Benzinmotor"},{displayOrder:"20",name:"Bremsenergierückgewinnung"},{displayOrder:"21",name:"Dynamische Stabilitäts Control (DSC) III inkl. Dynamische Traktions Control (DTC)"},{displayOrder:"22",name:"Elektronisches Sperrdifferential (spezifische DSC Abstimmung mit Traktionsoptimierung)"},{displayOrder:"23",name:"Fahrerlebnisschalter inkl. ECO PRO (Sport+ Modus für M135i/M135i xDrive)"},{displayOrder:"24",name:"Servolenkung"},{displayOrder:"25",name:"Auspuffendrohr sichtbar, einfach mit Chromblende (114i: ohne Chromblende)"},{displayOrder:"26",name:"Außenspiegel mit integrierter Zusatzblinkleuchte, in Wagenfarbe lackiert, elektrisch einstellbar"},{displayOrder:"27",name:"Blinkleuchten weiß"},{displayOrder:"28",name:"Dachfinne"},{displayOrder:"29",name:"Exterieurumfänge in Wagenfarbe"},{displayOrder:"30",name:"Frontziergitter mit Nieren-Längsstäben in schwarz, mit Chromeinfassung"},{displayOrder:"31",name:"Stoßfänger in Wagenfarbe lackiert"},{displayOrder:"32",name:'"16"" Stahlräder mit Radvollblende, 6 1/2 J x 16 mit Bereifung 195/55, inkl. BMW Mobility-Set"'},{displayOrder:"33",name:"Einstiegsleisten hinten mit Einleger in Kunststoff und BMW Schriftzug in schwarz"},{displayOrder:"34",name:"Einstiegsleisten vorn mit Einleger in Kunststoff und BMW Schriftzug in schwarz (für M135i/M135i xDrive: mit Einleger in Aluminium und M135i Schriftzug)"},{displayOrder:"35",name:"Interieurleisten satinsilber matt"},{displayOrder:"36",name:"Schalt- und Handbremshebelbalg in Kunstleder"},{displayOrder:"37",name:"Stoff Move"},{displayOrder:"38",name:"2 Sitzplätze im Fond (für 3-Türer), inkl. Ablageschale in der Mitte der Fondsitzfläche"},{displayOrder:"39",name:"Fondsitzlehne umklappbar (60:40)"},{displayOrder:"40",name:"Sitzverstellung mechanisch für Fahrer und Beifahrer, höhen- und längsverstellbar"},{displayOrder:"41",name:"Serienlenkrad mit unterschäumten Lenkradkranz, mechanisch höhen- und längsverstellbar"},{displayOrder:"42",name:"Heckscheibenheizung mit Abschaltautomatik"},{displayOrder:"43",name:"Klimaanlage"},{displayOrder:"44",name:"Wärmeschutzverglasung grün rundum"},{displayOrder:"45",name:"Schaltpunktanzeige (nur mit 6-Gang Schaltgetriebe)"},{displayOrder:"46",name:"Schlüsselloser Motorstart"},{displayOrder:"47",name:"Start-/Stop-Knopf"},{displayOrder:"48",name:"Begrüßungslicht"},{displayOrder:"49",name:"Halogenscheinwerfer"},{displayOrder:"50",name:"Heckscheibenwischer"},{displayOrder:"51",name:"Scheibenwischer mit einstellbarem Intervallschalter, in 4 Stufen einstellbar mit zusätzlicher Tippfunktion"},{displayOrder:"52",name:"Ablagemöglichkeiten in Türverkleidung vorn, Ablagefach Mittelkosole hinten, 2 Getränkehalter, Handschuhkasten, Ablageschale in Instrumententafel (nicht in Verbindung mit Radio Professional und BMW Navigationssystemen)"},{displayOrder:"53",name:"Doppeltonfanfare"},{displayOrder:"54",name:"Fensterheber elektrisch"},{displayOrder:"55",name:"Heckklappenentriegelung mit Funkfernbedienung"},{displayOrder:"56",name:"Heckklappenöffnung mit Emblembetätigung"},{displayOrder:"57",name:"Lenksäule mechanisch verstellbar in Höhe und Länge"},{displayOrder:"58",name:"Make-up-Spiegel für Fahrer und Beifahrer"},{displayOrder:"59",name:"Funkfernbedienung für Zentralverriegelung"},{displayOrder:"60",name:"Nichtraucherpaket inkl. offenem Ablagefach in der Mittelkonsole"},{displayOrder:"61",name:"Personal Profile, Personalisierung wichtiger Bedienfunktionen"},{displayOrder:"62",name:"Steckdose, 12-Volt im Beifahrer-Fußraum"},{displayOrder:"63",name:"Verzurrösen im Kofferraum"},{displayOrder:"64",name:"AUX-IN-Anschluss zum Verbinden externer Audioquellen"},{displayOrder:"65",name:"Außentemperaturanzeige mit optischer und akustischer Warnung ab +3 °C"},{displayOrder:"66",name:"Bordcomputer"},{displayOrder:"67",name:"Check-Control"},{displayOrder:"68",name:"Radio Business mit CD-Laufwerk inkl. MP3-Decoder, 6 Lautsprecher inkl. Serviceheft in Papierform, ohne Zierspangen in schwarz hochglänzend bzw. Perlglanz chrom"},{displayOrder:"69",name:"Ölpeilstab"},{displayOrder:"70",name:"Ölsensor"}],name:" "}},transmissionSection:{name:"Getriebe",transmission:{name:"Getriebe",value:"Manuelles Getriebe"}},valid:"true"},status:{responseStatus:"OK"}})}if(L.configId=="1288169"){L.success({content:{"@type":"ConfigSummary",accessByIdUrl:{value:"/vc/ncc/xhtml/start/startWithConfigId.faces?configId=1288169"},accessUrl:{value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=q0p7j6f9&currentView=TILTVIEW"},bestConfiguration:"true",configId:"1288169",configUrl:{value:"DE.i3.mybmw.bmw-int.com/q0p7j6f9"},disclaimerSection:{disclaimer:[{disclaimerNumber:"1",displayOrder:"1",paragraph:{value:"Die Angaben zu Kraftstoffverbrauch und CO2-Emissionen gelten bei Angaben von Spannbreiten in Abhängigkeit vom gewählten Reifenformat und optionaler Sonderausstattung. Die Energieeffizienzklasse eines Fahrzeugs ist abhängig von der Art des Getriebes oder der Räder und kann sich während der Konfiguration verändern. Sie wird auf Grundlage der gemessenen CO2-Emissionen unter Berücksichtigung der Masse des Fahrzeugs ermittelt."}},{disclaimerNumber:"2",displayOrder:"2",paragraph:{value:"Bei den Preisangaben handelt es sich um unverbindliche Empfehlungen des Herstellers inkl. 19% MwSt und exklusive Überführungskosten. Änderungen und Irrtümer vorbehalten. Verbindliche Preisauskünfte gibt Ihnen gern Ihr BMW Partner."}},{displayOrder:"3",paragraph:[{displayOrder:"1",value:"Angegeben sind jeweils die Werte des Basismodells mit der Getriebeart laut Grundausstattung. Die angegebenen Werte wurden nach dem vorgeschriebenen Messverfahren (Richtlinie 80 / 1268 / EWG in der gegenwärtigen Fassung) ermittelt. Die Angaben beziehen sich nicht auf ein einzelnes Fahrzeug und sind nicht Bestandteil des Angebots, sondern dienen allein Vergleichszwecken zwischen den verschiedenen Fahrzeugtypen."},{displayOrder:"2",value:"Weitere Informationen zum offiziellen Kraftstoffverbrauch und zur offiziellen CO2-Emission neuer Personenkraftwagen können dem „Leitfaden über den Kraftstoffverbrauch und die CO2-Emission neuer Personenkraftwagen“ entnommen werden, der an allen Verkaufsstellen und bei der DAT Deutsche Automobil Treuhand GmbH, Hellmuth-Hirth-Straße 1, 73760 Ostfildern und unter http://www.dat.de/leitfaden/LeitfadenCO2.pdf unentgeltlich erhältlich ist."}]}]},exteriorSection:{name:"Exterieur",rim:{changeUrl:{name:"Räder ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=q0p7j6f9&currentView=RIMS"},displayType:"1",familyType:"FELGE",featureCode:"2K1",featureType:"R",featureTypeAndCode:"S02K1",price:{grossPrice:{decimalNumber:"0.00",disclaimerNumber:"2",name:"Listenpreis",value:"inklusive"},grossRentalPrice:{decimalNumber:"0.00",name:"Monatliche Rate",value:"inklusive"},netPrice:{decimalNumber:"0.0",name:"Listenpreis Netto",value:"inklusive"}},standard:"true",value:'17" Leichtmetallräder V-Speiche 236'}},financeSection:{changeUrl:{name:"Finanzierung ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=q0p7j6f9&currentView=FINANCE"},name:"Finanzierung",financeCondition:{name:"Finanzierungskonditionen"},financeDisclaimer:{name:"Gesetzlicher Hinweis",value:"Bei dieser Berechnung handelt es sich um eine freibleibende und unverbindliche Musterkalkulation. Direkter Ansprechpartner ist Ihr BMW Partner. Er berät Sie gerne ausführlich und berechnet für Sie das passende Leasingmodell. Ein Angebot der BMW Bank GmbH, Heidemannstr. 164, 80939 München.<br><br>* Einzelheiten ergeben sich aus Ihrem Leasingvertrag. Ein Angebot der BMW Bank GmbH."},financeParameter:[{code:"DepositPercent",description:"Sonderzahlung in %",displayOrder:"1",unit:"%",value:"20,00"},{code:"DepositAmount",description:"Sonderzahlung",displayOrder:"2",unit:"€",value:"8.040,00"},{code:"Term",description:"Laufzeit",displayOrder:"3",unit:"Monate",value:"24"},{code:"Mileage",description:"Laufleistung p.a.",displayOrder:"4",unit:"km",value:"15.000"}],financeProductCode:"746380",financeProductName:{name:"Finanzierung",value:"BMW Leasing"}},imageUrlBack:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFMa5eqKDsH%25fMA8oG6qOhJPFskJEJG8HyABKupkofFeWS6i9mKMPVYFzsWhcX826njl6J1Pldnu3xFdmzL1HG30KExiuZ7d5DomkqRCXQ"},imageUrlFront820:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFMa5eqKDsH%25fMA8oG6qOhJPFskJEJG8HyABKupkofFeWS6i9mKMPVYFzsWhcX826njl6J1Pldnu3xFdmzL1rUDyeJkgoKG%25rac6ZHWb9"},imageUrlFrontBig:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0VIUyX324mOeTQdjcFA83azDxTYodnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA"},imageUrlFrontMedium:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0VIUyX324mOeTQdjcFA83azDxTYodnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA"},imageUrlFrontSmall:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFi95eqKSYpRl6swTYAvQ53RoIBeayVO0c5CnvzTomvhv0VIUyX324mOeTQdjcFA83azDxTYodnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA"},imageUrlFrontVeryBig:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQF%259meqKDsH%25fMA8oG6qOhJPFskJEJG8HyABKupkofFeWS6i9mKMPVYFzsWhcX826njl6J1Pldnu3xFdmzL1rUDyeJkgoKG%25rac6ZHWb9"},imageUrlInterior:{value:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFz55JE470jR5gswTZdk4%25rxltjix2xdTRKw178ziZgtECUkaQF7slGAt9jCrmMTVkHNekxvlebH8wsFpRBiuAJp46Q5m90O"},interiorSection:{name:"Interieur",trim:{changeUrl:{name:"Interieurleisten ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=q0p7j6f9&currentView=TRIMS"},displayType:"1",familyType:"LEIST",featureCode:"4AT",featureType:"T",featureTypeAndCode:"S04AT",price:{grossPrice:{decimalNumber:"0.00",disclaimerNumber:"2",name:"Listenpreis",value:"inklusive"},grossRentalPrice:{decimalNumber:"0.00",name:"Monatliche Rate",value:"inklusive"},netPrice:{decimalNumber:"0.0",name:"Listenpreis Netto",value:"inklusive"}},standard:"true",value:"Interieurleisten schwarz hochglänzend"}},lastUpdate:{value:"2013-01-14T16:48:34.000Z"},modelSection:{changeUrl:{name:"Modell ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=q0p7j6f9&currentView=MODEL_ENGINE"},name:"Modell",averageConsumption:{disclaimerNumber:"1",name:"Verbrauch kombiniert",unit:"l/100km",value:"6,8"},averageEmission:{disclaimerNumber:"1",name:"CO2-Emission",unit:"g/km",value:"157,0"},bodyType:{description:"Limousine",value:"LI"},brand:{value:"BM"},efficiencyCategory:{name:"CO2-Effizienz",value:"C"},engineHorsePower:{unit:"PS",value:"184"},enginePower:{unit:"kW",value:"135"},marketingModelRangeCode:{value:"F10"},modelCode:{value:"XG11"},modelName:{value:"BMW 520i Limousine"},series:{description:"5",value:"5"},tax:[{name:"MwSt.",unit:"%",value:"19"}],title:{value:"BMW 520i Limousine"}},note:{value:"Bitte einen Text eintragen 08.01.2013 09:49"},optionSection:{changeUrl:{name:"Ausstattung ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=q0p7j6f9&currentView=OPTIONS"},name:"Sonderausstattung",salesGroup:[{displayOrder:"1",feature:[{displayOrder:"1",displayType:"1",familyType:"OTHER",featureCode:"1CB",featureType:"S",featureTypeAndCode:"S01CB",price:{grossPrice:{decimalNumber:"0.00",disclaimerNumber:"2",name:"Listenpreis",value:"inklusive"},grossRentalPrice:{decimalNumber:"0.00",name:"Monatliche Rate",value:"inklusive"},netPrice:{decimalNumber:"0.0",name:"Listenpreis Netto",value:"inklusive"}},standard:"false",value:"Steuerung EfficientDynamics"}],value:"Efficient Dynamics"}]},packageSection:{changeUrl:{name:"Pakete ändern",value:"/vc/ncc/xhtml/start/startWithConfigUrl.faces?name=q0p7j6f9&currentView=PACKAGES"},name:"Pakete"},priceSection:{name:"Preisübersicht",basePrice:{name:"Listenpreis Netto",grossRentalPrice:{decimalNumber:"425.78",name:"Monatliche Rate",value:"425,78 €"},netPrice:{decimalNumber:"33781.51",name:"Listenpreis Netto",value:"33.781,51 €"}},equipmentPrice:{name:"Sonderausstattung Netto",grossRentalPrice:{decimalNumber:"0.00",name:"Monatliche Rate",value:"inklusive"},netPrice:{decimalNumber:"0.00",name:"Listenpreis Netto",value:"inklusive"}},taxVAT:{decimalNumber:"6418.49",name:"MwSt. 19%",value:"6.418,49 €"},totalPrice:{name:"Gesamtpreis",grossPrice:{decimalNumber:"40200.00",disclaimerNumber:"2",name:"Listenpreis",value:"40.200,00 €"},grossRentalPrice:{decimalNumber:"425.78",name:"Monatliche Rate",value:"425,78 €"},netPrice:{decimalNumber:"33781.51",name:"Listenpreis Netto",value:"33.781,51 €"}}},standardEquipmentSection:{name:"Grundausstattung",category:{displayOrder:"1",feature:[{displayOrder:"1",name:"Airbag für Fahrer und Beifahrer mit Sitzbelegungserkennung für Beifahrer, Airbag für Beifahrer deaktivierbar"},{displayOrder:"2",name:"Aktive Kopfstützen vorn"},{displayOrder:"3",name:"Aktive Motorhaube (Fußgängerschutzsystem)"},{displayOrder:"4",name:"Anti-Blockier-System (ABS) inkl. Bremsassistent und Cornering Brake Control (CBC)"},{displayOrder:"5",name:"Bremsscheiben vorn und hinten, innenbelüftet"},{displayOrder:"6",name:"Dynamische Bremsleuchten"},{displayOrder:"7",name:"Dynamische Stabilitäts-Control (DSC) inkl. Anfahrassistent"},{displayOrder:"8",name:"Elektronische Wegfahrsperre"},{displayOrder:"9",name:"Kindersitzbefestigung ISOFIX für die äußeren Fondsitze"},{displayOrder:"10",name:"Kopfairbag vorn und hinten"},{displayOrder:"11",name:"Parkbremse, elektromechanisch, in Verbindung mit Automatic Getrieben mit Auto Hold Funktion (AUTO H)"},{displayOrder:"12",name:"Reifen Pannen Anzeige"},{displayOrder:"13",name:"Seitenairbag für Fahrer und Beifahrer"},{displayOrder:"14",name:"Seitenaufprallschutz"},{displayOrder:"15",name:"Sicherheitsbatterieklemme"},{displayOrder:"16",name:"Sicherheitsgurte (Dreipunkt) auf allen 5 Sitzplätzen, Gurtstrammer und Gurtkraftbegrenzer vorn"},{displayOrder:"17",name:"Stoßfänger-System mit auswechselbaren Verformungselementen, zusätzlich vorn bis 4 km/h reversibel"},{displayOrder:"18",name:"Warndreieck und Verbandskasten"},{displayOrder:"19",name:"Zentralverriegelung mit Fernbedienung, Center-Lock-Schalter"},{displayOrder:"20",name:"Auto Start Stop Funktion"},{displayOrder:"21",name:"Bremsenergierückgewinnung"},{displayOrder:"22",name:"Fahrerlebnisschalter inkl. ECO PRO"},{displayOrder:"23",name:"Schaltgetriebe, 6-Gang"},{displayOrder:"24",name:"Schaltpunktanzeige für Schaltgetriebe"},{displayOrder:"25",name:"Servotronic, geschwindigkeitsabhängige Anpassung der Lenkkraftunterstützung"},{displayOrder:"26",name:"Auspuffendrohr, doppelt, rund, links"},{displayOrder:"27",name:"Exterieurumfänge in Wagenfarbe"},{displayOrder:"28",name:"Fensterschachtabdeckungen und Blende Fensterrahmen in Chrom"},{displayOrder:"29",name:"Frontziergitter mit Nieren-Längsstäben in Chrom, mit Chromrahmen"},{displayOrder:"30",name:'"17"" Leichtmetallräder V-Speiche 236 ohne Notlaufeigenschaften, 8Jx17 mit Bereifung 225/55, inkl. BMW Mobility-Set"'},{displayOrder:"31",name:"Akzentleiste in Perlglanz Chrom"},{displayOrder:"32",name:"Einstiegsleisten"},{displayOrder:"33",name:"Fußmatten in Velours vorn und hinten"},{displayOrder:"34",name:"Interieurleisten Schwarz hochglänzend"},{displayOrder:"35",name:"Polsterung Stoff Diagonal"},{displayOrder:"36",name:"Seriensitz vorn mit teilelektrischer Verstellung für Sitzhöhe und Sitzlehne"},{displayOrder:"37",name:"Lederlenkrad, 3-Speichen, mit Multifunktionstasten, mechanisch längs- und höhenverstellbar"},{displayOrder:"38",name:"Heckscheibenheizung mit Abschaltautomatik"},{displayOrder:"39",name:"Klimaautomatik mit 2-Zonenregelung, Temperatur für Fahrer und Beifahrer getrennt regelbar, digitale Temperaturanzeige, Umluft, Beschlagsensor, Restwärmenutzung, Mikrofilter mit Frischluft- und Umluftfilterung"},{displayOrder:"40",name:"Kombinierte Wärme-/Sonnenschutzverglasung rundum"},{displayOrder:"41",name:"Geschwindigkeitsregelung mit Bremsfunktion"},{displayOrder:"42",name:"Schlüsselloser Motorstart"},{displayOrder:"43",name:"Start-/Stop-Knopf"},{displayOrder:"44",name:"Auflicht vorn, indirekte Beleuchtung der Mittelkonsole"},{displayOrder:"45",name:"Automatische Fahrlichtsteuerung"},{displayOrder:"46",name:"Außenspiegel asphärisch, beheizt, elektrisch einstellbar"},{displayOrder:"47",name:"Fußraumleuchten vorn"},{displayOrder:"48",name:"Halogenscheinwerfer"},{displayOrder:"49",name:"Leuchtringe für Park- und Standlicht"},{displayOrder:"50",name:"Nebelscheinwerfer"},{displayOrder:"51",name:"Regensensor, automatische Aktivierung/Intervallsteuerung der Scheibenwischer"},{displayOrder:"52",name:"Scheibenwaschdüsen beheizt"},{displayOrder:"53",name:"Ablagefächer in der Mittelkonsole vorn und hinten"},{displayOrder:"54",name:"Ablagenetz im Beifahrerfußraum"},{displayOrder:"55",name:"Armauflage Mittelkonsole vorn mit Ablagefach"},{displayOrder:"56",name:"Fensterheber elektrisch vorn und hinten, mit Einklemmschutz und Komfortschließen bzw. Komfortöffnen rundum"},{displayOrder:"57",name:"Getränkehalter vorn und hinten"},{displayOrder:"58",name:"Klapptaschen an den Lehnenrückwänden der vorderen Sitze"},{displayOrder:"59",name:"Lenksäulenverstellung manuell, längs- und höhenverstellbar"},{displayOrder:"60",name:"Mittelarmlehne im Fond, klappbar mit Ablagefach"},{displayOrder:"61",name:"Nichtraucherpaket"},{displayOrder:"62",name:"Personal Profile, schlüsselabhängige Personalisierung wichtiger Bedienfunktionen"},{displayOrder:"63",name:"Steckdosen (12 V) im Ablagefach vorn, Ablagefach Mittelkonsole und Mittelkonsole hinten"},{displayOrder:"64",name:"Verzurrösen im Gepäckraum"},{displayOrder:"65",name:"AUX-IN-Anschluss zum Verbinden externer Audioquellen"},{displayOrder:"66",name:"Außentemperaturanzeige"},{displayOrder:"67",name:"Bordcomputer inkl. Check-Control"},{displayOrder:"68",name:'"Control Display 6,5"", hochauflösender Farbbildschirm"'},{displayOrder:"69",name:"Controller auf Mittelkonsole"},{displayOrder:"70",name:"Drehzahlmesser mit Energie Control und Anzeige der Bremsenergierückgewinnung"},{displayOrder:"71",name:"Favoritentasten, 8 frei belegbare Tasten zur Speicherung u.a. von Radiosendern, Telefonnummern, Navigationszielen"},{displayOrder:"72",name:"Freisprecheinrichtung mit USB-Schnittstelle: Bluetooth-Schnittstelle zur Verbindung kompatibler Mobiltelefone mit dem Fahrzeug, Freisprecheinrichtung, USB-Anschluss für MP3-Player oder USB-Speichersticks zum Abspielen von Audio Dateien"},{displayOrder:"73",name:'"Instrumentenkombination mit Analoginstrumenten, Black-Panel Technologie, 5,7"" Info Display (Farbdisplay), ActiveHybrid 5 9,2"" Info Display"'},{displayOrder:"74",name:"Radio Professional mit CD-Laufwerk (Doppel-Tuner, MP3-fähig), 6 Lautsprecher, Heckscheibenantenne"},{displayOrder:"75",name:"Service Bedarfsanzeige"}],name:" "}},transmissionSection:{name:"Getriebe",transmission:{name:"Getriebe",value:"Manuelles Getriebe"}},valid:"true"},status:{responseStatus:"OK"}})}}function H(L){L.success({annualUseOptions:[{code:"10000",name:"10.000"},{code:"20000",name:"20.000"},{code:"30000",name:"30.000"},{code:"40000",name:"40.000"},{code:"50000",name:"50.000"},{code:"60000",name:"60.000"},{code:"70000",name:">60.000"}],usageOptions:[{code:"PRIVATE_AND_BUSINESS",name:"Both"},{code:"BUSINESS",name:"Business"},{code:"PRIVATE",name:"Private"}],vehicleTypeOptions:[{code:"VD3_2",name:"Demonstrationvehicle"},{code:"NEW",name:"Newvehicle"},{code:"USED",name:"Usedvehicle"}]})}function I(L){L.success([{code:"BMW",name:"BMW",sortation:"1"},{code:"0001",name:"Some brand",sortation:"1"},{code:"0002",name:"Another brand",sortation:"1"},{code:"0003",name:"Yet another brand",sortation:"1"},{code:"0004",name:"Ici! Un brand",sortation:"1"}])}function F(L){L.success([{brand:"MINI",connectedDrive:"false",connectedDrivePossible:"false",initialRegistration:"2011-03-01T00:00:00.000Z",model:"ML32",noPlannedPurchase:"true",series:"R55",vehicleId:"11977",version:"1"},{brand:"BMW",connectedDrive:"false",connectedDrivePossible:"false",model:"ZV32",noPlannedPurchase:"true",series:"E87",vehicleId:"12577",version:"1"},{brand:"CHRYSLER",connectedDrive:"false",connectedDrivePossible:"false",noPlannedPurchase:"false",series:"2255",vehicleId:"12578",version:"1"},{brand:"Rolls-Royce",connectedDrive:"false",connectedDrivePossible:"false",noPlannedPurchase:"false",series:"2047",vehicleId:"12579",version:"1"},{brand:"DAIMLER",connectedDrive:"false",connectedDrivePossible:"false",noPlannedPurchase:"false",series:"1680",vehicleId:"12580",version:"1"},{brand:"AUDI",connectedDrive:"false",connectedDrivePossible:"false",noPlannedPurchase:"false",series:"1563",vehicleId:"12929",version:"1"}])}function D(M){var L=function(){M.success([{brand:"BMW",connectedDrive:"false",connectedDrivePossible:"false",model:"ZV32",modelText:"BMW 640d M Sport Convertible (from 2011)",freeTextNote:"Schönes Cabrio",noPlannedPurchase:"true",series:"E87",vehicleId:"12577",version:"1",primary:"true",vehicleType:"VD3_2",annualUse:"5555",mileage:"12313",usage:"PRIVATE_AND_BUSINESS",images:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiM%25GEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hpyMLoACeOqhJHFlH4pou%25KXwujHSfWQfEB%25V1PaP3ZfNEbnbdX10s9OloJE4riIrMoscZwBZ4krxRteR5KZ857M5g7RUgChZWG5GvloqkUgp2XH2Lsv6jQ%25o6x2YDafaiPjmqn1qYfDyLOELm0qTMxot1G7c1QALc5GaRhj5sgXAWHCrmQvi3D%25zWUM1PdqJujmq4z7FbNx",veryBigUrl:"//cosy-int.bmwgroup.com/next/cosy?BRAND=WBBM&VEHICLE=LW32&WIDTH=820&BKGND=TRANSPARENT&RESP=PNG&SA=S06AC,S0423,S06NR,S06AK,S0609,S0441,S06AN,S0430,S04UR,S02SR,S06UK,S04B9,S0508,S05A1,S0302,S02TB,S0494&CLIENT=ncc&ANGLE=50&POV=WALKAROUND"}},{brand:"BMW",connectedDrive:"false",connectedDrivePossible:"false",model:"ZV31",modelText:"BMW 640d M Sport Convertible (from 2012)",freeTextNote:"Schönes Cabrio 2",noPlannedPurchase:"true",series:"E87",vehicleId:"12578",version:"1",mileage:"12314",vehicleType:"VD3_2",annualUse:"5555",usage:"PRIVATE_AND_BUSINESS",images:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeiM%25GEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hpyMLoACeOqhJHFlH4pou%25KXwujHSfWQfEB%25V1PaP3ZfNEbnbdX10s9OloJE4riIrMoscZwBZ4krxRteR5KZ857M5g7RUgChZWG5GvloqkUgp2XH2Lsv6jQ%25o6x2YDafaiPjmqn1qYfDyLOELm0qTMxot1G7c1QALc5GaRhj5sgXAWHCrmQvi3D%25zWUM1PdqJujmq4z7FbNx",veryBigUrl:"//cosy-int.bmwgroup.com/next/cosy?BRAND=WBBM&VEHICLE=ZV82&WIDTH=820&BKGND=TRANSPARENT&RESP=PNG&SA=S0386,S05DA,S04AB,S0423,S0534,S0508,S0459,S0544,S0522,S0431,S0441,S0302,S02DE,S0502&CLIENT=ncc&ANGLE=50&POV=WALKAROUND"}},{brand:"BMW",connectedDrive:"false",connectedDrivePossible:"false",model:"ZV30",modelText:"BMW 640d M Sport Convertible (from 2013)",freeTextNote:"Schönes Cabrio 3",noPlannedPurchase:"true",series:"E87",vehicleId:"12579",version:"1",vehicleType:"VD3_2",mileage:"12312",annualUse:"5555",usage:"PRIVATE_AND_BUSINESS",images:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hNUMLoACo1nhJHFlEULou%25KX%251IHSfWQlSD%25V1PaHcUfNEbnEVq10s9OsN3E4riI15HscZwBwAvrxRtetFtZ857MBmfRUgChgvC5GvloRsUgp2XH5rzv6jQ%25JL12YDafD97jmqn1hiDDyLOELZ5qTJIsD8SL3uBrBC1JdSeZS3xuzVMRMX7Sk%25p1XZmQGZIPVGjmB2fJj5DOPiEagdIqCAusKiY%25ZwFSN0JdSUKQbtxp",veryBigUrl:"//cosy-int.bmwgroup.com/next/cosy?BRAND=WBBM&VEHICLE=3A12&WIDTH=820&BKGND=TRANSPARENT&RESP=PNG&SA=S0544,S05DA,S02DX,S0249,S0423,S0654,S06NH,S04CG,S0302,S0240,S0520&CLIENT=ncc&ANGLE=50&POV=WALKAROUND"}},{annualUse:"20000",brand:"BMW",brandText:"BMW",connectedDrive:"false",connectedDrivePossible:"false",freeTextNote:"BA.Online",initialRegistration:"2008-02-01T00:00:00.000Z",mileage:"12312",model:"UB32",modelText:"BMW 118d 3-door (2006 - 2010)",noPlannedPurchase:"false",primary:"false",series:"E81",seriesText:"BMW 1 Series 3-door Sports Hatch",usage:"PRIVATE_AND_BUSINESS",vehicleId:"15606",vehicleType:"VD3_2",version:"1",images:{bigUrl:"//cosy-int.bmwgroup.com/next/cosy?BRAND=WBBM&VEHICLE=LX72&FABRIC=FLCSW&PAINT=P0475&WIDTH=460&HEIGHT=255&BKGND=TRANSPARENT&RESP=PNG&CLIENT=ncc&ANGLE=50&POV=WALKAROUND",mediumUrl:"//cosy-int.bmwgroup.com/next/cosy?BRAND=WBBM&VEHICLE=LX72&FABRIC=FLCSW&PAINT=P0475&WIDTH=300&HEIGHT=166&BKGND=TRANSPARENT&RESP=PNG&CLIENT=ncc&ANGLE=50&POV=WALKAROUND",smallUrl:"//cosy-int.bmwgroup.com/next/cosy?BRAND=WBBM&VEHICLE=LX72&FABRIC=FLCSW&PAINT=P0475&WIDTH=210&HEIGHT=116&BKGND=TRANSPARENT&RESP=PNG&CLIENT=ncc&ANGLE=50&POV=WALKAROUND",veryBigUrl:"//cosy-int.bmwgroup.com/next/cosy?BRAND=WBBM&VEHICLE=LX72&FABRIC=FLCSW&PAINT=P0475&WIDTH=619&BKGND=TRANSPARENT&RESP=PNG&CLIENT=ncc&ANGLE=50&POV=WALKAROUND",veryBigUrl820:"//cosy-int.bmwgroup.com/next/cosy?BRAND=WBBM&VEHICLE=LX72&FABRIC=FLCSW&PAINT=P0475&WIDTH=820&BKGND=TRANSPARENT&RESP=PNG&CLIENT=ncc&ANGLE=50&POV=WALKAROUND"}}])};setTimeout(L,100)}function G(L){L.success([{"@type":"VehicleStoreData",brand:"268437674",brandText:"DAEWOO",connectedDrive:"false",connectedDrivePossible:"false",initialRegistration:"2013-03-01T00:00:00.000Z",mileage:"0",model:"268439048",modelText:"Limousine 1.5 (ab 1999)",freeTextNote:"Mein derzeitiges Fahrzeug",noPlannedPurchase:"false",series:"268438254",seriesText:"Racer Limousine",vehicleId:"12131",version:"1",vehicleType:"Gebrauchtwagen",annualUse:"5555",usage:"beruflich",images:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hNUMLoACo1nhJHFlEULou%25KX%251IHSfWQlSD%25V1PaHcUfNEbnEVq10s9OsN3E4riI15HscZwBwAvrxRtetFtZ857MBmfRUgChgvC5GvloRsUgp2XH5rzv6jQ%25JL12YDafD97jmqn1hiDDyLOELZ5qTJIsD8SL3uBrBC1JdSeZS3xuzVMRMX7Sk%25p1XZmQGZIPVGjmB2fJj5DOPiEagdIqCAusKiY%25ZwFSN0JdSUKQbtxp",veryBigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA"}}])}function K(L){L.success([{"@type":"VehicleStoreData",brand:"268437674",brandText:"DAEWOO",connectedDrive:"false",connectedDrivePossible:"false",initialRegistration:"2013-03-01T00:00:00.000Z",mileage:"0",model:"268439048",modelText:"Limousine 1.5 (ab 1999)",freeTextNote:"Mein derzeitiges Fahrzeug",noPlannedPurchase:"false",series:"268438254",seriesText:"Racer Limousine",vehicleId:"12131",version:"1",vehicleType:"Gebrauchtwagen",annualUse:"5555",usage:"beruflich",images:{bigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",mediumUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFr%255eqKSYpRl6swTY1vQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA",smallUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFi95eqKSYpRl6swTYA6Q53RoIBeayVt6refTkqSbfFe0R23Ey2od0zuzHMxBzcztPfjeqhk7hNUMLoACo1nhJHFlEULou%25KX%251IHSfWQlSD%25V1PaHcUfNEbnEVq10s9OsN3E4riI15HscZwBwAvrxRtetFtZ857MBmfRUgChgvC5GvloRsUgp2XH5rzv6jQ%25JL12YDafD97jmqn1hiDDyLOELZ5qTJIsD8SL3uBrBC1JdSeZS3xuzVMRMX7Sk%25p1XZmQGZIPVGjmB2fJj5DOPiEagdIqCAusKiY%25ZwFSN0JdSUKQbtxp",veryBigUrl:"//cosy-int.bmwgroup.com/next/cosySec?COSY-EU-100-7331c9Nv2Z7d5yKlHS9P3AKWL2JeipjeEgpn23HGfvQFI55eqKSYpRl6swTF9QQ53RoIBeayVO0c5CnvzTomvhv0YnByX324NBGTQdjcy6h3azDxKFUdnuiVrc7Z9cvMz9672pST68YgMHNRUQvmEO30BHtuc%25IdkA"}}])}return{__init__:function(){},__start__:function(){},initMock:function(){function L(N,M){window.setTimeout(function(){N(M)},200)}rlNccServices.getConfigCount=function(M){L.call(this,B,M)};rlNccServices.getPreOwnedVehicleCount=function(M){L.call(this,A,M)};rlNccServices.loadPreOwnedVehicle=function(M){L.call(this,G,M)};rlNccServices.getShortConfigList=function(M){L.call(this,J,M)};rlNccServices.loadPrimary=function(M){L.call(this,E,M)};rlNccServices.getConfig=function(M){L.call(this,C,M)};rlNccServices.listPreOwnedVehicleEnumerations=function(M){L.call(this,H,M)};rlNccServices.modelTreeListBrands=function(M){L.call(this,I,M)};rlNccServices.getNccSummaryForConfig=function(P,O,M,N){rlNxt.call({type:"GET",url:O==="RFX"?"/apps/bmwnext/base/parComponents/fieldsetforms/formDataSources/vehicleRFXProfileDS/vehicleProfileDSMock.html":"/apps/bmwnext/base/parComponents/fieldsetforms/formDataSources/vehicleMyBMWProfileDS/vehicleProfileDSMock.html",success:function(Q){if(Q!=null&&Q.length>0){M(Q)}else{N(Q)}},error:function(Q){N(Q)},dataType:"html"})};rlNccServices.getNccSummaryForConfigUrl=function(O,P,M,N){rlNxt.call({type:"GET",url:"/apps/bmwnext/base/parComponents/fieldsetforms/formDataSources/vehicleRFXProfileDS/vehicleProfileDSMock.html",success:function(Q){if(Q!=null&&Q.length>0){M(Q)}else{N(Q)}},error:function(Q){N(Q)},dataType:"html"})};rlNccServices.listPreOwnedVehicleSummaries=function(M){L.call(this,F,M)};rlNccServices.listPreOwnedBMWVehicleSummaries=function(M){L.call(this,D,M)};rlNccServices.createPreOwnedVehicle=function(M){L.call(this,K,M)}}}}();var rlRfxSubBrandService=function(){var B={BI:"BI",BM:"BM"};var E={TDA:"TDA",RFO:"RFO",RFA:"RFA",RFS:"RFS",RFI:"RFI",DLO:"DLO",CONTACT:"CONTACT"};function C(F){if(rlContextObject.getContextObject().page.isDealer){return A(F,rlContextObject.getContextObject().outlet)}else{if(isDefined(rlContextObject.getContextObject().vehicle.seriesId)||isDefined(rlContextObject.getContextObject().vehicle.vehicleId)){return D(rlContextObject.getBrandSubbrand())}else{return null}}}function A(I,J){var G=isDefined(J.BM);var K=isDefined(J.BI);if(G&&K){var F=false;var H=false;switch(I){case E.TDA:F=J.BM.TDA;H=J.BI.TDA;break;case E.RFO:F=J.BM.RFO;H=J.BI.RFO;break;case E.RFA:F=J.BM.RFA;H=J.BI.RFA;break;case E.RFS:F=J.BM.RFS;H=J.BI.RFS;break;case E.RFI:F=J.BM.RFI;H=J.BI.RFI;break;case E.DLO:F=true;H=true;break}if(F&&H){return null}else{if(!F&&!H){return null}else{if(F){return B.BM}else{if(H){return B.BI}}}}}else{if(G){return B.BM}else{if(K){return B.BI}else{throw new Error("Outlet seems to support neither BMW AG nor BMW i according to context object data!")}}}}function D(F){if(F==="brand-bmw"){return B.BM}else{if(F==="brand-bmwi"){return B.BI}else{if(isDefined(rlContextObject.getContextObject().vehicle.seriesId)&&typeof F==="undefined"){return B.BM}else{throw new Error("rlRfxSubBrandService unable to map contextObjectSubBrand '"+F+"' to rfxSubBrand!")}}}}return{rfxSubBrands:B,outletRfxTypes:E,__init__:function(){},__start__:function(){},computeUniqueSubBrand:function(F){return C(F)}}}();rlSpeedTrapController=function(){function A(){rlCookieController.checkVisitorId(function(){rlSpeedTrapController.includeSpeedTrapScript()});jq(window).bind(rlCookieController.getOptStatusChangeEvent(),function(){rlCookieController.checkVisitorId(function(){rlSpeedTrapController.includeSpeedTrapScript()})})}function B(){var C;C=document.createElement("script");C.setAttribute("type","text/javascript");C.setAttribute("src",rlSpeedTrapScriptUrl);document.getElementById("speedTrapContainer").appendChild(C)}return{__init__:A,includeSpeedTrapScript:B}}();var rlUserDialog=function(){var C=false;function B(){var E=new RegExp("[\\?&]url=([^&#]*)").exec(window.location.href);return E!=null?E[1]:""}function A(F,G){window.rfxContextParams=G;if(MANDATOR_SUPPORTED_SUBBRANDS.length>1&&isDefined(window.rfxContextParams)&&isDefined(window.rfxContextParams.configId)&&window.rfxContextParams.configId!==-1){rlNccServices.getConfig({configId:window.rfxContextParams.configId,isPub:true,success:function(H){if(rlNccServices.isSubBrandBMW(H.content)){window.rfxContextParams.subBrand="BM"}else{if(rlNccServices.isSubBrandBMWi(H.content)){window.rfxContextParams.subBrand="BI"}else{console.error("Config with configId "+configId+" is neither BMW AG nor BMW i!")}}E()},error:function(){rlErrorService.handleError({actor:rlErrorService.ACTOR_USER})}})}else{E()}function E(){rlComponentLoader.requireComponentWithDeferredExec(["glassPaneLayerNext"],function(){rlGlassPaneLayerNext.openDialog({url:F,keepUrlHash:C,autoWcmMode:true,waitforcallback:true})})}}function D(){if(rlPage.isUseMock()&&rlPage.isRunningOnLocalhostAuthorInstance()){for(var G in window){if(G&&window.hasOwnProperty(G)&&window[G]&&typeof (window[G])==="string"){var F="cmx-bounce.bmwgroup.net";var E=window[G].toLowerCase().indexOf(F);if(E>=0){window[G]=window[G].substring(0,E)+window.location.host+window[G].substring(E+F.length)}}}if(typeof (rlHost)!=="undefined"){rlHost.getCmxHost=function(){return window.location.protocol+"://"+window.location.host}}}}return{__init__:function(){D()},close:function(){rlGlassPaneLayerNext.closeDialog()},showLoginDialog:function(F){var E=(F&&F.trackingParam!=null)?"?process="+F.trackingParam:"";rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_LOGIN_LAYER,params:F,httpsCallback:function(H){var G=(F&&F.onGlassPaneLayerClosed)?F.onGlassPaneLayerClosed:function(){};rlGlassPaneLayerNext&&rlGlassPaneLayerNext.openDialog({url:jq.param.querystring(GLOBAL_LOGIN_PAGE_PATH,E),keepUrlHash:C,onAfterAjaxContentLoaded:function(){rlComponentLoader.requireComponentWithDeferredExec("loginLayer",function(){var I=rlLoginLayer.getLoginLayerDom(jq(".gplnContent"));I.find(".loginLayerLogin").focus();if(H&&H.registrationURL){var J=rlLoginLayer.getInstance(I.attr("id"));J.setRegistrationUrl(H.registrationURL)}})},onClose:G})}})},showRegistrationDialog:function(F){try{if(rlMandator.getCountry()=="NL"&&!rlPage.isEditMode()&&!rlPage.isDesignMode()){_stq=_stq||[];_stq.push(["resetTags"]);_stq.push(["setPageStructure","nl","popup","mybmw-reg","show"]);_stq.push(["loadTags"])}}catch(G){console.log("NL-Tracking error in userDialog:"+G)}var E=GLOBAL_REGISTRATION_PAGE_PATH;if(typeof F!=="undefined"){if(F.registrationPageUrl){E=F.registrationPageUrl}if(F.leadContext){window.globalLeadContext=F.leadContext}}rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_REGISTRATION_LAYER,params:F,httpsCallback:function(){rlComponentLoader.requireComponentWithDeferredExec("coreServices",function(){rlCoreServices.resetImplicitLogin({success:function(){rlGlassPaneLayerNext.openDialog({url:E,keepUrlHash:C,waitforcallback:true})}})})}})},showC2bRegistrationDialog:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_LOGIN_C2BREGISTRATION,httpsCallback:function(){rlComponentLoader.requireComponentWithDeferredExec("coreServices",function(){rlCoreServices.canUseImplicitLogin({useCache:false,canUse:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_C2B_REGISTRATION_PAGE_PATH,keepUrlHash:C,waitforcallback:true,onAfterAjaxContentLoaded:function(){jq(".glassPaneLayerContent").find("form.userRegisterForm").attr("data-registertype","REGISTRATION_C2B")}})}})})}})},showPolicyAgreeDialog:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_LOGIN_POLICYAGREE,params:E,httpsCallback:function(){rlComponentLoader.requireComponentWithDeferredExec(["loginWithPolicyConsent"],function(){rlComponentLoader.requireComponentWithDeferredExec("coreServices",function(){rlCoreServices.canUseImplicitLogin({useCache:false,canUse:function(){rlLoginWithPolicyConsent.reset();rlLoginWithPolicyConsent.setPolicyUrl(E.policyUrl);rlUserDialog.showLoginWithPolicyConsent(E)}})})})}})},showPolicyRevokeDialog:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_LOGIN_POLICYREVOKE,params:E,httpsCallback:function(F){rlComponentLoader.requireComponentWithDeferredExec(["revokepolicy"],function(){rlUserDialog.showRevokePolicy()})}})},showForgottenPasswordDialog:function(){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_FORGOTTENPASSWORD_LAYER,httpsCallback:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_PASSWORD_FORGOTTEN_PAGE_PATH,keepUrlHash:C})}})},showPasswordLinkSendDialog:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_PASSWORD_LINK_SEND_PAGE_PATH,keepUrlHash:C})},showAccountDeactivatedDialog:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_ACCOUNT_DEACTIVATED_PAGE_PATH,keepUrlHash:C})},showUsernameChangeInfoDialog:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_USERNAME_CHANGE_INFO_PAGE_PATH,keepUrlHash:C})},showResendActivationLinkInfoDialog:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_RESEND_ACTIVATION_LINK_INFO_PAGE_PATH,keepUrlHash:C})},showResendUsernameChangeLinkInfoDialog:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_RESEND_USERNAME_CHANGE_LINK_INFO_PAGE_PATH,keepUrlHash:C})},showCampaignParticipationDialog:function(F){function E(){window.bmw_campaign_id=F.campaignId;window.bmw_campaign_offerid=F.campaignOfferId;window.bmw_campaign_treatmentid=F.campaignTreatmentId;window.bmw_campaign_responseType=F.campaignResponseType;window.bmw_campaign_leadContext=F.leadContext}rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_CAMPAIGN_PARTICIPATION_LAYER,params:F,httpsCallback:function(G){rlGlassPaneLayerNext.openDialog({url:GLOBAL_RFC1_PAGE_URL,keepUrlHash:C,waitforcallback:true})}})},showConfigSelector:function(E){rlHttpsWorkflow.triggerWorkflow(rlHttpsWorkflow.WORKFLOW_NCC_SHOWCONFIGSELECTOR,E)},showConfigDeleteDialog:function(F){var E=F.onClose||jq.noop;window.deleteConfigId=F.configId;rlGlassPaneLayerNext.openDialog({url:GLOBAL_CONFIG_DELETE_DIALOG_URL,keepUrlHash:C,waitforcallback:true,onClose:function(){window.deleteConfigId=undefined;E()}})},showConfigRenameDialog:function(E){rlGlassPaneLayerNext.openDialog({url:GLOBAL_CONFIG_RENAME_DIALOG_URL,keepUrlHash:C,onClose:E.onClose})},showConfigShareDialog:function(F){var E=F.onClose||jq.noop;window.shareConfigId=F.configId;rlGlassPaneLayerNext.openDialog({url:GLOBAL_CONFIG_SHARE_DIALOG_URL,keepUrlHash:C,waitforcallback:true,onClose:function(){window.shareConfigId=undefined;E()}})},showConfigShareSuccessDialog:function(F){var E=F.onClose||jq.noop;window.shareConfigId=F.configId;rlGlassPaneLayerNext.openDialog({url:GLOBAL_CONFIG_SHARE_SUCCESS_DIALOG_URL,keepUrlHash:C,waitforcallback:true,onClose:function(){window.shareConfigId=undefined;E()}})},showConfigUnShareDialog:function(F){var E=F.onClose||jq.noop;window.unShareConfigId=F.configId;rlGlassPaneLayerNext.openDialog({url:GLOBAL_CONFIG_UNSHARE_DIALOG_URL,keepUrlHash:C,waitforcallback:true,onClose:function(){window.unShareConfigId=undefined;E()}})},showConfigBuyDialog:function(F){var E=F.onClose||jq.noop;window.buyConfigId=F.configId;rlGlassPaneLayerNext.openDialog({url:GLOBAL_CONFIG_BUY_DIALOG_URL,keepUrlHash:C,onClose:function(){window.buyConfigId=undefined;E()},waitforcallback:true})},showVehicleSelector:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_VEHICLE_SELECTOR_PATH,keepUrlHash:C,headerContent:".gplContentHeader",waitforcallback:true})},showVehicleRenameDialog:function(E){rlGlassPaneLayerNext.openDialog({url:GLOBAL_VEHICLE_RENAME_DIALOG_URL,keepUrlHash:C,waitforcallback:true,onAfterAjaxContentLoaded:function(){rlMyVehicleRename.initComponent(E.vehicle)}})},showVehicleDeleteDialog:function(E){rlGlassPaneLayerNext.openDialog({url:GLOBAL_VEHICLE_DELETE_DIALOG_URL,keepUrlHash:C,waitforcallback:true,onAfterAjaxContentLoaded:function(){rlMyvehicledelete.initComponent(E.vehicleId)}})},showAddVinToMyVehicleDialog:function(E){rlGlassPaneLayerNext.openDialog({url:GLOBAL_ADD_VIN_TO_MY_VEHICLE_DIALOG_URL,keepUrlHash:C,waitforcallback:true,onAfterAjaxContentLoaded:function(){rlAddVinToMyVehicleForm.setVehicle(E.vehicle)}})},redirectToSessionTimeoutDialog:function(){var F=location.href;if(jq("form.espForm").length!==0){rlGlassPaneLayerNext.openDialog({url:GLOBAL_SESSION_TIMEOUT_PAGE_PATH,keepUrlHash:C,onClose:function(){window.location.reload()}});return }if(typeof GLOBAL_REDIRECT_AFTER_LOGIN_PATH!=="undefined"){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.host}F=window.location.origin+GLOBAL_REDIRECT_AFTER_LOGIN_PATH}var E=jq.param.querystring(F,"url="+encodeURIComponent(GLOBAL_SESSION_TIMEOUT_PAGE_PATH));window.location.href=E},redirectToUsernameChangeInfoDialog:function(){var E=jq.param.querystring(GLOBAL_CMX_JS_SERVER+GLOBAL_MY_DASHBOARD_PAGE_PATH,"url="+encodeURIComponent(GLOBAL_USERNAME_CHANGE_INFO_PAGE_PATH));window.location.href=E},redirectToMyBmwVehiclesPage:function(F){var E=location.href;if(GLOBAL_CONFIG_SAVED_AS_BOUGHT_SUCCESS_URL){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.host}E=window.location.origin+GLOBAL_CONFIG_SAVED_AS_BOUGHT_SUCCESS_URL;if(F){E+="#vehicleId="+F}}window.location.href=E},redirectToMyBmwMyConfigurationsPage:function(F){var E=location.href;if(GLOBAL_MY_CONFIGURATIONS_URL){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.host}E=window.location.origin+GLOBAL_MY_CONFIGURATIONS_URL;if(F){E+="#configId="+F}}window.location.href=E},redirectToMyDashboard:function(G){var E=(G&&G.protocol&&G.hostname)?G.protocol+"//"+G.hostname:"";var F=E+GLOBAL_MY_DASHBOARD_PAGE_PATH;window.location.href=F},redirectToHome:function(F){var E=(F&&F.protocol&&F.hostname)?F.protocol+"//"+F.hostname:"/";window.location.href=E},showContactForm:function(E){E=E||{};var F;if(rlContextObject.isDealer()===true&&rlContextObject.isOutletContactHidden()===false){if(E.dealerOfferReferenceId!==undefined){F=DEALER_REQUESTFORM_PAGE_URL}else{F=DEALER_CONTACTFORM_PAGE_URL}}else{F=GLOBAL_CONTACTFORM_PAGE_URL}rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_CONTACTFORM,params:E,httpsCallback:function(G){G=G||{};window.dealerOfferReferenceId=G.dealerOfferReferenceId;rlComponentLoader.requireComponentWithDeferredExec(["glassPaneLayerNext"],function(){rlGlassPaneLayerNext.openDialog({url:F,keepUrlHash:C,autoWcmMode:true,waitforcallback:true,forceSubbrand:"brand-bmw",onClose:function(){window.dealerOfferReferenceId=undefined}})})}})},showCallbackForm:function(){var E=GLOBAL_CALLBACKFORM_PAGE_URL;rlComponentLoader.requireComponentWithDeferredExec(["glassPaneLayerNext"],function(){rlGlassPaneLayerNext.openDialog({url:E,keepUrlHash:C,forceSubbrand:"brand-bmw",autoWcmMode:true})})},showRequestDLO:function(E){A(GLOBAL_DLO_PAGE_URL,E)},showRequestRFO:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_RFO,params:E,httpsCallback:function(F){F=F||{};var G={configId:F.configId,distributionPartnerId:F.distributionPartnerId,outletId:F.outletId,subBrand:F.subBrand};A(GLOBAL_RFO_PAGE_URL,G)}})},showRequestRFOSpecialCustomer:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_RFO_SPECIAL_CUSTOMER,params:E,httpsCallback:function(F){F=F||{};var G={configId:F.configId,distributionPartnerId:F.distributionPartnerId,outletId:F.outletId,subBrand:F.subBrand};A(GLOBAL_ESP_RFO_SPECIAL_CUSTOMER_PAGE_URL,G)}})},showRequestRFP:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_RFP,params:E,httpsCallback:function(F){F=F||{};var G={configId:F.configId,distributionPartnerId:F.distributionPartnerId,outletId:F.outletId,subBrand:F.subBrand};A(GLOBAL_RFP_PAGE_URL,G)}})},showRequestRFI:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_RFI,params:E,httpsCallback:function(F){F=F||{};var G={configId:F.configId,bodyTypeId:F.bodyTypeId,modelRangeId:F.modelRangeId,seriesId:F.seriesId,materialCode:F.materialCode,subBrand:F.subBrand};A(GLOBAL_RFI_PAGE_URL,G)}})},showRequestRfiPrint:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_RFI_PRINT,params:E,httpsCallback:function(F){F=F||{};var G={configId:F.configId,bodyTypeId:F.bodyTypeId,modelRangeId:F.modelRangeId,seriesId:F.seriesId,materialCode:F.materialCode,subBrand:F.subBrand};A(F.dialogPath||GLOBAL_RFI_PRINT_PAGE_URL,G)}})},showRequestRfiDownload:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_RFI_DOWNLOAD,params:E,httpsCallback:function(F){F=F||{};var G={configId:F.configId,bodyTypeId:F.bodyTypeId,modelRangeId:F.modelRangeId,seriesId:F.seriesId,materialCode:F.materialCode,subBrand:F.subBrand};A(F.dialogPath||GLOBAL_RFI_DOWNLOAD_PAGE_URL,G)}})},showRequestRFA:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_RFA,params:E,httpsCallback:function(F){F=F||{};var G={accessoryId:F.accessoryId,accessoryName:F.accessoryName,priceFormatted:F.priceFormatted,availableFor:F.availableFor};A(GLOBAL_RFA_PAGE_URL,G)}})},showRequestTDA:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({workflowID:rlHttpsWorkflow.WORKFLOW_RFX_TDA,params:E,httpsCallback:function(F){F=F||{};var G={configId:F.configId,bodyTypeId:F.bodyTypeId,modelRangeId:F.modelRangeId,seriesId:F.seriesId,distributionPartnerId:F.distributionPartnerId,outletId:F.outletId,subBrand:F.subBrand};A(GLOBAL_TDA_PAGE_URL,G)}})},showRequestDealerWatchlist:function(E){A(GLOBAL_DEALER_WATCHLIST_PAGE_URL,E)},showLoginWithPolicyConsent:function(E){rlGlassPaneLayerNext.openDialog({url:GLOBAL_LOGIN_WITH_POLICY_CONSENT_PAGE_PATH,keepUrlHash:C,waitforcallback:true})},showRevokePolicy:function(){rlGlassPaneLayerNext.openDialog({url:GLOBAL_REVOKE_POLICY_PAGE_PATH,keepUrlHash:C})},showNccSave:function(E){rlHttpsWorkflow.triggerWorkflow(rlHttpsWorkflow.WORKFLOW_SHOW_NCC_SAVE,E)},showNccSaveConfirm:function(E){E.url=GLOBAL_NCC_SAVE_CONFIRM_DIALOG_URL;E.keepUrlHash=C;rlGlassPaneLayerNext.openDialog(E)},rememberDealer:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({requiredLoggedInUser:true,workflowID:rlHttpsWorkflow.WORKFLOW_DEALER_REMEMBER,params:E,httpsCallback:function(F){F=F||{};var G={attributes:{distributionPartnerId:rlMandator.getDlrPartnerId(),outletId:rlMandator.getDlrOutletId()},_charset_:"utf-8"};rlComponentLoader.requireComponentWithDeferredExec(["preferredDealersModel"],function(){rlPreferredDealersModel.requestPreferredDealers(function(H){if(H!=null){var K=G.attributes.distributionPartnerId+"_"+G.attributes.outletId;var J=false;for(var I=0;I<H.length;I++){if(K==H[I].key){J=true;break}}if(!J){rlPreferredDealersModel.addPreferredDealer(G,function(){},function(L){return ;if(L==rlPreferredDealersModel.errorTypes.ERROR_PDM_CORE){console.error("dealer ["+G.attributes.distributionPartnerId+","+G.attributes.outletId+"] could not be stored to user!");rlComponentLoader.requireComponentWithDeferredExec(["errorService"],function(){rlErrorService.handleError({actor:rlErrorService.ACTOR_USER})})}})}}},function(){console.error("could not fetch preferred dealers")})})}})},manageStoredDealers:function(E){rlHttpsWorkflow.wrapFunctionAsWorkflow({requiredLoggedInUser:true,workflowID:rlHttpsWorkflow.WORKFLOW_DEALER_MANAGE,params:E,httpsCallback:function(F){rlUserDialog.showRequestDealerWatchlist()}})},setKeepUrlHash:function(E){C=(E===true)}}}();